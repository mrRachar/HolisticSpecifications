
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module chainmail</title>
<meta name="description" content="Documentation of Coq module chainmail" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module chainmail</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Export</span> <span class="id">Arith</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">CpdtTactics</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">List</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">common</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">loo_def</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">function_operations</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">Coq.Logic.FunctionalExtensionality</span>.<br/>
<br/>
<div class="doc">Assertion Variables </div>
<br/>
<span class="kwd">Inductive</span> <span class="id">a_var</span> : <span class="kwd">Type</span> :=<br/>
| <span class="id">a_hole</span> : <span class="id">nat</span> -&gt; <span class="id">a_var</span><br/>
| <span class="id">a_bind</span> : <span class="id">var</span> -&gt; <span class="id">a_var</span>.<br/>
<br/>
<div class="doc">Assertion syntax  </div>
<br/>
<span class="kwd">Inductive</span> <span class="id">asrt</span> : <span class="kwd">Type</span> :=<br/>
<div class="doc">Simple: </div>
| <span class="id">a_exp</span>   : <span class="id">exp</span> -&gt; <span class="id">asrt</span><br/>
| <span class="id">a_eq</span>    : <span class="id">exp</span> -&gt; <span class="id">exp</span> -&gt; <span class="id">asrt</span> <br/>
| <span class="id">a_class</span> : <span class="id">exp</span> -&gt; <span class="id">cls</span> -&gt; <span class="id">asrt</span><br/>
| <span class="id">a_set</span>   : <span class="id">exp</span> -&gt; <span class="id">varSet</span> -&gt; <span class="id">asrt</span><br/>
<br/>
<div class="doc">Connectives: </div>
| <span class="id">a_arr</span>   : <span class="id">asrt</span> -&gt; <span class="id">asrt</span> -&gt; <span class="id">asrt</span><br/>
| <span class="id">a_and</span>   : <span class="id">asrt</span> -&gt; <span class="id">asrt</span> -&gt; <span class="id">asrt</span><br/>
| <span class="id">a_or</span>    : <span class="id">asrt</span> -&gt; <span class="id">asrt</span> -&gt; <span class="id">asrt</span><br/>
| <span class="id">a_neg</span>   : <span class="id">asrt</span> -&gt; <span class="id">asrt</span><br/>
<br/>
<div class="doc">Quantifiers: </div>
| <span class="id">a_all_x</span> : <span class="id">asrt</span> -&gt; <span class="id">asrt</span><br/>
| <span class="id">a_all_</span>Σ : <span class="id">asrt</span> -&gt; <span class="id">asrt</span><br/>
| <span class="id">a_ex_x</span>  : <span class="id">asrt</span> -&gt; <span class="id">asrt</span><br/>
| <span class="id">a_ex_</span>Σ  : <span class="id">asrt</span> -&gt; <span class="id">asrt</span><br/>
<br/>
<div class="doc">Permission: </div>
| <span class="id">a_acc</span>   : <span class="id">a_var</span> -&gt; <span class="id">a_var</span> -&gt; <span class="id">asrt</span><br/>
<br/>
<div class="doc">Control: </div>
| <span class="id">a_call</span>  : <span class="id">a_var</span> -&gt; <span class="id">a_var</span> -&gt; <span class="id">mth</span> -&gt; <span class="id">partial_map</span> <span class="id">var</span> <span class="id">a_var</span>  -&gt; <span class="id">asrt</span><br/>
<br/>
<div class="doc">Time: </div>
| <span class="id">a_next</span>  : <span class="id">asrt</span> -&gt; <span class="id">asrt</span><br/>
| <span class="id">a_will</span>  : <span class="id">asrt</span> -&gt; <span class="id">asrt</span><br/>
| <span class="id">a_prev</span>  : <span class="id">asrt</span> -&gt; <span class="id">asrt</span><br/>
| <span class="id">a_was</span>   : <span class="id">asrt</span> -&gt; <span class="id">asrt</span><br/>
<br/>
<div class="doc">Space: </div>
| <span class="id">a_in</span>    : <span class="id">asrt</span> -&gt; <span class="id">varSet</span> -&gt; <span class="id">asrt</span><br/>
<br/>
<div class="doc">Viewpoint: </div>
| <span class="id">a_extrn</span> : <span class="id">a_var</span> -&gt; <span class="id">asrt</span><br/>
| <span class="id">a_intrn</span> : <span class="id">a_var</span> -&gt; <span class="id">asrt</span>.<br/>
<br/>
<span class="kwd">Notation</span> "<span class="id">A1</span> '⇒' <span class="id">A2</span>" := (<span class="id">a_arr</span> <span class="id">A1</span> <span class="id">A2</span>)(<span class="tactic">at</span> <span class="id">level</span> 40).<br/>
<span class="kwd">Notation</span> "<span class="id">A1</span> '∧' <span class="id">A2</span>" :=(<span class="id">a_and</span> <span class="id">A1</span> <span class="id">A2</span>)(<span class="tactic">at</span> <span class="id">level</span> 40).<br/>
<span class="kwd">Notation</span> "<span class="id">A1</span> '∨' <span class="id">A2</span>" :=(<span class="id">a_or</span> <span class="id">A1</span> <span class="id">A2</span>)(<span class="tactic">at</span> <span class="id">level</span> 40).<br/>
<span class="kwd">Notation</span> "'¬' <span class="id">A</span>" :=(<span class="id">a_neg</span> <span class="id">A</span>)(<span class="tactic">at</span> <span class="id">level</span> 40).<br/>
<span class="kwd">Notation</span> "'∀<span class="id">x</span>∙' <span class="id">A</span>" :=(<span class="id">a_all_x</span> <span class="id">A</span>)(<span class="tactic">at</span> <span class="id">level</span> 40).<br/>
<span class="kwd">Notation</span> "'∀<span class="id">S</span>∙' <span class="id">A</span>" :=(<span class="id">a_all_</span>Σ <span class="id">A</span>)(<span class="tactic">at</span> <span class="id">level</span> 40).<br/>
<span class="kwd">Notation</span> "'∃<span class="id">x</span>∙' <span class="id">A</span>" :=(<span class="id">a_ex_x</span> <span class="id">A</span>)(<span class="tactic">at</span> <span class="id">level</span> 40).<br/>
<span class="kwd">Notation</span> "'∃<span class="id">S</span>∙' <span class="id">A</span>" :=(<span class="id">a_ex_</span>Σ <span class="id">A</span>)(<span class="tactic">at</span> <span class="id">level</span> 40).<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> '<span class="id">internal</span>'" :=(<span class="id">a_intrn</span> <span class="id">x</span>)(<span class="tactic">at</span> <span class="id">level</span> 40).<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> '<span class="id">external</span>'" :=(<span class="id">a_extrn</span> <span class="id">x</span>)(<span class="tactic">at</span> <span class="id">level</span> 40).<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> '<span class="id">access</span>' <span class="id">y</span>" :=(<span class="id">a_acc</span> <span class="id">x</span> <span class="id">y</span>)(<span class="tactic">at</span> <span class="id">level</span> 40).<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> '<span class="id">calls</span>' <span class="id">y</span> '∎' <span class="id">m</span> '⟨' <span class="id">vMap</span> '⟩'" :=(<span class="id">a_call</span> <span class="id">x</span> <span class="id">y</span> <span class="id">m</span> <span class="id">vMap</span>)(<span class="tactic">at</span> <span class="id">level</span> 40).<br/>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<br/>
<br/>
<br/>
<span class="kwd">Class</span> <span class="id">Subst</span> (<span class="id">A</span> <span class="id">B</span> <span class="id">C</span> : <span class="kwd">Type</span>) : <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sbst</span> : <span class="id">A</span> -&gt; <span class="id">B</span> -&gt; <span class="id">C</span> -&gt; <span class="id">A</span><br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Notation</span> "'[' <span class="id">c</span> '/<span class="id">s</span>' <span class="id">b</span> ']' <span class="id">a</span>" := (<span class="id">sbst</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span>)(<span class="tactic">at</span> <span class="id">level</span> 80).<br/>
<br/>
<span class="kwd">Instance</span> <span class="id">substExp</span> : <span class="id">Subst</span> <span class="id">exp</span> <span class="id">nat</span> <span class="id">var</span> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sbst</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fix</span> <span class="tactic">subst</span>' <span class="id">e</span> <span class="id">n</span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">e</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">e_hole</span> <span class="id">m</span> =&gt; <span class="kwd">if</span> <span class="id">m</span> =? <span class="id">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id">e_var</span> <span class="id">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">e_eq</span> <span class="id">e1</span> <span class="id">e2</span> =&gt; <span class="id">e_eq</span> (<span class="tactic">subst</span>' <span class="id">e1</span> <span class="id">n</span> <span class="id">x</span>) (<span class="tactic">subst</span>' <span class="id">e2</span> <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">e_if</span> <span class="id">e1</span> <span class="id">e2</span> <span class="id">e3</span> =&gt; <span class="id">e_if</span> (<span class="tactic">subst</span>' <span class="id">e1</span> <span class="id">n</span> <span class="id">x</span>) (<span class="tactic">subst</span>' <span class="id">e2</span> <span class="id">n</span> <span class="id">x</span>) (<span class="tactic">subst</span>' <span class="id">e3</span> <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">e_acc_f</span> <span class="id">e</span>' <span class="id">f</span> =&gt; <span class="id">e_acc_f</span> (<span class="tactic">subst</span>' <span class="id">e</span>' <span class="id">n</span> <span class="id">x</span>) <span class="id">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">e_acc_g</span> <span class="id">e1</span> <span class="id">g</span> <span class="id">e2</span> =&gt; <span class="id">e_acc_g</span> (<span class="tactic">subst</span>' <span class="id">e1</span> <span class="id">n</span> <span class="id">x</span>) <span class="id">g</span> (<span class="tactic">subst</span>' <span class="id">e2</span> <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Instance</span> <span class="id">substAVar</span> : <span class="id">Subst</span> <span class="id">a_var</span> <span class="id">nat</span> <span class="id">var</span> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sbst</span> <span class="id">x</span> <span class="id">n</span> <span class="id">y</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_hole</span> <span class="id">m</span> =&gt; <span class="kwd">if</span> (<span class="id">m</span> =? <span class="id">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id">a_bind</span> <span class="id">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Instance</span> <span class="id">substAVarMap</span> : <span class="id">Subst</span> (<span class="id">partial_map</span> <span class="id">var</span> <span class="id">a_var</span>) <span class="id">nat</span> <span class="id">var</span> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sbst</span> <span class="id">avMap</span> <span class="id">n</span> <span class="id">x</span> := <span class="kwd">fun</span> <span class="id">y</span> =&gt; <span class="id">bind</span> (<span class="id">avMap</span> <span class="id">y</span>) (<span class="kwd">fun</span> <span class="id">z</span> =&gt; <span class="id">Some</span> ([<span class="id">x</span> /<span class="id">s</span> <span class="id">n</span>] <span class="id">z</span>))<br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Instance</span> <span class="id">substAssertionVar</span> : <span class="id">Subst</span> <span class="id">asrt</span> <span class="id">nat</span> <span class="id">var</span> :=<br/>
&nbsp;&nbsp;{<span class="id">sbst</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fix</span> <span class="tactic">subst</span>' <span class="id">A</span> <span class="id">n</span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">A</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_exp</span> <span class="id">e</span>           =&gt; <span class="id">a_exp</span> (<span class="id">sbst</span> <span class="id">e</span> <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_eq</span> <span class="id">e1</span> <span class="id">e2</span>        =&gt; <span class="id">a_eq</span> (<span class="id">sbst</span> <span class="id">e1</span> <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sbst</span> <span class="id">e2</span> <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_class</span> <span class="id">e</span> <span class="id">C</span>       =&gt; <span class="id">a_class</span> (<span class="id">sbst</span> <span class="id">e</span> <span class="id">n</span> <span class="id">x</span>) <span class="id">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_set</span> <span class="id">e</span> Σ         =&gt; <span class="id">a_set</span> (<span class="id">sbst</span> <span class="id">e</span>  <span class="id">n</span> <span class="id">x</span>) Σ<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_arr</span> <span class="id">A1</span> <span class="id">A2</span>       =&gt; <span class="id">a_arr</span> (<span class="tactic">subst</span>' <span class="id">A1</span> <span class="id">n</span> <span class="id">x</span>) (<span class="tactic">subst</span>' <span class="id">A2</span> <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_and</span> <span class="id">A1</span> <span class="id">A2</span>       =&gt; <span class="id">a_and</span> (<span class="tactic">subst</span>' <span class="id">A1</span> <span class="id">n</span> <span class="id">x</span>) (<span class="tactic">subst</span>' <span class="id">A2</span> <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_or</span> <span class="id">A1</span> <span class="id">A2</span>        =&gt; <span class="id">a_or</span> (<span class="tactic">subst</span>' <span class="id">A1</span> <span class="id">n</span> <span class="id">x</span>) (<span class="tactic">subst</span>' <span class="id">A2</span> <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_neg</span> <span class="id">A</span>'          =&gt; <span class="id">a_neg</span> (<span class="tactic">subst</span>' <span class="id">A</span>' <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_all_x</span> <span class="id">A</span>'      =&gt; <span class="id">a_all_x</span> (<span class="tactic">subst</span>' <span class="id">A</span>' (<span class="id">S</span> <span class="id">n</span>) <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_all_</span>Σ <span class="id">A</span>'      =&gt; <span class="id">a_all_</span>Σ (<span class="tactic">subst</span>' <span class="id">A</span>' <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_ex_x</span> <span class="id">A</span>'       =&gt; <span class="id">a_ex_x</span> (<span class="tactic">subst</span>' <span class="id">A</span>' (<span class="id">S</span> <span class="id">n</span>) <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_ex_</span>Σ <span class="id">A</span>'       =&gt; <span class="id">a_ex_</span>Σ (<span class="tactic">subst</span>' <span class="id">A</span>' <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_acc</span> <span class="id">v1</span> <span class="id">v2</span>       =&gt; <span class="id">a_acc</span> (<span class="id">sbst</span> <span class="id">v1</span> <span class="id">n</span> <span class="id">x</span>) (<span class="id">sbst</span> <span class="id">v2</span> <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_call</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">m</span> <span class="id">avMap</span> =&gt; <span class="id">a_call</span> ([<span class="id">x</span> /<span class="id">s</span> <span class="id">n</span>] <span class="id">v1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;([<span class="id">x</span> /<span class="id">s</span> <span class="id">n</span>] <span class="id">v2</span>) <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;([<span class="id">x</span> /<span class="id">s</span> <span class="id">n</span>] <span class="id">avMap</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_next</span> <span class="id">A</span>'         =&gt; <span class="id">a_next</span> (<span class="tactic">subst</span>' <span class="id">A</span>' <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_will</span> <span class="id">A</span>'         =&gt; <span class="id">a_will</span> (<span class="tactic">subst</span>' <span class="id">A</span>' <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_prev</span> <span class="id">A</span>'         =&gt; <span class="id">a_prev</span> (<span class="tactic">subst</span>' <span class="id">A</span>' <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_was</span> <span class="id">A</span>'          =&gt; <span class="id">a_was</span> (<span class="tactic">subst</span>' <span class="id">A</span>' <span class="id">n</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_in</span> <span class="id">A</span>' Σ         =&gt; <span class="id">a_in</span> (<span class="tactic">subst</span>' <span class="id">A</span>' <span class="id">n</span> <span class="id">x</span>) Σ<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_extrn</span> <span class="id">v</span>          =&gt; <span class="id">a_extrn</span> ([<span class="id">x</span> /<span class="id">s</span> <span class="id">n</span>] <span class="id">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_intrn</span> <span class="id">v</span>          =&gt; <span class="id">a_intrn</span> ([<span class="id">x</span> /<span class="id">s</span> <span class="id">n</span>] <span class="id">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Instance</span> <span class="id">varSetSubst</span> : <span class="id">Subst</span> <span class="id">varSet</span> <span class="id">nat</span> <span class="id">varSet</span> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sbst</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fix</span> <span class="tactic">subst</span>' Σ1 <span class="id">n</span> Σ2 :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> Σ1 <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">s_hole</span> <span class="id">m</span> =&gt; <span class="kwd">if</span> (<span class="id">m</span> =? <span class="id">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> Σ2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> Σ1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; Σ1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">Instance</span> <span class="id">substAssertionVarSet</span> : <span class="id">Subst</span> <span class="id">asrt</span> <span class="id">nat</span> <span class="id">varSet</span> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sbst</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fix</span> <span class="tactic">subst</span>' <span class="id">A</span> <span class="id">n</span> Σ :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">A</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_set</span> <span class="id">e</span> Σ'         =&gt; <span class="id">a_set</span> <span class="id">e</span> ([Σ /<span class="id">s</span> <span class="id">n</span>] Σ')<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_arr</span> <span class="id">A1</span> <span class="id">A2</span>       =&gt; <span class="id">a_arr</span> (<span class="tactic">subst</span>' <span class="id">A1</span> <span class="id">n</span> Σ) (<span class="tactic">subst</span>' <span class="id">A2</span> <span class="id">n</span> Σ)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_and</span> <span class="id">A1</span> <span class="id">A2</span>       =&gt; <span class="id">a_and</span> (<span class="tactic">subst</span>' <span class="id">A1</span> <span class="id">n</span> Σ) (<span class="tactic">subst</span>' <span class="id">A2</span> <span class="id">n</span> Σ)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_or</span> <span class="id">A1</span> <span class="id">A2</span>        =&gt; <span class="id">a_or</span> (<span class="tactic">subst</span>' <span class="id">A1</span> <span class="id">n</span> Σ) (<span class="tactic">subst</span>' <span class="id">A2</span> <span class="id">n</span> Σ)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_neg</span> <span class="id">A</span>'          =&gt; <span class="id">a_neg</span> (<span class="tactic">subst</span>' <span class="id">A</span>' <span class="id">n</span> Σ)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_all_x</span> <span class="id">A</span>'      =&gt; <span class="id">a_all_x</span> (<span class="tactic">subst</span>' <span class="id">A</span>' <span class="id">n</span> Σ)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_all_</span>Σ <span class="id">A</span>'      =&gt; <span class="id">a_all_</span>Σ (<span class="tactic">subst</span>' <span class="id">A</span>' (<span class="id">S</span> <span class="id">n</span>) Σ)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_ex_x</span> <span class="id">A</span>'       =&gt; <span class="id">a_ex_x</span> (<span class="tactic">subst</span>' <span class="id">A</span>' (<span class="id">n</span>) Σ)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_ex_</span>Σ <span class="id">A</span>'       =&gt; <span class="id">a_ex_</span>Σ (<span class="tactic">subst</span>' <span class="id">A</span>' (<span class="id">S</span> <span class="id">n</span>) Σ)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_next</span> <span class="id">A</span>'         =&gt; <span class="id">a_next</span> (<span class="tactic">subst</span>' <span class="id">A</span>' <span class="id">n</span> Σ)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_will</span> <span class="id">A</span>'         =&gt; <span class="id">a_will</span> (<span class="tactic">subst</span>' <span class="id">A</span>' <span class="id">n</span> Σ)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_prev</span> <span class="id">A</span>'         =&gt; <span class="id">a_prev</span> (<span class="tactic">subst</span>' <span class="id">A</span>' <span class="id">n</span> Σ)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_was</span> <span class="id">A</span>'          =&gt; <span class="id">a_was</span> (<span class="tactic">subst</span>' <span class="id">A</span>' <span class="id">n</span> Σ)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a_in</span> <span class="id">A</span>' Σ'         =&gt; <span class="id">a_in</span> (<span class="tactic">subst</span>' <span class="id">A</span>' <span class="id">n</span> Σ) ([Σ /<span class="id">s</span> <span class="id">n</span>] Σ')<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>          =&gt; <span class="id">A</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Inductive</span>  <span class="id">closed_exp</span> : <span class="id">exp</span> -&gt; <span class="id">nat</span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id">cl_val</span>   : <span class="kwd">forall</span> <span class="id">v</span> <span class="id">n</span>, <span class="id">closed_exp</span> (<span class="id">e_val</span> <span class="id">v</span>) <span class="id">n</span><br/>
| <span class="id">cl_var</span>   : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span>, <span class="id">closed_exp</span> (<span class="id">e_var</span> <span class="id">x</span>) <span class="id">n</span><br/>
| <span class="id">cl_hole</span>  : <span class="kwd">forall</span> <span class="id">m</span> <span class="id">n</span>, <span class="id">n</span> &lt;&gt; <span class="id">m</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">closed_exp</span> (<span class="id">e_hole</span> <span class="id">m</span>) <span class="id">n</span><br/>
| <span class="id">cl_eq</span>    : <span class="kwd">forall</span> <span class="id">e1</span> <span class="id">e2</span> <span class="id">n</span>, <span class="id">closed_exp</span> <span class="id">e1</span> <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">closed_exp</span> <span class="id">e2</span> <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">closed_exp</span> (<span class="id">e_eq</span> <span class="id">e1</span> <span class="id">e2</span>) <span class="id">n</span><br/>
| <span class="id">cl_if</span>    : <span class="kwd">forall</span> <span class="id">e1</span> <span class="id">e2</span> <span class="id">e3</span> <span class="id">n</span>, <span class="id">closed_exp</span> <span class="id">e1</span> <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">closed_exp</span> <span class="id">e2</span> <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">closed_exp</span> <span class="id">e3</span> <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">closed_exp</span> (<span class="id">e_if</span> <span class="id">e1</span> <span class="id">e2</span> <span class="id">e3</span>) <span class="id">n</span><br/>
| <span class="id">cl_acc_f</span> : <span class="kwd">forall</span> <span class="id">e</span> <span class="id">f</span> <span class="id">n</span>, <span class="id">closed_exp</span> <span class="id">e</span> <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">closed_exp</span> (<span class="id">e_acc_f</span> <span class="id">e</span> <span class="id">f</span>) <span class="id">n</span><br/>
| <span class="id">cl_acc_g</span> : <span class="kwd">forall</span> <span class="id">e</span> <span class="id">f</span> <span class="id">e</span>' <span class="id">n</span>, <span class="id">closed_exp</span> <span class="id">e</span> <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">closed_exp</span> <span class="id">e</span>' <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">closed_exp</span> (<span class="id">e_acc_g</span> <span class="id">e</span> <span class="id">f</span> <span class="id">e</span>') <span class="id">n</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">notin_a_var</span> (<span class="id">x</span> : <span class="id">a_var</span>)(<span class="id">y</span> : <span class="id">var</span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">a_bind</span> <span class="id">z</span> =&gt; <span class="id">z</span> &lt;&gt; <span class="id">y</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">True</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">notin_av_map</span> (<span class="id">avMap</span> : <span class="id">partial_map</span> <span class="id">var</span> <span class="id">a_var</span>)(<span class="id">x</span> : <span class="id">var</span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">y</span> <span class="id">z</span>, <span class="id">avMap</span> <span class="id">y</span> = <span class="id">Some</span> <span class="id">z</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_a_var</span> <span class="id">z</span> <span class="id">x</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id">notin_Ax</span>  : <span class="id">asrt</span> -&gt; <span class="id">var</span> -&gt; <span class="kwd">Prop</span> :=<br/>
<br/>
<div class="doc">Simple </div>
| <span class="id">ni_exp</span> : <span class="kwd">forall</span> <span class="id">e</span> <span class="id">x</span>, <span class="id">notin_exp</span> <span class="id">e</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_exp</span> <span class="id">e</span>) <span class="id">x</span><br/>
| <span class="id">ni_aeq</span> : <span class="kwd">forall</span> <span class="id">e1</span> <span class="id">e2</span> <span class="id">x</span>, <span class="id">notin_exp</span> <span class="id">e1</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_exp</span> <span class="id">e2</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_eq</span> <span class="id">e1</span> <span class="id">e2</span>) <span class="id">x</span><br/>
| <span class="id">ni_class</span> : <span class="kwd">forall</span> <span class="id">e</span> <span class="id">C</span> <span class="id">x</span>, <span class="id">notin_exp</span> <span class="id">e</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_class</span> <span class="id">e</span> <span class="id">C</span>) <span class="id">x</span><br/>
| <span class="id">ni_set</span>   : <span class="kwd">forall</span> <span class="id">e</span> Σ <span class="id">x</span>, <span class="id">notin_exp</span> <span class="id">e</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_set</span> <span class="id">e</span> Σ) <span class="id">x</span><br/>
<br/>
<div class="doc">Connectives </div>
| <span class="id">ni_arr</span>   : <span class="kwd">forall</span> <span class="id">A1</span> <span class="id">A2</span> <span class="id">x</span>, <span class="id">notin_Ax</span> <span class="id">A1</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> <span class="id">A2</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_arr</span> <span class="id">A1</span> <span class="id">A2</span>) <span class="id">x</span><br/>
| <span class="id">ni_and</span>   : <span class="kwd">forall</span> <span class="id">A1</span> <span class="id">A2</span> <span class="id">x</span>, <span class="id">notin_Ax</span> <span class="id">A1</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> <span class="id">A2</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_and</span> <span class="id">A1</span> <span class="id">A2</span>) <span class="id">x</span><br/>
| <span class="id">ni_or</span>    : <span class="kwd">forall</span> <span class="id">A1</span> <span class="id">A2</span> <span class="id">x</span>, <span class="id">notin_Ax</span> <span class="id">A1</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> <span class="id">A2</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_or</span> <span class="id">A1</span> <span class="id">A2</span>) <span class="id">x</span><br/>
| <span class="id">ni_neg</span>   : <span class="kwd">forall</span> <span class="id">A</span> <span class="id">x</span>, <span class="id">notin_Ax</span> <span class="id">A</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_neg</span> <span class="id">A</span>) <span class="id">x</span><br/>
<br/>
<div class="doc">Quantifiers </div>
| <span class="id">ni_all_x</span> : <span class="kwd">forall</span> <span class="id">A</span> <span class="id">x</span>, <span class="id">notin_Ax</span> <span class="id">A</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_all_x</span> <span class="id">A</span>) <span class="id">x</span><br/>
| <span class="id">ni_all_</span>Σ : <span class="kwd">forall</span> <span class="id">A</span> <span class="id">x</span>, <span class="id">notin_Ax</span> <span class="id">A</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_all_</span>Σ <span class="id">A</span>) <span class="id">x</span><br/>
| <span class="id">ni_ex_x</span>  : <span class="kwd">forall</span> <span class="id">A</span> <span class="id">x</span>, <span class="id">notin_Ax</span> <span class="id">A</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_ex_x</span> <span class="id">A</span>) <span class="id">x</span><br/>
| <span class="id">ni_ex_</span>Σ  : <span class="kwd">forall</span> <span class="id">A</span> <span class="id">x</span>, <span class="id">notin_Ax</span> <span class="id">A</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_ex_</span>Σ <span class="id">A</span>) <span class="id">x</span><br/>
<br/>
<div class="doc">Permission: </div>
| <span class="id">ni_acc</span>   : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">x</span>', <span class="id">notin_a_var</span> <span class="id">x</span> <span class="id">x</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_a_var</span> <span class="id">y</span> <span class="id">x</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_acc</span> <span class="id">x</span> <span class="id">y</span>) <span class="id">x</span>'<br/>
<br/>
<div class="doc">Control: </div>
| <span class="id">ni_call</span>  : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> <span class="id">avMap</span> <span class="id">m</span>, <span class="id">notin_a_var</span> <span class="id">y</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_a_var</span> <span class="id">z</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_av_map</span> <span class="id">avMap</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_call</span> <span class="id">y</span> <span class="id">z</span> <span class="id">m</span> <span class="id">avMap</span>) <span class="id">x</span><br/>
<br/>
<div class="doc">Time: </div>
| <span class="id">ni_next</span>  : <span class="kwd">forall</span> <span class="id">A</span> <span class="id">x</span>, <span class="id">notin_Ax</span> <span class="id">A</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_next</span> <span class="id">A</span>) <span class="id">x</span><br/>
| <span class="id">ni_will</span>  : <span class="kwd">forall</span> <span class="id">A</span> <span class="id">x</span>, <span class="id">notin_Ax</span> <span class="id">A</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_will</span> <span class="id">A</span>) <span class="id">x</span><br/>
| <span class="id">ni_prev</span>  : <span class="kwd">forall</span> <span class="id">A</span> <span class="id">x</span>, <span class="id">notin_Ax</span> <span class="id">A</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_prev</span> <span class="id">A</span>) <span class="id">x</span><br/>
| <span class="id">ni_was</span>   : <span class="kwd">forall</span> <span class="id">A</span> <span class="id">x</span>, <span class="id">notin_Ax</span> <span class="id">A</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_was</span> <span class="id">A</span>) <span class="id">x</span><br/>
<br/>
<div class="doc">Space: </div>
| <span class="id">ni_in</span>    : <span class="kwd">forall</span> <span class="id">A</span> Σ <span class="id">x</span>, <span class="id">notin_Ax</span> <span class="id">A</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_in</span> <span class="id">A</span> Σ) <span class="id">x</span><br/>
<br/>
<div class="doc">Viewpoint: </div>
| <span class="id">ni_extrn</span> : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,  <span class="id">notin_a_var</span> <span class="id">x</span> <span class="id">y</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_extrn</span> <span class="id">x</span>) <span class="id">y</span><br/>
| <span class="id">ni_intrn</span> : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id">notin_a_var</span> <span class="id">x</span> <span class="id">y</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> (<span class="id">a_intrn</span> <span class="id">x</span>) <span class="id">y</span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Constructors</span> <span class="id">notin_Ax</span> <span class="id">notin_exp</span> : <span class="id">chainmail_db</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id">fresh_x</span> : <span class="id">var</span> -&gt; <span class="id">frame</span> -&gt; <span class="id">asrt</span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id">frsh</span> : <span class="kwd">forall</span> <span class="id">x</span> ϕ <span class="id">A</span>, (<span class="id">vMap</span> ϕ) <span class="id">x</span> = <span class="id">None</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_Ax</span> <span class="id">A</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fresh_x</span> <span class="id">x</span> ϕ <span class="id">A</span>.<br/>
<span class="kwd">Hint</span> <span class="id">Constructors</span> <span class="id">fresh_x</span> : <span class="id">chainmail_db</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">fresh_x_</span>σ (<span class="id">x</span> : <span class="id">var</span>)(σ : <span class="id">config</span>)(<span class="id">A</span> : <span class="id">asrt</span>) :=<br/>
&nbsp;&nbsp;<span class="id">exists</span> χ ϕ ψ, σ = (χ, ϕ::ψ) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fresh_x</span> <span class="id">x</span> ϕ <span class="id">A</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id">notin_A</span>Σ  : <span class="id">asrt</span> -&gt; <span class="id">varSet</span> -&gt; <span class="kwd">Prop</span> :=<br/>
<br/>
<div class="doc">Simple </div>
| <span class="id">ni</span>Σ<span class="id">_exp</span> : <span class="kwd">forall</span> <span class="id">e</span> Σ, <span class="id">notin_A</span>Σ (<span class="id">a_exp</span> <span class="id">e</span>) Σ<br/>
| <span class="id">ni</span>Σ<span class="id">_aeq</span> : <span class="kwd">forall</span> <span class="id">e1</span> <span class="id">e2</span> Σ, <span class="id">notin_A</span>Σ (<span class="id">a_eq</span> <span class="id">e1</span> <span class="id">e2</span>) Σ<br/>
| <span class="id">ni</span>Σ<span class="id">_class</span> : <span class="kwd">forall</span> <span class="id">e</span> <span class="id">C</span> Σ, <span class="id">notin_A</span>Σ (<span class="id">a_class</span> <span class="id">e</span> <span class="id">C</span>) Σ<br/>
| <span class="id">ni</span>Σ<span class="id">_set</span>   : <span class="kwd">forall</span> <span class="id">e</span> Σ Σ', <span class="id">notin_A</span>Σ (<span class="id">a_set</span> <span class="id">e</span> Σ) Σ'<br/>
<br/>
<div class="doc">Connectives </div>
| <span class="id">ni</span>Σ<span class="id">_arr</span>   : <span class="kwd">forall</span> <span class="id">A1</span> <span class="id">A2</span> Σ, <span class="id">notin_A</span>Σ <span class="id">A1</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_A</span>Σ <span class="id">A2</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_A</span>Σ (<span class="id">a_arr</span> <span class="id">A1</span> <span class="id">A2</span>) Σ<br/>
| <span class="id">ni</span>Σ<span class="id">_and</span>   : <span class="kwd">forall</span> <span class="id">A1</span> <span class="id">A2</span> Σ, <span class="id">notin_A</span>Σ <span class="id">A1</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_A</span>Σ <span class="id">A2</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_A</span>Σ (<span class="id">a_and</span> <span class="id">A1</span> <span class="id">A2</span>) Σ<br/>
| <span class="id">ni</span>Σ<span class="id">_or</span>    : <span class="kwd">forall</span> <span class="id">A1</span> <span class="id">A2</span> Σ, <span class="id">notin_A</span>Σ <span class="id">A1</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_A</span>Σ <span class="id">A2</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_A</span>Σ (<span class="id">a_or</span> <span class="id">A1</span> <span class="id">A2</span>) Σ<br/>
| <span class="id">ni</span>Σ<span class="id">_neg</span>   : <span class="kwd">forall</span> <span class="id">A</span> Σ, <span class="id">notin_A</span>Σ <span class="id">A</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_A</span>Σ (<span class="id">a_neg</span> <span class="id">A</span>) Σ<br/>
<br/>
<div class="doc">Quantifiers </div>
| <span class="id">ni</span>Σ<span class="id">_all_x</span> : <span class="kwd">forall</span> <span class="id">A</span> Σ, <span class="id">notin_A</span>Σ <span class="id">A</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_A</span>Σ (<span class="id">a_all_x</span> <span class="id">A</span>) Σ<br/>
| <span class="id">ni</span>Σ<span class="id">_all_</span>Σ : <span class="kwd">forall</span> <span class="id">A</span> Σ, <span class="id">notin_A</span>Σ <span class="id">A</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_A</span>Σ (<span class="id">a_all_</span>Σ <span class="id">A</span>) Σ<br/>
| <span class="id">ni</span>Σ<span class="id">_ex_x</span>  : <span class="kwd">forall</span> <span class="id">A</span> Σ, <span class="id">notin_A</span>Σ <span class="id">A</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_A</span>Σ (<span class="id">a_ex_x</span> <span class="id">A</span>) Σ<br/>
| <span class="id">ni</span>Σ<span class="id">_ex_</span>Σ  : <span class="kwd">forall</span> <span class="id">A</span> Σ, <span class="id">notin_A</span>Σ <span class="id">A</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_A</span>Σ (<span class="id">a_ex_</span>Σ <span class="id">A</span>) Σ<br/>
<br/>
<div class="doc">Permission: </div>
| <span class="id">ni</span>Σ<span class="id">_acc</span>   : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> Σ, <span class="id">notin_A</span>Σ (<span class="id">a_acc</span> <span class="id">x</span> <span class="id">y</span>) Σ<br/>
<br/>
<div class="doc">Control: </div>
| <span class="id">ni</span>Σ<span class="id">_call</span>  : <span class="kwd">forall</span> <span class="id">y</span> <span class="id">z</span> <span class="id">avMap</span> <span class="id">m</span> Σ, <span class="id">notin_A</span>Σ (<span class="id">a_call</span> <span class="id">y</span> <span class="id">z</span> <span class="id">m</span> <span class="id">avMap</span>) Σ<br/>
<br/>
<div class="doc">Time: </div>
| <span class="id">ni</span>Σ<span class="id">_next</span>  : <span class="kwd">forall</span> <span class="id">A</span> Σ, <span class="id">notin_A</span>Σ <span class="id">A</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_A</span>Σ (<span class="id">a_next</span> <span class="id">A</span>) Σ<br/>
| <span class="id">ni</span>Σ<span class="id">_will</span>  : <span class="kwd">forall</span> <span class="id">A</span> Σ, <span class="id">notin_A</span>Σ <span class="id">A</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_A</span>Σ (<span class="id">a_will</span> <span class="id">A</span>) Σ<br/>
| <span class="id">ni</span>Σ<span class="id">_prev</span>  : <span class="kwd">forall</span> <span class="id">A</span> Σ, <span class="id">notin_A</span>Σ <span class="id">A</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_A</span>Σ (<span class="id">a_prev</span> <span class="id">A</span>) Σ<br/>
| <span class="id">ni</span>Σ<span class="id">_was</span>   : <span class="kwd">forall</span> <span class="id">A</span> Σ, <span class="id">notin_A</span>Σ <span class="id">A</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_A</span>Σ (<span class="id">a_was</span> <span class="id">A</span>) Σ<br/>
<br/>
<div class="doc">Space: </div>
| <span class="id">ni</span>Σ<span class="id">_in</span>    : <span class="kwd">forall</span> <span class="id">A</span> Σ, <span class="id">notin_A</span>Σ <span class="id">A</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notin_A</span>Σ (<span class="id">a_in</span> <span class="id">A</span> Σ) Σ<br/>
<br/>
<div class="doc">Viewpoint: </div>
| <span class="id">ni</span>Σ<span class="id">_extrn</span> : <span class="kwd">forall</span> <span class="id">x</span> Σ,  <span class="id">notin_A</span>Σ (<span class="id">a_extrn</span> <span class="id">x</span>) Σ<br/>
| <span class="id">ni</span>Σ<span class="id">_intrn</span> : <span class="kwd">forall</span> <span class="id">x</span> Σ,  <span class="id">notin_A</span>Σ (<span class="id">a_intrn</span> <span class="id">x</span>) Σ.<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Constructors</span> <span class="id">notin_A</span>Σ : <span class="id">chainmail_db</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id">fresh_</span>Σ : <span class="id">varSet</span> -&gt; <span class="id">asrt</span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id">frsh</span>Σ : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">A</span>, <span class="id">notin_A</span>Σ <span class="id">A</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fresh_</span>Σ <span class="id">x</span> <span class="id">A</span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Constructors</span> <span class="id">fresh_</span>Σ : <span class="id">chainmail_db</span>.<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id">updates</span> {<span class="id">B</span> <span class="id">C</span> : <span class="kwd">Type</span>} `{<span class="id">Eq</span> <span class="id">B</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">bs</span> : <span class="id">list</span> (<span class="id">B</span> * <span class="id">B</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">map1</span> : <span class="id">partial_map</span> <span class="id">B</span> <span class="id">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">map2</span> : <span class="id">partial_map</span> <span class="id">B</span> <span class="id">C</span>) : <span class="id">partial_map</span> <span class="id">B</span> <span class="id">C</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">bs</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">nil</span> =&gt; <span class="id">map1</span><br/>
&nbsp;&nbsp;| (<span class="id">b1</span>, <span class="id">b2</span>)::<span class="id">bs</span>' =&gt; <span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="kwd">if</span> <span class="id">eqb</span> <span class="id">b</span> <span class="id">b1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id">map2</span> <span class="id">b2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">updates</span> <span class="id">bs</span>' <span class="id">map1</span> <span class="id">map2</span>) <span class="id">b</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">fresh_in_map</span> {<span class="id">A</span> : <span class="kwd">Type</span>} (<span class="id">x</span> : <span class="id">var</span>) (<span class="id">m</span> : <span class="id">partial_map</span> <span class="id">var</span> <span class="id">A</span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id">m</span> <span class="id">x</span> = <span class="id">None</span>.<br/>
<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "σ1 '◁' σ2 '≜' σ3" (<span class="tactic">at</span> <span class="id">level</span> 40).<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id">adaptation</span> : <span class="id">config</span> -&gt; <span class="id">config</span> -&gt; <span class="id">config</span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id">a_adapt</span> : <span class="kwd">forall</span> σ χ ϕ ψ σ' χ' ϕ' ϕ'' <span class="id">c</span> β β' ψ' <span class="id">s</span> <span class="id">f</span> <span class="id">f</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;σ = (χ, ϕ::ψ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;σ' = (χ', ϕ' :: ψ') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;ϕ = <span class="id">frm</span> β <span class="id">c</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;ϕ' = <span class="id">frm</span> β' (<span class="id">c_stmt</span> <span class="id">s</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">one_to_one</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">onto</span> <span class="id">f</span> β' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">f</span> <span class="id">f</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">disjoint_dom</span> <span class="id">f</span> β -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">disjoint_dom</span> <span class="id">f</span> β' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">z</span> <span class="id">z</span>', <span class="id">f</span> <span class="id">z</span> = <span class="id">Some</span> <span class="id">z</span>' -&gt; ~ <span class="id">in_stmt</span> <span class="id">z</span> <span class="id">s</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;ϕ'' = <span class="id">frm</span> ((<span class="id">f</span> ∘ β') ∪ β) (<span class="id">c_stmt</span> (❲<span class="id">f</span>' ↦ <span class="id">s</span>❳)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;σ ◁ σ' ≜ (χ', ϕ'' :: ψ')<br/>
<br/>
<span class="kwd">where</span> "σ1 '◁' σ2 '≜' σ3" := (<span class="id">adaptation</span> σ1 σ2 σ3).<br/>
<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">M1</span> '⦂' <span class="id">M2</span> '◎' σ '⊨' <span class="id">A</span>"(<span class="tactic">at</span> <span class="id">level</span> 40).<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">M1</span> '⦂' <span class="id">M2</span> '◎' σ '⊭' <span class="id">A</span>"(<span class="tactic">at</span> <span class="id">level</span> 40).<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">v_to_av</span> : <span class="id">var</span> -&gt; <span class="id">option</span> <span class="id">a_var</span> := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">Some</span> (<span class="id">a_bind</span> <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">one_to_one_v_to_av</span> :<br/>
&nbsp;&nbsp;<span class="id">one_to_one</span> <span class="id">v_to_av</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof200')">Proof.</div>
<div class="proofscript" id="proof200">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">one_to_one</span>, <span class="id">v_to_av</span>; <span class="tactic">intros</span>; <span class="id">crush</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">into_v_to_av</span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span> : <span class="kwd">Type</span>}`{<span class="id">Eq</span> <span class="id">A</span>}(<span class="id">m</span> : <span class="id">partial_map</span> <span class="id">A</span> <span class="id">var</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">maps_into</span> <span class="id">m</span> <span class="id">v_to_av</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof201')">Proof.</div>
<div class="proofscript" id="proof201">
&nbsp;&nbsp;<span class="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">maps_into</span>, <span class="id">v_to_av</span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">into_v_to_av</span> : <span class="id">chainmail_db</span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">one_to_one_v_to_av</span> : <span class="id">chainmail_db</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">compose_v_to_av_equality</span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span> : <span class="kwd">Type</span>} `{<span class="id">Eq</span> <span class="id">A</span>} (<span class="id">m1</span> <span class="id">m2</span> : <span class="id">partial_map</span> <span class="id">A</span> <span class="id">var</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m1</span> ∘ <span class="id">v_to_av</span> = <span class="id">m2</span> ∘ <span class="id">v_to_av</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m1</span> = <span class="id">m2</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof202')">Proof.</div>
<div class="proofscript" id="proof202">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">functional_extensionality</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">a</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">compose_one_to_one_eq</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">auto</span>; <span class="id">crush</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">compose_v_to_av_equality</span> : <span class="id">chainmail_db</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">initial</span> (σ : <span class="id">config</span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id">exists</span> α ϕ, σ = ((<span class="id">update</span> α <span class="id">ObjectInstance</span> <span class="id">empty</span>), ϕ :: <span class="id">nil</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">vMap</span> ϕ) <span class="id">this</span> = <span class="id">Some</span> (<span class="id">v_addr</span> α) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id">x</span> &lt;&gt; <span class="id">this</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">vMap</span> ϕ) <span class="id">x</span> = <span class="id">None</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">finite_</span>σ σ /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">not_stuck_</span>σ σ.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id">sat</span> : <span class="id">mdl</span> -&gt; <span class="id">mdl</span> -&gt; <span class="id">config</span> -&gt; <span class="id">asrt</span> -&gt; <span class="kwd">Prop</span> :=<br/>
<div class="doc">Simple: </div>
| <span class="id">sat_exp</span>   : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">e</span>, <span class="id">M1</span> ∙ σ ⊢ <span class="id">e</span> ↪ <span class="id">v_true</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ <span class="id">a_exp</span> <span class="id">e</span><br/>
<br/>
| <span class="id">sat_eq</span>   : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">e1</span> <span class="id">e2</span> <span class="id">v</span>, <span class="id">M1</span> ∙ σ ⊢ <span class="id">e1</span> ↪ <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ∙ σ ⊢ <span class="id">e2</span> ↪ <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ <span class="id">a_eq</span> <span class="id">e1</span> <span class="id">e2</span><br/>
<br/>
| <span class="id">sat_class</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">e</span> <span class="id">C</span> α <span class="id">o</span>, <span class="id">M1</span> ∙ σ ⊢ <span class="id">e</span> ↪ (<span class="id">v_addr</span> α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mapp</span> σ α = <span class="id">Some</span> <span class="id">o</span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">o</span>.(<span class="id">cname</span>) = <span class="id">C</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (<span class="id">a_class</span> <span class="id">e</span> <span class="id">C</span>)<br/>
<br/>
| <span class="id">sat_set</span>   : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">e</span> Σ α <span class="id">As</span>, <span class="id">M1</span> ∙ σ ⊢ <span class="id">e</span> ↪ α -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⌊ Σ ⌋ σ ≜′ <span class="id">As</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">In</span> α <span class="id">As</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (<span class="id">a_set</span> <span class="id">e</span> (<span class="id">s_bind</span> Σ))<br/>
<br/>
<div class="doc">Connectives: </div>
| <span class="id">sat_and</span>   : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A1</span> <span class="id">A2</span>, <span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ <span class="id">A1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ <span class="id">A2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (<span class="id">A1</span> ∧ <span class="id">A2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
| <span class="id">sat_or1</span>   : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A1</span> <span class="id">A2</span>, <span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ <span class="id">A1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (<span class="id">A1</span> ∨ <span class="id">A2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
| <span class="id">sat_or2</span>   : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A1</span> <span class="id">A2</span>, <span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ <span class="id">A2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (<span class="id">A1</span> ∨ <span class="id">A2</span>)<br/>
<br/>
| <span class="id">sat_arr1</span>  : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A1</span> <span class="id">A2</span>, <span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ <span class="id">A2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (<span class="id">A1</span> ⇒ <span class="id">A2</span>)<br/>
<br/>
| <span class="id">sat_arr2</span>  : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A1</span> <span class="id">A2</span>, <span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ <span class="id">A1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (<span class="id">A1</span> ⇒ <span class="id">A2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
| <span class="id">sat_not</span>   : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span>, <span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (¬ <span class="id">A</span>)<br/>
<br/>
<div class="doc">Quantifiers: </div>
| <span class="id">sat_all_x</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span>, (<span class="kwd">forall</span> <span class="id">y</span> <span class="id">v</span>, <span class="id">mapp</span> σ <span class="id">y</span> = <span class="id">Some</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">z</span>, <span class="id">fresh_x_</span>σ <span class="id">z</span> σ <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ (<span class="id">update_</span>σ<span class="id">_map</span> σ <span class="id">z</span> <span class="id">v</span>) ⊨ ([<span class="id">z</span> /<span class="id">s</span> 0]<span class="id">A</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (∀<span class="id">x</span>∙ <span class="id">A</span>)<br/>
<br/>
| <span class="id">sat_ex_x</span>  : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span> <span class="id">z</span> <span class="id">y</span> <span class="id">v</span>, <span class="id">mapp</span> σ <span class="id">y</span> = <span class="id">Some</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fresh_x_</span>σ <span class="id">z</span> σ <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ (<span class="id">update_</span>σ<span class="id">_map</span> σ <span class="id">z</span> <span class="id">v</span>) ⊨ ([<span class="id">z</span> /<span class="id">s</span> 0] <span class="id">A</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (∃<span class="id">x</span>∙ <span class="id">A</span>)<br/>
<br/>
| <span class="id">sat_all_</span>Σ : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span>, (<span class="kwd">forall</span> Σ, (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id">In</span> <span class="id">x</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, ⌊<span class="id">x</span>⌋ σ ≜ <span class="id">v</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ ([(<span class="id">s_bind</span> Σ) /<span class="id">s</span> 0] <span class="id">A</span>))) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (∀<span class="id">S</span>∙ <span class="id">A</span>)<br/>
<br/>
| <span class="id">sat_ex_</span>Σ  : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span> Σ, (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id">In</span> <span class="id">x</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, ⌊<span class="id">x</span>⌋ σ ≜ <span class="id">v</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ ([(<span class="id">s_bind</span> Σ) /<span class="id">s</span> 0] <span class="id">A</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (∃<span class="id">S</span>∙ <span class="id">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<div class="doc">Permission: </div>
| <span class="id">sat_access1</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">x</span> <span class="id">y</span> α, ⌊<span class="id">x</span>⌋ σ ≜ (<span class="id">v_addr</span> α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⌊<span class="id">y</span>⌋ σ ≜ (<span class="id">v_addr</span> α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ ((<span class="id">a_bind</span> <span class="id">x</span>) <span class="id">access</span> (<span class="id">a_bind</span> <span class="id">y</span>))<br/>
<br/>
| <span class="id">sat_access2</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">x</span> <span class="id">y</span> α α' <span class="id">o</span> <span class="id">f</span>, ⌊<span class="id">x</span>⌋ σ ≜ (<span class="id">v_addr</span> α') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mapp</span> σ α' = <span class="id">Some</span> <span class="id">o</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">flds</span> <span class="id">o</span>) <span class="id">f</span> = <span class="id">Some</span> (<span class="id">v_addr</span> α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⌊<span class="id">y</span>⌋ σ ≜ (<span class="id">v_addr</span> α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ ((<span class="id">a_bind</span> <span class="id">x</span>) <span class="id">access</span> (<span class="id">a_bind</span> <span class="id">y</span>))<br/>
<br/>
| <span class="id">sat_access3</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ ψ ϕ χ <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> α1 α2 <span class="id">s</span>, ⌊<span class="id">x</span>⌋ σ ≜ (<span class="id">v_addr</span> α1) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⌊<span class="id">this</span>⌋ σ ≜ (<span class="id">v_addr</span> α1) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⌊<span class="id">y</span>⌋ σ ≜ (<span class="id">v_addr</span> α2) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⌊<span class="id">z</span>⌋ σ ≜ (<span class="id">v_addr</span> α2) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ = (χ, ϕ :: ψ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">contn</span> ϕ) = <span class="id">c_stmt</span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">in_stmt</span> <span class="id">z</span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ ((<span class="id">a_bind</span> <span class="id">x</span>) <span class="id">access</span> (<span class="id">a_bind</span> <span class="id">y</span>))<br/>
<br/>
<div class="doc">Control: </div>
<div class="doc">Julian: I should probably clean up the interpretation equivalence between parameter maps </div>
| <span class="id">sat_call</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ χ ϕ ψ <span class="id">x</span> <span class="id">x</span>' <span class="id">y</span> <span class="id">y</span>' <span class="id">m</span> <span class="id">vMap</span> <span class="id">vMap</span>' α <span class="id">s</span> α<span class="id">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;⌊ <span class="id">x</span> ⌋ σ ≜ (<span class="id">v_addr</span> α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;⌊ <span class="id">this</span> ⌋ σ ≜ (<span class="id">v_addr</span> α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;σ = (χ, ϕ :: ψ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">contn</span> ϕ) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">c_stmt</span> (<span class="id">s_stmts</span> (<span class="id">s_meth</span> <span class="id">x</span>' <span class="id">y</span>' <span class="id">m</span> <span class="id">vMap</span>') <span class="id">s</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;⌊ <span class="id">y</span> ⌋ σ ≜ (<span class="id">v_addr</span> α<span class="id">y</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;⌊ <span class="id">y</span>'⌋ σ ≜ (<span class="id">v_addr</span> α<span class="id">y</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">same_dom</span> <span class="id">vMap</span> <span class="id">vMap</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>' <span class="id">y1</span> <span class="id">y2</span>, <span class="id">vMap</span> <span class="id">x</span>' = <span class="id">Some</span> <span class="id">y1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">vMap</span>' <span class="id">x</span>' = <span class="id">Some</span> <span class="id">y2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">v</span>, ⌊ <span class="id">y1</span> ⌋ σ ≜ <span class="id">v</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⌊ <span class="id">y2</span> ⌋ σ ≜ <span class="id">v</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ ((<span class="id">a_bind</span> <span class="id">x</span>) <span class="id">calls</span> (<span class="id">a_bind</span> <span class="id">y</span>) ∎ <span class="id">m</span> ⟨ (<span class="id">vMap</span> ∘ <span class="id">v_to_av</span>) ⟩ )<br/>
<br/>
<div class="doc">Viewpoint: </div>
| <span class="id">sat_extrn</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">x</span> α <span class="id">o</span> <span class="id">C</span>, ⌊ <span class="id">x</span> ⌋ σ ≜ (<span class="id">v_addr</span> α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mapp</span> σ α = <span class="id">Some</span> <span class="id">o</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">o</span>.(<span class="id">cname</span>) = <span class="id">C</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> <span class="id">C</span> = <span class="id">None</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ <span class="id">a_extrn</span> (<span class="id">a_bind</span> <span class="id">x</span>)<br/>
<br/>
| <span class="id">sat_intrn</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">x</span> α <span class="id">o</span> <span class="id">C</span>, ⌊ <span class="id">x</span> ⌋ σ ≜ (<span class="id">v_addr</span> α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mapp</span> σ α = <span class="id">Some</span> <span class="id">o</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">o</span>.(<span class="id">cname</span>) = <span class="id">C</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">CDef</span>, <span class="id">M1</span> <span class="id">C</span> = <span class="id">Some</span> <span class="id">CDef</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ <span class="id">a_intrn</span> (<span class="id">a_bind</span> <span class="id">x</span>)<br/>
<br/>
<div class="doc">Space: </div>
| <span class="id">sat_in</span>    : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span> Σ σ', σ ↓ Σ ≜ σ' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ' ⊨ <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (<span class="id">a_in</span> <span class="id">A</span> (<span class="id">s_bind</span> Σ))<br/>
<br/>
<div class="doc">Time: </div>
<br/>
| <span class="id">sat_next</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span> ϕ ψ χ σ' σ'', σ = (χ, ϕ :: ψ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ⦿ (χ, ϕ :: <span class="id">nil</span>) ⤳ σ' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ ◁ σ' ≜ σ'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ'' ⊨ <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (<span class="id">a_next</span> <span class="id">A</span>)<br/>
<br/>
| <span class="id">sat_will</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span> ϕ ψ χ σ' σ'', σ = (χ, ϕ :: ψ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ⦿ (χ, ϕ :: <span class="id">nil</span>) ⤳⋆ σ' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ ◁ σ' ≜ σ'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ'' ⊨ <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (<span class="id">a_will</span> <span class="id">A</span>)<br/>
<br/>
| <span class="id">sat_prev</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span>, (<span class="kwd">forall</span> σ0 σ' σ'', <span class="id">initial</span> σ0 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ⦿ σ0 ⤳⋆ σ' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ⦿ σ' ⤳ σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ ◁ σ' ≜ σ'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ'' ⊨ <span class="id">A</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (<span class="id">a_prev</span> <span class="id">A</span>)<br/>
<br/>
| <span class="id">sat_was</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span>, (<span class="kwd">forall</span> σ0, <span class="id">initial</span> σ0 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ⦿ σ0 ⤳⋆ σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> σ' σ'', <span class="id">M1</span> ⦂ <span class="id">M2</span> ⦿ σ0 ⤳⋆ σ' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ⦿ σ' ⤳⋆ σ /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ ◁ σ' ≜ σ'' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ'' ⊨ <span class="id">A</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ (<span class="id">a_was</span> <span class="id">A</span>)<br/>
<br/>
<span class="kwd">where</span> "<span class="id">M1</span> '⦂' <span class="id">M2</span> '◎' σ '⊨' <span class="id">A</span>" := (<span class="id">sat</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span>)<br/>
<br/>
<span class="kwd">with</span><br/>
<span class="id">nsat</span> : <span class="id">mdl</span> -&gt; <span class="id">mdl</span> -&gt; <span class="id">config</span> -&gt; <span class="id">asrt</span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id">nsat_exp</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">e</span>, ~ <span class="id">M1</span> ∙ σ ⊢ <span class="id">e</span> ↪ <span class="id">v_true</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_exp</span> <span class="id">e</span>)<br/>
<br/>
| <span class="id">nsat_eq1</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">e1</span> <span class="id">e2</span> <span class="id">v1</span> <span class="id">v2</span>, <span class="id">M1</span> ∙ σ ⊢ <span class="id">e1</span> ↪ <span class="id">v1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ∙ σ ⊢ <span class="id">e2</span> ↪ <span class="id">v2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">v1</span> &lt;&gt; <span class="id">v2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_eq</span> <span class="id">e1</span> <span class="id">e2</span>)<br/>
<br/>
| <span class="id">nsat_eq2</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">e1</span> <span class="id">e2</span>, (<span class="kwd">forall</span> <span class="id">v</span>, ~<span class="id">M1</span> ∙ σ ⊢ <span class="id">e1</span> ↪ <span class="id">v</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_eq</span> <span class="id">e1</span> <span class="id">e2</span>)<br/>
<br/>
| <span class="id">nsat_eq3</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">e1</span> <span class="id">e2</span>, (<span class="kwd">forall</span> <span class="id">v</span>, ~<span class="id">M1</span> ∙ σ ⊢ <span class="id">e2</span> ↪ <span class="id">v</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_eq</span> <span class="id">e1</span> <span class="id">e2</span>)<br/>
<br/>
| <span class="id">nsat_class1</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">e</span> <span class="id">C</span> <span class="id">C</span>' α <span class="id">o</span>, <span class="id">M1</span> ∙ σ ⊢ <span class="id">e</span> ↪ (<span class="id">v_addr</span> α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mapp</span> σ α = <span class="id">Some</span> <span class="id">o</span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">o</span>.(<span class="id">cname</span>) = <span class="id">C</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">C</span> &lt;&gt; <span class="id">C</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_class</span> <span class="id">e</span> <span class="id">C</span>)<br/>
<br/>
| <span class="id">nsat_class2</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">e</span> <span class="id">C</span>, (<span class="kwd">forall</span> α, ~ <span class="id">M1</span> ∙ σ ⊢ <span class="id">e</span> ↪ α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_class</span> <span class="id">e</span> <span class="id">C</span>)<br/>
<br/>
| <span class="id">nsat_set1</span>   : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">e</span> Σ <span class="id">As</span>, ⌊ Σ ⌋ σ ≜′ <span class="id">As</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> α, <span class="id">M1</span> ∙ σ ⊢ <span class="id">e</span> ↪ α -&gt; ~ <span class="id">In</span> α <span class="id">As</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_set</span> <span class="id">e</span> (<span class="id">s_bind</span> Σ))<br/>
<br/>
| <span class="id">nsat_set2</span>   : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">e</span> Σ, (<span class="kwd">forall</span> α, ~ <span class="id">M1</span> ∙ σ ⊢ <span class="id">e</span> ↪ α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_set</span> <span class="id">e</span> (<span class="id">s_bind</span> Σ))<br/>
<br/>
| <span class="id">nsat_and1</span>  : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A1</span> <span class="id">A2</span>, <span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ <span class="id">A1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">A1</span> ∧ <span class="id">A2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
| <span class="id">nsat_and2</span>  : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A1</span> <span class="id">A2</span>, <span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ <span class="id">A2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">A1</span> ∧ <span class="id">A2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
| <span class="id">nsat_or</span>    : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A1</span> <span class="id">A2</span>, <span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ <span class="id">A1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ <span class="id">A2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">A1</span> ∨ <span class="id">A2</span>)<br/>
<br/>
| <span class="id">nsat_arr</span>   : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A1</span> <span class="id">A2</span>, <span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ <span class="id">A1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ <span class="id">A2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">A1</span> ⇒ <span class="id">A2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
| <span class="id">nsat_not</span>   : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span>, <span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊨ <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (¬ <span class="id">A</span>)<br/>
<br/>
| <span class="id">nsat_all_x</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span> <span class="id">y</span> <span class="id">z</span> <span class="id">v</span>, <span class="id">mapp</span> σ <span class="id">y</span> = <span class="id">Some</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fresh_x_</span>σ <span class="id">z</span> σ <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ (<span class="id">update_</span>σ<span class="id">_map</span> σ <span class="id">z</span> <span class="id">v</span>) ⊭ ([<span class="id">z</span> /<span class="id">s</span> 0]<span class="id">A</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (∀<span class="id">x</span>∙ <span class="id">A</span>) <br/>
<br/>
| <span class="id">nsat_ex_x</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span>, (<span class="kwd">forall</span> <span class="id">y</span> <span class="id">v</span> <span class="id">z</span>, <span class="id">mapp</span> σ <span class="id">y</span> = <span class="id">Some</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fresh_x_</span>σ <span class="id">z</span> σ <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ (<span class="id">update_</span>σ<span class="id">_map</span> σ <span class="id">z</span> <span class="id">v</span>) ⊭ ([<span class="id">z</span> /<span class="id">s</span> 0]<span class="id">A</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (∃<span class="id">x</span>∙ <span class="id">A</span>)<br/>
<br/>
| <span class="id">nsat_ex_</span>Σ  : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span>, (<span class="kwd">forall</span> Σ, (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id">In</span> <span class="id">x</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, ⌊<span class="id">x</span>⌋ σ ≜ <span class="id">v</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ ([(<span class="id">s_bind</span> Σ) /<span class="id">s</span> 0] <span class="id">A</span>))) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (∃<span class="id">S</span>∙ <span class="id">A</span>)<br/>
<br/>
| <span class="id">nsat_all_</span>Σ : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span> Σ, (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id">In</span> <span class="id">x</span> Σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, ⌊<span class="id">x</span>⌋ σ ≜ <span class="id">v</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ ([(<span class="id">s_bind</span> Σ) /<span class="id">s</span> 0] <span class="id">A</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (∀<span class="id">S</span>∙ <span class="id">A</span>)<br/>
<br/>
<div class="doc">Permission: </div>
| <span class="id">nsat_access</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">x</span> <span class="id">y</span>, (<span class="kwd">forall</span> α1 α2, ⌊<span class="id">x</span>⌋ σ ≜ (<span class="id">v_addr</span> α1) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⌊<span class="id">y</span>⌋ σ ≜ (<span class="id">v_addr</span> α2) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;α1 &lt;&gt; α2) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> α1 α2 α3 <span class="id">f</span> <span class="id">o</span>, ⌊<span class="id">x</span>⌋ σ ≜ (<span class="id">v_addr</span> α1) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mapp</span> σ α1 = <span class="id">Some</span> <span class="id">o</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">flds</span> <span class="id">o</span>) <span class="id">f</span> = <span class="id">Some</span> (<span class="id">v_addr</span> α2) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⌊<span class="id">y</span>⌋ σ ≜ (<span class="id">v_addr</span> α3) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;α2 &lt;&gt; α3) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="kwd">forall</span> α1 α2, ⌊<span class="id">x</span>⌋ σ ≜ (<span class="id">v_addr</span> α1) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⌊<span class="id">this</span>⌋ σ ≜ (<span class="id">v_addr</span> α2) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;α1 &lt;&gt; α2) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">z</span> α, ⌊<span class="id">y</span>⌋ σ ≜ (<span class="id">v_addr</span> α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⌊<span class="id">z</span>⌋ σ ≜ (<span class="id">v_addr</span> α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> ψ ϕ χ <span class="id">s</span>, σ = (χ, ϕ :: ψ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">contn</span> ϕ) = <span class="id">c_stmt</span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id">in_stmt</span> <span class="id">z</span> <span class="id">s</span>))-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_acc</span> (<span class="id">a_bind</span> <span class="id">x</span>) (<span class="id">a_bind</span> <span class="id">y</span>))<br/>
<br/>
<div class="doc">Control: </div>
| <span class="id">nsat_call1</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">x</span> <span class="id">y</span> <span class="id">m</span> <span class="id">vMap</span> α1 α2, ⌊ <span class="id">x</span> ⌋ σ ≜ α1 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⌊ <span class="id">this</span> ⌋ σ ≜ α2 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;α1 &lt;&gt; α2 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_call</span> (<span class="id">a_bind</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">a_bind</span> <span class="id">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">vMap</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
| <span class="id">nsat_call2</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ ϕ ψ <span class="id">x</span> <span class="id">y</span> <span class="id">m</span> <span class="id">vMap</span> <span class="id">vMap</span>', <span class="id">snd</span> σ = ϕ :: ψ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">v</span> <span class="id">u</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id">contn</span> ϕ) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">c_stmt</span> (<span class="id">s_stmts</span> (<span class="id">s_meth</span> <span class="id">v</span> <span class="id">u</span> <span class="id">m</span> <span class="id">vMap</span>') <span class="id">s</span>))) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">v1</span> <span class="id">v2</span>, ⌊ <span class="id">u</span> ⌋ σ ≜ <span class="id">v1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⌊ <span class="id">y</span> ⌋ σ ≜ <span class="id">v2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">v1</span> &lt;&gt; <span class="id">v2</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_call</span> (<span class="id">a_bind</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">a_bind</span> <span class="id">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">vMap</span>)<br/>
| <span class="id">nsat_call3</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ ϕ ψ <span class="id">x</span> <span class="id">y</span> <span class="id">m</span> <span class="id">vMap</span> <span class="id">vMap</span>', <span class="id">snd</span> σ = ϕ :: ψ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">v</span> <span class="id">u</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id">contn</span> ϕ) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">c_stmt</span> (<span class="id">s_stmts</span> (<span class="id">s_meth</span> <span class="id">v</span> <span class="id">u</span> <span class="id">m</span> <span class="id">vMap</span>') <span class="id">s</span>))) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">x</span>' <span class="id">v1</span> <span class="id">v2</span>, <span class="id">vMap</span> <span class="id">x</span>' = <span class="id">Some</span> <span class="id">v1</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">vMap</span>' <span class="id">x</span>' = <span class="id">Some</span> <span class="id">v2</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> α1 α2, ⌊ <span class="id">v1</span> ⌋ σ ≜ α1 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⌊ <span class="id">v2</span> ⌋ σ ≜ α2 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;α1 &lt;&gt; α2))) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_call</span> (<span class="id">a_bind</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">a_bind</span> <span class="id">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">vMap</span> ∘ <span class="id">v_to_av</span>))<br/>
<br/>
 <br/>
| <span class="id">nsat_extrn1</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">x</span>, (<span class="kwd">forall</span> α, ~ ⌊ <span class="id">x</span> ⌋ σ ≜ (<span class="id">v_addr</span> α)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ <span class="id">a_extrn</span> (<span class="id">a_bind</span> <span class="id">x</span>)<br/>
<br/>
| <span class="id">nsat_extrn2</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">x</span> α, ⌊ <span class="id">x</span> ⌋ σ ≜ (<span class="id">v_addr</span> α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mapp</span> σ α = <span class="id">None</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ <span class="id">a_extrn</span> (<span class="id">a_bind</span> <span class="id">x</span>)<br/>
<br/>
| <span class="id">nsat_extrn</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">x</span> α <span class="id">o</span> <span class="id">C</span>, ⌊ <span class="id">x</span> ⌋ σ ≜ (<span class="id">v_addr</span> α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mapp</span> σ α = <span class="id">Some</span> <span class="id">o</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">o</span>.(<span class="id">cname</span>) = <span class="id">C</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">CDef</span>, <span class="id">M1</span> <span class="id">C</span> = <span class="id">Some</span> <span class="id">CDef</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ <span class="id">a_extrn</span> (<span class="id">a_bind</span> <span class="id">x</span>)<br/>
<br/>
| <span class="id">nsat_intrn1</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">x</span>, (<span class="kwd">forall</span> α, ~ ⌊ <span class="id">x</span> ⌋ σ ≜ (<span class="id">v_addr</span> α)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ <span class="id">a_intrn</span> (<span class="id">a_bind</span> <span class="id">x</span>)<br/>
<br/>
| <span class="id">nsat_intrn2</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">x</span> α, ⌊ <span class="id">x</span> ⌋ σ ≜ (<span class="id">v_addr</span> α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mapp</span> σ α = <span class="id">None</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ <span class="id">a_intrn</span> (<span class="id">a_bind</span> <span class="id">x</span>)<br/>
<br/>
| <span class="id">nsat_intrn</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">x</span> α <span class="id">o</span> <span class="id">C</span>, ⌊ <span class="id">x</span> ⌋ σ ≜ (<span class="id">v_addr</span> α) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mapp</span> σ α = <span class="id">Some</span> <span class="id">o</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">o</span>.(<span class="id">cname</span>) = <span class="id">C</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> <span class="id">C</span> = <span class="id">None</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ <span class="id">a_intrn</span> (<span class="id">a_bind</span> <span class="id">x</span>)<br/>
<br/>
| <span class="id">nsat_in</span>    : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span> Σ σ', σ ↓ Σ ≜ σ' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ' ⊭ <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_in</span> <span class="id">A</span> (<span class="id">s_bind</span> Σ))<br/>
<br/>
<br/>
| <span class="id">nsat_next</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span> ϕ ψ χ σ' σ'', σ = (χ, ϕ :: ψ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">M1</span> ⦂ <span class="id">M2</span> ⦿ (χ, ϕ :: <span class="id">nil</span>) ⤳ σ') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(σ ◁ σ' ≜ σ'') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ'' ⊭ <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_next</span> <span class="id">A</span>)<br/>
<br/>
| <span class="id">nsat_will</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span> ϕ ψ χ, σ = (χ, ϕ :: ψ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> σ' σ'', (<span class="id">M1</span> ⦂ <span class="id">M2</span> ⦿ (χ, ϕ :: <span class="id">nil</span>) ⤳⋆ σ') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(σ ◁ σ' ≜ σ'') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ'' ⊭ <span class="id">A</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_will</span> <span class="id">A</span>)<br/>
<br/>
| <span class="id">nsat_prev</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span> σ0 σ' σ'', <span class="id">initial</span> σ0 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ⦿ σ0 ⤳⋆ σ' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ⦿ σ' ⤳ σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ ◁ σ' ≜ σ'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ'' ⊭ <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_prev</span> <span class="id">A</span>)<br/>
<br/>
| <span class="id">nsat_was</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span> σ0, <span class="id">initial</span> σ0 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> σ' σ'', <span class="id">M1</span> ⦂ <span class="id">M2</span> ⦿ σ0 ⤳⋆ σ' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ⦿ σ' ⤳⋆ σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ ◁ σ' ≜ σ'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ'' ⊭ <span class="id">A</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ◎ σ ⊭ (<span class="id">a_was</span> <span class="id">A</span>)<br/>
<br/>
<span class="kwd">where</span> "<span class="id">M1</span> '⦂' <span class="id">M2</span> '◎' σ '⊭' <span class="id">A</span>" := (<span class="id">nsat</span> <span class="id">M1</span> <span class="id">M2</span> σ <span class="id">A</span>).<br/>
<br/>
<span class="kwd">Scheme</span> <span class="id">sat_mut_ind</span> := <span class="kwd">Induction</span> <span class="kwd">for</span> <span class="id">sat</span> <span class="kwd">Sort</span> <span class="kwd">Prop</span><br/>
&nbsp;&nbsp;<span class="kwd">with</span> <span class="id">nsat_mut_ind</span> := <span class="kwd">Induction</span> <span class="kwd">for</span> <span class="id">nsat</span> <span class="kwd">Sort</span> <span class="kwd">Prop</span>.<br/>
<br/>
<span class="id">Combined</span> <span class="kwd">Scheme</span> <span class="id">sat_mutind</span> <span class="id">from</span> <span class="id">sat_mut_ind</span>, <span class="id">nsat_mut_ind</span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Constructors</span> <span class="id">sat</span> <span class="id">nsat</span> : <span class="id">chainmail_db</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id">arising</span> : <span class="id">mdl</span> -&gt; <span class="id">mdl</span> -&gt; <span class="id">config</span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id">arise</span> : <span class="kwd">forall</span> <span class="id">M1</span> <span class="id">M2</span> σ σ0, <span class="id">initial</span> σ0 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M1</span> ⦂ <span class="id">M2</span> ⦿ σ0 ⤳⋆ σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">arising</span> <span class="id">M1</span> <span class="id">M2</span> σ.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">mdl_sat</span> (<span class="id">M</span> : <span class="id">mdl</span>)(<span class="id">A</span> : <span class="id">asrt</span>) := <span class="kwd">forall</span> <span class="id">M</span>' σ, <span class="id">arising</span> <span class="id">M</span> <span class="id">M</span>' σ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> ϕ ψ, <span class="id">snd</span> σ = ϕ :: ψ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">M</span> ⦂ <span class="id">M</span>' ◎ σ ⊨ <span class="id">A</span>.<br/>
&nbsp;&nbsp;<br/>
<br/>
<span class="kwd">Notation</span> "<span class="id">M</span> '⊨<span class="id">m</span>' <span class="id">A</span>" := (<span class="id">mdl_sat</span> <span class="id">M</span> <span class="id">A</span>)(<span class="tactic">at</span> <span class="id">level</span> 40).<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id">valid_avar</span> : <span class="id">config</span> -&gt; <span class="id">a_var</span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id">valid_hole</span> : <span class="kwd">forall</span> σ <span class="id">n</span>, <span class="id">valid_avar</span> σ (<span class="id">a_hole</span> <span class="id">n</span>)<br/>
| <span class="id">valid_bind</span> : <span class="kwd">forall</span> σ <span class="id">x</span> α, <span class="id">mapp</span> σ <span class="id">x</span> = <span class="id">Some</span> α -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">valid_avar</span> σ (<span class="id">a_bind</span> <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Constructors</span> <span class="id">valid_avar</span> : <span class="id">chainmail_db</span>.<br/>
<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
