<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">com.chainmail.hoare</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="com.chainmail.common.html#"><span class="id" title="library">common</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="com.chainmail.loo_def.html#"><span class="id" title="library">loo_def</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="com.chainmail.loo_properties.html#"><span class="id" title="library">loo_properties</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="com.chainmail.loo_reduction_properties.html#"><span class="id" title="library">loo_reduction_properties</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="com.chainmail.decoupled_classical_properties.html#"><span class="id" title="library">decoupled_classical_properties</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="com.chainmail.decoupling.html#"><span class="id" title="library">decoupling</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="com.chainmail.exp.html#"><span class="id" title="library">exp</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="com.chainmail.exp_chainmail.html#"><span class="id" title="library">exp_chainmail</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="com.chainmail.sbst_decoupled.html#"><span class="id" title="library">sbst_decoupled</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="com.chainmail.function_operations.html#"><span class="id" title="library">function_operations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="com.chainmail.CpdtTactics.html#"><span class="id" title="library">CpdtTactics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">Coq.Logic.FunctionalExtensionality</span></a>.<br/>

<br/>
<span class="comment">(*Inductive&nbsp;condition&nbsp;:&nbsp;Type&nbsp;:=<br/>
|&nbsp;cond&nbsp;:&nbsp;(config&nbsp;-&gt;&nbsp;Prop)&nbsp;-&gt;&nbsp;condition<br/>
|&nbsp;cond_and&nbsp;:&nbsp;condition&nbsp;-&gt;&nbsp;condition&nbsp;-&gt;&nbsp;condition<br/>
|&nbsp;cond_or&nbsp;:&nbsp;condition&nbsp;-&gt;&nbsp;condition&nbsp;-&gt;&nbsp;condition.<br/>
<br/>
Notation&nbsp;"P&nbsp;'⩟'&nbsp;Q"&nbsp;:=&nbsp;(cond_and&nbsp;P&nbsp;Q)(at&nbsp;level&nbsp;40).<br/>
Notation&nbsp;"P&nbsp;'⊻'&nbsp;Q"&nbsp;:=&nbsp;(cond_or&nbsp;P&nbsp;Q)(at&nbsp;level&nbsp;40).<br/>
<br/>
Fixpoint&nbsp;app&nbsp;(P&nbsp;:&nbsp;condition)(σ&nbsp;:&nbsp;config)&nbsp;:=<br/>
&nbsp;&nbsp;match&nbsp;goal&nbsp;with<br/>
&nbsp;&nbsp;|&nbsp;cond&nbsp;Q&nbsp;=&gt;&nbsp;Q&nbsp;σ<br/>
&nbsp;&nbsp;|&nbsp;Q&nbsp;⩟&nbsp;R&nbsp;=&gt;&nbsp;(app&nbsp;Q&nbsp;σ)&nbsp;/\&nbsp;(app&nbsp;R&nbsp;σ)<br/>
&nbsp;&nbsp;|&nbsp;Q&nbsp;⊻&nbsp;R&nbsp;=&gt;&nbsp;(app&nbsp;Q&nbsp;σ)&nbsp;\/&nbsp;(app&nbsp;R&nbsp;σ)&nbsp;∀<br/>
&nbsp;&nbsp;end.*)</span><br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="pair_reductions_alt"><span class="id" title="inductive">pair_reductions_alt</span></a> : <a class="idref" href="com.chainmail.loo_def.html#mdl"><span class="id" title="definition">mdl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#mdl"><span class="id" title="definition">mdl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="pra_single"><span class="id" title="constructor">pra_single</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#pair_reductions_alt"><span class="id" title="inductive">pair_reductions_alt</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a><br/>
| <a name="pra_trans"><span class="id" title="constructor">pra_trans</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ σ2, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#pair_reductions_alt"><span class="id" title="inductive">pair_reductions_alt</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#pair_reductions_alt"><span class="id" title="inductive">pair_reductions_alt</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="com.chainmail.hoare.html#pair_reductions_alt"><span class="id" title="inductive">pair_reductions_alt</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reductions_alt_equiv_1"><span class="id" title="lemma">pair_reductions_alt_equiv_1</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#pair_reductions_alt"><span class="id" title="inductive">pair_reductions_alt</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reductions_alt_equiv_2"><span class="id" title="lemma">pair_reductions_alt_equiv_2</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#pair_reductions_alt"><span class="id" title="inductive">pair_reductions_alt</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reduction_change_alt"><span class="id" title="lemma">pair_reduction_change_alt</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#pair_reductions_alt"><span class="id" title="inductive">pair_reductions_alt</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">P</span> : <a class="idref" href="com.chainmail.loo_def.html#mdl"><span class="id" title="definition">mdl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#mdl"><span class="id" title="definition">mdl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> σ σ'<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="com.chainmail.hoare.html#pair_reductions_alt"><span class="id" title="inductive">pair_reductions_alt</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="com.chainmail.hoare.html#pair_reductions_alt"><span class="id" title="inductive">pair_reductions_alt</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> σ1, σ2; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#excluded_middle"><span class="id" title="axiom">excluded_middle</span></a> (<span class="id" title="var">P</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHred</span> <span class="id" title="var">P</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">auto_specialize</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> σ0, σ3; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> σ1, σ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reduction_change"><span class="id" title="lemma">pair_reduction_change</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">P</span> : <a class="idref" href="com.chainmail.loo_def.html#mdl"><span class="id" title="definition">mdl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#mdl"><span class="id" title="definition">mdl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> σ σ'<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.hoare.html#pair_reduction_change_alt"><span class="id" title="lemma">pair_reduction_change_alt</span></a> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">P</span>:=<span class="id" title="var">P</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [σ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#pair_reductions_alt_equiv_2"><span class="id" title="axiom">pair_reductions_alt_equiv_2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> σ, σ0;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#pair_reductions_alt_equiv_1"><span class="id" title="axiom">pair_reductions_alt_equiv_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#pair_reductions_alt_equiv_1"><span class="id" title="axiom">pair_reductions_alt_equiv_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot;M '∙' '{pre:' P '}' σ '{post:' Q '}'" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot;M '∙' '{pre:' P '}' σ1 '⤳⋆' σ2 '{post:' Q '}'" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot;M1 '⦂' M2 '⦿' '{pre:' P '}' σ '{post:' Q '}'" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="hoare_triple"><span class="id" title="inductive">hoare_triple</span></a> : <a class="idref" href="com.chainmail.loo_def.html#mdl"><span class="id" title="definition">mdl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="ht_r"><span class="id" title="constructor">ht_r</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ (<span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> σ', <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a><br/>
<br/>
<span class="id" title="keyword">where</span> <a name="aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">&quot;</span></a>M '∙' '{pre:' P '}' σ '{post:' Q '}'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= (<a class="idref" href="com.chainmail.hoare.html#hoare_triple"><span class="id" title="inductive">hoare_triple</span></a> <span class="id" title="var">M</span> <span class="id" title="var">P</span> σ <span class="id" title="var">Q</span>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="hoare_triples"><span class="id" title="inductive">hoare_triples</span></a> : <a class="idref" href="com.chainmail.loo_def.html#mdl"><span class="id" title="definition">mdl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="ht_single"><span class="id" title="constructor">ht_single</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> <span class="id" title="var">P</span> σ1 σ2 <span class="id" title="var">Q</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a><br/>
| <a name="ht_trans"><span class="id" title="constructor">ht_trans</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> <span class="id" title="var">P</span> σ1 σ σ2 <span class="id" title="var">P'</span> <span class="id" title="var">Q</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#P'"><span class="id" title="variable">P'</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#P'"><span class="id" title="variable">P'</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<br/>
<span class="id" title="keyword">where</span> <a name="4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">&quot;</span></a>M '∙' '{pre:' P '}' σ1 '⤳⋆' σ2 '{post:' Q '}'" := (<a class="idref" href="com.chainmail.hoare.html#hoare_triples"><span class="id" title="inductive">hoare_triples</span></a> <span class="id" title="var">M</span> <span class="id" title="var">P</span> σ1 σ2 <span class="id" title="var">Q</span>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="hoare_triple_pr"><span class="id" title="inductive">hoare_triple_pr</span></a> : <a class="idref" href="com.chainmail.loo_def.html#mdl"><span class="id" title="definition">mdl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#mdl"><span class="id" title="definition">mdl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="ht_pr"><span class="id" title="constructor">ht_pr</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ (<span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> σ', <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">}</span></a><br/>
<br/>
<span class="id" title="keyword">where</span> <a name="49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">&quot;</span></a>M1 '⦂' M2 '⦿' '{pre:' P '}' σ '{post:' Q '}'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= (<a class="idref" href="com.chainmail.hoare.html#hoare_triple_pr"><span class="id" title="inductive">hoare_triple_pr</span></a> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> <span class="id" title="var">P</span> σ <span class="id" title="var">Q</span>).<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="com.chainmail.hoare.html#hoare_triple"><span class="id" title="inductive">hoare_triple</span></a> <a class="idref" href="com.chainmail.hoare.html#hoare_triples"><span class="id" title="inductive">hoare_triples</span></a> <a class="idref" href="com.chainmail.hoare.html#hoare_triple_pr"><span class="id" title="inductive">hoare_triple_pr</span></a> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">&quot;</span></a>M1 '⦂' M2 '◎' σ0 '…' '̱' '⊨' '{pre:' A1 '}' σ '{post:' A2 '}'" :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">M1</span> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">M2</span> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">:</span></a> <span class="id" title="keyword">fun</span> σ =&gt; <span class="id" title="var">M1</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">M2</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">◎</span></a> σ0 <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">…</span></a> σ <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⊨</span></a> <span class="id" title="var">A1</span><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">}</span></a> σ <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">:</span></a> <span class="id" title="keyword">fun</span> σ' =&gt; <span class="id" title="var">M1</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">M2</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">◎</span></a> σ0 <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">…</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⊨</span></a> <span class="id" title="var">A2</span><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">}</span></a>)(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="contn_is"><span class="id" title="inductive">contn_is</span></a> : <a class="idref" href="com.chainmail.loo_def.html#stmt"><span class="id" title="inductive">stmt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="is_stmt"><span class="id" title="constructor">is_stmt</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> σ <span class="id" title="var">ϕ</span> ψ, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.hoare.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="com.chainmail.hoare.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> <a class="idref" href="com.chainmail.hoare.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#c_stmt"><span class="id" title="constructor">c_stmt</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_assgn"><span class="id" title="definition">is_assgn</span></a> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">r1</span> <span class="id" title="var">r2</span> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.hoare.html#r1"><span class="id" title="variable">r1</span></a> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">≔</span></a> <a class="idref" href="com.chainmail.hoare.html#r2"><span class="id" title="variable">r2</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_eAssgn"><span class="id" title="definition">is_eAssgn</span></a> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#78fee043a3d5c5555a28ac44c55c793c"><span class="id" title="notation">≔′</span></a> <a class="idref" href="com.chainmail.hoare.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_fAccess"><span class="id" title="definition">is_fAccess</span></a> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.loo_def.html#03ac7a77e07606581fa5cc57035b8cd5"><span class="id" title="notation">r_</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">≔</span></a> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="com.chainmail.loo_def.html#3c30cf79c4945f0ed37e85caffb1eb91"><span class="id" title="notation">◌</span></a> <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_fAssgn"><span class="id" title="definition">is_fAssgn</span></a> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span> <span class="id" title="var">f</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#3c30cf79c4945f0ed37e85caffb1eb91"><span class="id" title="notation">◌</span></a> <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">≔</span></a> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#03ac7a77e07606581fa5cc57035b8cd5"><span class="id" title="notation">r_</span></a> <a class="idref" href="com.chainmail.hoare.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_new"><span class="id" title="definition">is_new</span></a> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span> <span class="id" title="var">C</span> <span class="id" title="var">β</span> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_new"><span class="id" title="constructor">s_new</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.hoare.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="com.chainmail.hoare.html#dc5233cb1d950ecad15b1e9b2514f665"><span class="id" title="variable">β</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_if"><span class="id" title="definition">is_if</span></a> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">e</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_if"><span class="id" title="constructor">s_if</span></a> <a class="idref" href="com.chainmail.hoare.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_rtrn"><span class="id" title="definition">is_rtrn</span></a> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_rtrn"><span class="id" title="constructor">s_rtrn</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_rtrn"><span class="id" title="constructor">s_rtrn</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="comment">(*Definition&nbsp;is_reduced&nbsp;:&nbsp;config&nbsp;-&gt;&nbsp;config&nbsp;-&gt;&nbsp;Prop&nbsp;:=<br/>
&nbsp;&nbsp;fun&nbsp;σ1&nbsp;σ2&nbsp;=&gt;&nbsp;exists&nbsp;ϕ1&nbsp;ϕ2&nbsp;ψ&nbsp;s1&nbsp;s2,&nbsp;snd&nbsp;σ1&nbsp;=&nbsp;ϕ1&nbsp;::&nbsp;ψ&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;snd&nbsp;σ2&nbsp;=&nbsp;ϕ2&nbsp;::&nbsp;ψ&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contn&nbsp;ϕ1&nbsp;=&nbsp;c_stmt&nbsp;(s1&nbsp;;;&nbsp;s2)&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contn&nbsp;ϕ2&nbsp;=&nbsp;c_stmt&nbsp;s2.*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ctxUpdated"><span class="id" title="definition">ctxUpdated</span></a> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ1 <span class="id" title="var">x</span> <span class="id" title="var">v</span> σ2 =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">ϕ1</span> <span class="id" title="var">ϕ2</span> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.hoare.html#1e79d975b7d83fc9869d290798e8fd72"><span class="id" title="variable">ϕ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="com.chainmail.hoare.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.hoare.html#da206f73466165b8d6a644d215eea9c3"><span class="id" title="variable">ϕ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="com.chainmail.hoare.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <a class="idref" href="com.chainmail.hoare.html#da206f73466165b8d6a644d215eea9c3"><span class="id" title="variable">ϕ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a> (<a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <a class="idref" href="com.chainmail.hoare.html#1e79d975b7d83fc9869d290798e8fd72"><span class="id" title="variable">ϕ1</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="heapUpdated"><span class="id" title="definition">heapUpdated</span></a> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#addr"><span class="id" title="inductive">addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#obj"><span class="id" title="record">obj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ1 <span class="id" title="var">α</span> <span class="id" title="var">o</span> σ2 =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="com.chainmail.hoare.html#o"><span class="id" title="variable">o</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fieldHeapUpdated"><span class="id" title="definition">fieldHeapUpdated</span></a> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#addr"><span class="id" title="inductive">addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#fld"><span class="id" title="inductive">fld</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ1 <span class="id" title="var">α</span> <span class="id" title="var">f</span> <span class="id" title="var">v</span> σ2 =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">o'</span> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">⟦</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">↦</span></a> <a class="idref" href="com.chainmail.hoare.html#o'"><span class="id" title="variable">o'</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">⟧</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">∈</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#flds"><span class="id" title="projection">flds</span></a> <a class="idref" href="com.chainmail.hoare.html#o'"><span class="id" title="variable">o'</span></a> <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.hoare.html#v'"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#heapUpdated"><span class="id" title="definition">heapUpdated</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> (<a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">new</span></a> (<a class="idref" href="com.chainmail.loo_def.html#cname"><span class="id" title="projection">cname</span></a> <a class="idref" href="com.chainmail.hoare.html#o'"><span class="id" title="variable">o'</span></a>) (<a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a> <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a> (<a class="idref" href="com.chainmail.loo_def.html#flds"><span class="id" title="projection">flds</span></a> <a class="idref" href="com.chainmail.hoare.html#o'"><span class="id" title="variable">o'</span></a>))) <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fieldUpdated"><span class="id" title="definition">fieldUpdated</span></a> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#fld"><span class="id" title="inductive">fld</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ1 <span class="id" title="var">x</span> <span class="id" title="var">f</span> <span class="id" title="var">y</span> σ2 =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">α</span> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#v_addr"><span class="id" title="constructor">v_addr</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a><a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> <a class="idref" href="com.chainmail.hoare.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#fieldHeapUpdated"><span class="id" title="definition">fieldHeapUpdated</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fieldUpdatedValue"><span class="id" title="definition">fieldUpdatedValue</span></a> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#fld"><span class="id" title="inductive">fld</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ1 <span class="id" title="var">x</span> <span class="id" title="var">f</span> <span class="id" title="var">v</span> σ2 =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">α</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#v_addr"><span class="id" title="constructor">v_addr</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a><a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#fieldHeapUpdated"><span class="id" title="definition">fieldHeapUpdated</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fieldMapsTo"><span class="id" title="definition">fieldMapsTo</span></a> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#fld"><span class="id" title="inductive">fld</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ <span class="id" title="var">x</span> <span class="id" title="var">f</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">α</span> <span class="id" title="var">o</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#v_addr"><span class="id" title="constructor">v_addr</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a><a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">⟦</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">↦</span></a> <a class="idref" href="com.chainmail.hoare.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">⟧</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">∈</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#flds"><span class="id" title="projection">flds</span></a> <a class="idref" href="com.chainmail.hoare.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="new_object_created"><span class="id" title="definition">new_object_created</span></a> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#cls"><span class="id" title="inductive">cls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.common.html#partial_map"><span class="id" title="definition">partial_map</span></a> <a class="idref" href="com.chainmail.loo_def.html#fld"><span class="id" title="inductive">fld</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ <span class="id" title="var">x</span> <span class="id" title="var">C</span> <span class="id" title="var">ps</span> σ' =&gt;  <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> χ <span class="id" title="var">ϕ</span> ψ <span class="id" title="var">α</span> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="com.chainmail.hoare.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> <a class="idref" href="com.chainmail.hoare.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#c_stmt"><span class="id" title="constructor">c_stmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_new"><span class="id" title="constructor">s_new</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.hoare.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="com.chainmail.hoare.html#ps"><span class="id" title="variable">ps</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">fresh_</span></a><a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">χ</span></a> <a class="idref" href="com.chainmail.hoare.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#heapUpdated"><span class="id" title="definition">heapUpdated</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> (<a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">new</span></a> <a class="idref" href="com.chainmail.hoare.html#C"><span class="id" title="variable">C</span></a> (<a class="idref" href="com.chainmail.hoare.html#ps"><span class="id" title="variable">ps</span></a> <a class="idref" href="com.chainmail.common.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="com.chainmail.common.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <a class="idref" href="com.chainmail.hoare.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a><a class="idref" href="com.chainmail.common.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>)) <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#ctxUpdated"><span class="id" title="definition">ctxUpdated</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="com.chainmail.loo_def.html#v_addr"><span class="id" title="constructor">v_addr</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>) <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="heapUnchanged"><span class="id" title="definition">heapUnchanged</span></a> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ1 σ2 =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ctxUnchanged"><span class="id" title="definition">ctxUnchanged</span></a> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ1 σ2 =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">ϕ1</span> <span class="id" title="var">ϕ2</span> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.hoare.html#1e79d975b7d83fc9869d290798e8fd72"><span class="id" title="variable">ϕ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="com.chainmail.hoare.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.hoare.html#da206f73466165b8d6a644d215eea9c3"><span class="id" title="variable">ϕ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="com.chainmail.hoare.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <a class="idref" href="com.chainmail.hoare.html#1e79d975b7d83fc9869d290798e8fd72"><span class="id" title="variable">ϕ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <a class="idref" href="com.chainmail.hoare.html#da206f73466165b8d6a644d215eea9c3"><span class="id" title="variable">ϕ2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">hoare_auto</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#is_eAssgn"><span class="id" title="definition">is_eAssgn</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#is_fAccess"><span class="id" title="definition">is_fAccess</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#is_fAssgn"><span class="id" title="definition">is_fAssgn</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#is_if"><span class="id" title="definition">is_if</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#is_new"><span class="id" title="definition">is_new</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#heapUnchanged"><span class="id" title="definition">heapUnchanged</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ |- <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#ht_r"><span class="id" title="constructor">ht_r</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">Hcontn</span> : <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hcontn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hcontn</span><br/>
&nbsp;&nbsp;| [|- <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">ϕ'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ?ψ'<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#is_stmt"><span class="id" title="constructor">is_stmt</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">ϕ</span>:=<span class="id" title="var">ϕ'</span>)(ψ:=ψ');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">Hred</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *); <span class="id" title="tactic">eauto</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="var">destruct_exists_loo</span>; <span class="id" title="var">andDestruct</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="eAssgn_hoare"><span class="id" title="lemma">eAssgn_hoare</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">s</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#78fee043a3d5c5555a28ac44c55c793c"><span class="id" title="notation">≔′</span></a> <a class="idref" href="com.chainmail.hoare.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>)<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <span class="id" title="keyword">fun</span> σ' =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#ctxUpdated"><span class="id" title="definition">ctxUpdated</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.hoare.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">hoare_auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="eAssgn_heap_unchanged_hoare"><span class="id" title="lemma">eAssgn_heap_unchanged_hoare</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">s</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#78fee043a3d5c5555a28ac44c55c793c"><span class="id" title="notation">≔′</span></a> <a class="idref" href="com.chainmail.hoare.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>)<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#heapUnchanged"><span class="id" title="definition">heapUnchanged</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">hoare_auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fAccess_hoare"><span class="id" title="lemma">fAccess_hoare</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.loo_def.html#03ac7a77e07606581fa5cc57035b8cd5"><span class="id" title="notation">r_</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">≔</span></a> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="com.chainmail.loo_def.html#3c30cf79c4945f0ed37e85caffb1eb91"><span class="id" title="notation">◌</span></a> <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>)<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <span class="id" title="keyword">fun</span> σ' =&gt; <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#fieldMapsTo"><span class="id" title="definition">fieldMapsTo</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#ctxUpdated"><span class="id" title="definition">ctxUpdated</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">hoare_auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="keyword">Hint</span> : <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="keyword">Hint</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fAccess_heap_unchanged_hoare"><span class="id" title="lemma">fAccess_heap_unchanged_hoare</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.loo_def.html#03ac7a77e07606581fa5cc57035b8cd5"><span class="id" title="notation">r_</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">≔</span></a> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="com.chainmail.loo_def.html#3c30cf79c4945f0ed37e85caffb1eb91"><span class="id" title="notation">◌</span></a> <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>)<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#heapUnchanged"><span class="id" title="definition">heapUnchanged</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">hoare_auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fAssgn_hoare"><span class="id" title="lemma">fAssgn_hoare</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ <span class="id" title="var">x</span> <span class="id" title="var">f</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#3c30cf79c4945f0ed37e85caffb1eb91"><span class="id" title="notation">◌</span></a> <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">≔</span></a> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#03ac7a77e07606581fa5cc57035b8cd5"><span class="id" title="notation">r_</span></a> <a class="idref" href="com.chainmail.hoare.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>)<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <span class="id" title="keyword">fun</span> σ' =&gt; <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#fieldUpdated"><span class="id" title="definition">fieldUpdated</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.hoare.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">hoare_auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">hoare_auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="keyword">Hint</span> : <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="keyword">Hint</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="keyword">Hint</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fAssgn_ctx_unchanged_hoare"><span class="id" title="lemma">fAssgn_ctx_unchanged_hoare</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ <span class="id" title="var">x</span> <span class="id" title="var">f</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#3c30cf79c4945f0ed37e85caffb1eb91"><span class="id" title="notation">◌</span></a> <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">≔</span></a> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#03ac7a77e07606581fa5cc57035b8cd5"><span class="id" title="notation">r_</span></a> <a class="idref" href="com.chainmail.hoare.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>)<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#ctxUnchanged"><span class="id" title="definition">ctxUnchanged</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">hoare_auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="new_hoare"><span class="id" title="lemma">new_hoare</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ <span class="id" title="var">x</span> <span class="id" title="var">C</span> <span class="id" title="var">β</span> <span class="id" title="var">s</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_new"><span class="id" title="constructor">s_new</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.hoare.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="com.chainmail.hoare.html#dc5233cb1d950ecad15b1e9b2514f665"><span class="id" title="variable">β</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>)<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <span class="id" title="keyword">fun</span> σ' =&gt; <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#new_object_created"><span class="id" title="definition">new_object_created</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.hoare.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="com.chainmail.hoare.html#dc5233cb1d950ecad15b1e9b2514f665"><span class="id" title="variable">β</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">hoare_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="if_true_hoare"><span class="id" title="lemma">if_true_hoare</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ <span class="id" title="var">e</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">s</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_if"><span class="id" title="constructor">s_if</span></a> <a class="idref" href="com.chainmail.hoare.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.hoare.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <a class="idref" href="com.chainmail.loo_def.html#v_true"><span class="id" title="constructor">v_true</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.loo_def.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>)<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">hoare_auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">eval_rewrite</span>; <span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="if_false_hoare"><span class="id" title="lemma">if_false_hoare</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ <span class="id" title="var">e</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">s</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_if"><span class="id" title="constructor">s_if</span></a> <a class="idref" href="com.chainmail.hoare.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.hoare.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <a class="idref" href="com.chainmail.loo_def.html#v_false"><span class="id" title="constructor">v_false</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.loo_def.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>)<a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">hoare_auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">eval_rewrite</span>; <span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="if_heap_unchanged_hoare"><span class="id" title="lemma">if_heap_unchanged_hoare</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#is_if"><span class="id" title="definition">is_if</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#heapUnchanged"><span class="id" title="definition">heapUnchanged</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">hoare_auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="if_ctx_unchanged_hoare"><span class="id" title="lemma">if_ctx_unchanged_hoare</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#is_if"><span class="id" title="definition">is_if</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#ctxUnchanged"><span class="id" title="definition">ctxUnchanged</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">hoare_auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="hoare_triple_inversion"><span class="id" title="lemma">hoare_triple_inversion</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> <span class="id" title="var">P</span> σ <span class="id" title="var">Q</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ', <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> <span class="id" title="var">P</span> σ <span class="id" title="var">Q</span> <span class="id" title="var">Hhoare</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hhoare</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">hoare_inversion_1</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">Hhoare</span> : ?<span class="id" title="var">M</span> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> ?<span class="id" title="var">P</span><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a> ?σ <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> ?<span class="id" title="var">Q</span><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hred</span> : ?<span class="id" title="var">M</span> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> ?σ <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> ?σ' |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">notHyp</span> (<span class="id" title="var">Q</span> σ');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> σ');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#hoare_triple_inversion"><span class="id" title="lemma">hoare_triple_inversion</span></a>; <span class="id" title="tactic">eauto</span>|]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="hoare_triples_inversion"><span class="id" title="lemma">hoare_triples_inversion</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> <span class="id" title="var">P</span> σ1 σ2 <span class="id" title="var">Q</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> <span class="id" title="var">P</span> σ1 σ2 <span class="id" title="var">Q</span> <span class="id" title="var">Hhoare</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hhoare</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hoare_inversion_1</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">hoare_inversion_2</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">Hhoare</span> : ?<span class="id" title="var">M</span> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> ?<span class="id" title="var">P</span><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a> ?σ <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> ?<span class="id" title="var">Q</span><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hred</span> : ?<span class="id" title="var">M</span> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">∙</span></a> ?σ <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">⤳⋆</span></a> ?σ' |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">notHyp</span> (<span class="id" title="var">Q</span> σ');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> σ');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#hoare_triples_inversion"><span class="id" title="lemma">hoare_triples_inversion</span></a>; <span class="id" title="tactic">eauto</span>|]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="hoare_triple_pr_inversion"><span class="id" title="lemma">hoare_triple_pr_inversion</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">M1</span> <span class="id" title="var">M2</span> <span class="id" title="var">P</span> σ <span class="id" title="var">Q</span>}, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {σ'}, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> <span class="id" title="var">P</span> σ <span class="id" title="var">Q</span> <span class="id" title="var">Hhoare</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hhoare</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="hoare_triples_pr_transitive"><span class="id" title="lemma">hoare_triples_pr_transitive</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> <span class="id" title="var">P</span> σ1 σ2 <span class="id" title="var">Q</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ3 <span class="id" title="var">Q'</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#e12536cea4738a3b52fe7745b6ebd1cf"><span class="id" title="variable">σ3</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#Q'"><span class="id" title="variable">Q'</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#e12536cea4738a3b52fe7745b6ebd1cf"><span class="id" title="variable">σ3</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#Q'"><span class="id" title="variable">Q'</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> <span class="id" title="var">P</span> σ1 σ2 <span class="id" title="var">Q</span> <span class="id" title="var">Hhoare</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hhoare</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#ht_trans"><span class="id" title="constructor">ht_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">hoare_inversion</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">Hhoare</span> : ?<span class="id" title="var">M</span> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> ?<span class="id" title="var">P</span><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a> ?σ <a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">:</span></a> ?<span class="id" title="var">Q</span><a class="idref" href="com.chainmail.hoare.html#aaca83de1d8af00a76325cd459a61c69"><span class="id" title="notation">}</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hred</span> : ?<span class="id" title="var">M</span> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> ?σ <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> ?σ' |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">notHyp</span> (<span class="id" title="var">Q</span> σ');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> σ');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#hoare_triple_inversion"><span class="id" title="lemma">hoare_triple_inversion</span></a>; <span class="id" title="tactic">eauto</span>|]<br/>
&nbsp;&nbsp;| [<span class="id" title="var">Hhoare</span> : ?<span class="id" title="var">M</span> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> ?<span class="id" title="var">P</span><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a> ?σ <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">⤳⋆</span></a> ?σ' <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> ?<span class="id" title="var">Q</span><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">notHyp</span> (<span class="id" title="var">Q</span> σ');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> σ');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#hoare_triples_inversion"><span class="id" title="lemma">hoare_triples_inversion</span></a>; <span class="id" title="tactic">eauto</span>|]<br/>
&nbsp;&nbsp;| [<span class="id" title="var">Hhoare</span> : ?<span class="id" title="var">M1</span> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">⦂</span></a> ?<span class="id" title="var">M2</span> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">:</span></a> ?<span class="id" title="var">P</span><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">}</span></a> ?σ <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">:</span></a> ?<span class="id" title="var">Q</span><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">}</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hred</span> : ?<span class="id" title="var">M1</span> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> ?<span class="id" title="var">M2</span> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> ?σ <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> ?σ' |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">notHyp</span> (<span class="id" title="var">Q</span> σ');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> σ');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#hoare_triple_pr_inversion"><span class="id" title="lemma">hoare_triple_pr_inversion</span></a>; <span class="id" title="tactic">eauto</span>|]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reduction_trace_unique"><span class="id" title="lemma">reduction_trace_unique</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ3, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#e12536cea4738a3b52fe7745b6ebd1cf"><span class="id" title="variable">σ3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#e12536cea4738a3b52fe7745b6ebd1cf"><span class="id" title="variable">σ3</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.hoare.html#e12536cea4738a3b52fe7745b6ebd1cf"><span class="id" title="variable">σ3</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#e12536cea4738a3b52fe7745b6ebd1cf"><span class="id" title="variable">σ3</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ <span class="id" title="var">Hred'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hred'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unique_reduction_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hred'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unique_reduction_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reductions_transitive"><span class="id" title="lemma">reductions_transitive</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ3, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#e12536cea4738a3b52fe7745b6ebd1cf"><span class="id" title="variable">σ3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#e12536cea4738a3b52fe7745b6ebd1cf"><span class="id" title="variable">σ3</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">reductions_transitive</span> : <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="com.chainmail.hoare.html#reductions_transitive"><span class="id" title="lemma">reductions_transitive</span></a> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="internal_reductions_is_reducions"><span class="id" title="lemma">internal_reductions_is_reducions</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⤳…</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span>, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">link_unique_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHred</span> <span class="id" title="var">M</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_specialize</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reduction_is_reductions"><span class="id" title="lemma">pair_reduction_is_reductions</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span>, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">link_unique_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦿</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⤳…</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#internal_reductions_is_reducions"><span class="id" title="lemma">internal_reductions_is_reducions</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
reduction_order is an ordering on stacks. 
This is used to prove that reduction is acyclic.
reducion_order is not well-founded, as loo has
recursive functions, and thus a loo program might 
never terminate. It is only useful as an ordering 
on stacks to prove reduction acyclic from the 
perspective of stacks

<div class="paragraph"> </div>

ro extends this ordering on configurations.

<div class="paragraph"> </div>

ro σ1 σ2

<div class="paragraph"> </div>

means σ2 &lt; σ1
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="stmt_of"><span class="id" title="definition">stmt_of</span></a> (<span class="id" title="var">ϕ</span> : <a class="idref" href="com.chainmail.loo_def.html#frame"><span class="id" title="record">frame</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> <a class="idref" href="com.chainmail.hoare.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="com.chainmail.loo_def.html#c_stmt"><span class="id" title="constructor">c_stmt</span></a> <span class="id" title="var">s</span> =&gt; <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;| <a class="idref" href="com.chainmail.loo_def.html#c_hole"><span class="id" title="constructor">c_hole</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s</span> =&gt; <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="contn_size"><span class="id" title="definition">contn_size</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="com.chainmail.hoare.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="com.chainmail.loo_def.html#c_stmt"><span class="id" title="constructor">c_stmt</span></a> <span class="id" title="var">s</span> =&gt; <a class="idref" href="com.chainmail.loo_reduction_properties.html#stmt_size"><span class="id" title="definition">stmt_size</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="com.chainmail.loo_def.html#c_hole"><span class="id" title="constructor">c_hole</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s</span> =&gt; 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#stmt_size"><span class="id" title="definition">stmt_size</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="reduction_order"><span class="id" title="inductive">reduction_order</span></a> : <a class="idref" href="com.chainmail.loo_def.html#stack"><span class="id" title="definition">stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#stack"><span class="id" title="definition">stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="ro_frame"><span class="id" title="constructor">ro_frame</span></a> : <span class="id" title="keyword">forall</span> ψ1 ψ2 <span class="id" title="var">ϕ1</span> <span class="id" title="var">ϕ2</span> ψ, <a class="idref" href="com.chainmail.hoare.html#contn_size"><span class="id" title="definition">contn_size</span></a> (<a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> <a class="idref" href="com.chainmail.hoare.html#1e79d975b7d83fc9869d290798e8fd72"><span class="id" title="variable">ϕ1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Peano.html#7f2a7ef2c63af7359b22787a9daf336e"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_size"><span class="id" title="definition">contn_size</span></a> (<a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> <a class="idref" href="com.chainmail.hoare.html#da206f73466165b8d6a644d215eea9c3"><span class="id" title="variable">ϕ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#reduction_order"><span class="id" title="inductive">reduction_order</span></a> (<a class="idref" href="com.chainmail.hoare.html#3da2a936e9f3ff1d5a3e8ac813abb3a3"><span class="id" title="variable">ψ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="com.chainmail.hoare.html#1e79d975b7d83fc9869d290798e8fd72"><span class="id" title="variable">ϕ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="com.chainmail.hoare.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a>) (<a class="idref" href="com.chainmail.hoare.html#894c502dac06a9d0ada98779882be2c3"><span class="id" title="variable">ψ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="com.chainmail.hoare.html#da206f73466165b8d6a644d215eea9c3"><span class="id" title="variable">ϕ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="com.chainmail.hoare.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a>).<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="com.chainmail.hoare.html#reduction_order"><span class="id" title="inductive">reduction_order</span></a> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ro"><span class="id" title="definition">ro</span></a> (σ1 σ2 : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#reduction_order"><span class="id" title="inductive">reduction_order</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reduction_order_transitive"><span class="id" title="lemma">reduction_order_transitive</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> ψ1 ψ2, <a class="idref" href="com.chainmail.hoare.html#reduction_order"><span class="id" title="inductive">reduction_order</span></a> <a class="idref" href="com.chainmail.hoare.html#3da2a936e9f3ff1d5a3e8ac813abb3a3"><span class="id" title="variable">ψ1</span></a> <a class="idref" href="com.chainmail.hoare.html#894c502dac06a9d0ada98779882be2c3"><span class="id" title="variable">ψ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> ψ3, <a class="idref" href="com.chainmail.hoare.html#reduction_order"><span class="id" title="inductive">reduction_order</span></a> <a class="idref" href="com.chainmail.hoare.html#894c502dac06a9d0ada98779882be2c3"><span class="id" title="variable">ψ2</span></a> <a class="idref" href="com.chainmail.hoare.html#42f01c8ca74035114abb44c7e263e350"><span class="id" title="variable">ψ3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#reduction_order"><span class="id" title="inductive">reduction_order</span></a> <a class="idref" href="com.chainmail.hoare.html#3da2a936e9f3ff1d5a3e8ac813abb3a3"><span class="id" title="variable">ψ1</span></a> <a class="idref" href="com.chainmail.hoare.html#42f01c8ca74035114abb44c7e263e350"><span class="id" title="variable">ψ3</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
</div>

<div class="doc">
This is fairly straight-forward to prove on paper.
By inversion on the derivation of reduction_order, 
we get:

<div class="paragraph"> </div>

ψ1 = ψ1' ++ ϕ1 :: ψa
ψ2 = ψ2_1 ++ ϕ2 :: ψa

<div class="paragraph"> </div>

and 

<div class="paragraph"> </div>

ψ2 = ψ2_2 ++ ϕ2' :: ψb
ψ3 = ψ3' ++ ϕ3 :: ψb

<div class="paragraph"> </div>

Since 

<div class="paragraph"> </div>

ψ2_1 ++ ϕ2 :: ψa = ψ2_2 ++ ϕ2' :: ψb, 

<div class="paragraph"> </div>

it follows that either
(i) ψa = ψb, (ii) ψa ⊂ ψb, or (iii) ψb ⊂ ψa

<div class="paragraph"> </div>

(i) derived simply by noting that 
ϕ2' = ϕ2 and
contn_size ϕ1 &gt; contn_size ϕ2 &gt; contn_size ϕ3

<div class="paragraph"> </div>

(ii) it follows that ∃ ψ3'', ψ3 = ψ3'' ++ ϕ2 :: ψa. 
the desired result follows from this

<div class="paragraph"> </div>

(iii) it follows that ∃ ψ1'', ψ1 = ψ1'' ++ ϕ2' :: ψb. 
the desired result follows from this

</div>
<div class="code">
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reduction_is_ordered"><span class="id" title="lemma">reduction_is_ordered</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#ro"><span class="id" title="definition">ro</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#ro"><span class="id" title="definition">ro</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [|- <a class="idref" href="com.chainmail.hoare.html#reduction_order"><span class="id" title="inductive">reduction_order</span></a> (?<span class="id" title="var">ϕ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ?ψ) (?<span class="id" title="var">ϕ2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ?ψ)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Ha</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hb</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Ha</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">ϕ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">ϕ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">crush</span>|<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hb</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">ϕ2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">ϕ2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">crush</span>|<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hb</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#ro_frame"><span class="id" title="constructor">ro_frame</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> ?<span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="keyword">context</span>[<a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> ?<span class="id" title="var">ϕ</span>]] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.loo_reduction_properties.html#merge_stmt_size"><span class="id" title="lemma">merge_stmt_size</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [|- <a class="idref" href="com.chainmail.hoare.html#reduction_order"><span class="id" title="inductive">reduction_order</span></a> (?<span class="id" title="var">ϕ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ?<span class="id" title="var">ϕ2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ?ψ) (?<span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ?ψ)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Ha</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hb</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Ha</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">crush</span>|<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hb</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">ϕ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">ϕ2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">ϕ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">ϕ2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">crush</span>|<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hb</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#ro_frame"><span class="id" title="constructor">ro_frame</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> ?<span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="keyword">context</span>[<a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> ?<span class="id" title="var">ϕ</span>]] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [|- <a class="idref" href="com.chainmail.hoare.html#reduction_order"><span class="id" title="inductive">reduction_order</span></a> (?<span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ?ψ) (?<span class="id" title="var">ϕ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ?<span class="id" title="var">ϕ2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ?ψ)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Ha</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hb</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Ha</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">crush</span>|<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hb</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">ϕ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">ϕ2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">ϕ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">ϕ2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">crush</span>|<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hb</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#ro_frame"><span class="id" title="constructor">ro_frame</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> ?<span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="keyword">context</span>[<a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> ?<span class="id" title="var">ϕ</span>]] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reductions_is_ordered"><span class="id" title="lemma">reductions_is_ordered</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#ro"><span class="id" title="definition">ro</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#reduction_is_ordered"><span class="id" title="lemma">reduction_is_ordered</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#reduction_order_transitive"><span class="id" title="axiom">reduction_order_transitive</span></a> <span class="id" title="keyword">with</span> (ψ2:=<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> σ2); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#reduction_is_ordered"><span class="id" title="lemma">reduction_is_ordered</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reduction_order_implies_neq"><span class="id" title="lemma">reduction_order_implies_neq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> ψ1 ψ2, <a class="idref" href="com.chainmail.hoare.html#reduction_order"><span class="id" title="inductive">reduction_order</span></a> <a class="idref" href="com.chainmail.hoare.html#3da2a936e9f3ff1d5a3e8ac813abb3a3"><span class="id" title="variable">ψ1</span></a> <a class="idref" href="com.chainmail.hoare.html#894c502dac06a9d0ada98779882be2c3"><span class="id" title="variable">ψ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#3da2a936e9f3ff1d5a3e8ac813abb3a3"><span class="id" title="variable">ψ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="com.chainmail.hoare.html#894c502dac06a9d0ada98779882be2c3"><span class="id" title="variable">ψ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ψ1 ψ2 <span class="id" title="var">Hord</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hord</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ro_implies_neq"><span class="id" title="lemma">ro_implies_neq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#ro"><span class="id" title="definition">ro</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#reduction_order_implies_neq"><span class="id" title="axiom">reduction_order_implies_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="acyclic_reductions"><span class="id" title="lemma">acyclic_reductions</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#9c2d269e1251b18be89275a391c4971d"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#ro_implies_neq"><span class="id" title="lemma">ro_implies_neq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#reductions_is_ordered"><span class="id" title="lemma">reductions_is_ordered</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*Lemma&nbsp;internal_reductions_are_internal&nbsp;:<br/>
&nbsp;&nbsp;forall&nbsp;M1&nbsp;M2&nbsp;σ1&nbsp;σ2,&nbsp;M1&nbsp;⦂&nbsp;M2&nbsp;⦿&nbsp;σ1&nbsp;⤳…&nbsp;σ2&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forall&nbsp;M&nbsp;σ,&nbsp;M1&nbsp;⋄&nbsp;M2&nbsp;≜&nbsp;M&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;M&nbsp;∙&nbsp;σ1&nbsp;⤳⋆&nbsp;σ&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;M&nbsp;∙&nbsp;σ&nbsp;⤳⋆&nbsp;σ2&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal_self&nbsp;M1&nbsp;M2&nbsp;σ.<br/>
Proof.<br/>
&nbsp;&nbsp;intros&nbsp;M1&nbsp;M2&nbsp;σ1&nbsp;σ2&nbsp;Hred;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;induction&nbsp;Hred;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;intros;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;link_unique_auto.<br/>
<br/>
&nbsp;&nbsp;-&nbsp;<br/>
<br/>
Qed.*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="hoare_reductions_implies_pair_reduction"><span class="id" title="lemma">hoare_reductions_implies_pair_reduction</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> <span class="id" title="var">P</span> σ1 σ2 <span class="id" title="var">Q</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a><a class="idref" href="com.chainmail.hoare.html#4524cb641810ad237bfd70b7579b1020"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span>, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">}</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#Q"><span class="id" title="variable">Q</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> <span class="id" title="var">P</span> σ1 σ2 <span class="id" title="var">Q</span> <span class="id" title="var">Hhoare</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#ht_pr"><span class="id" title="constructor">ht_pr</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unique_reduction_auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#pair_reduction_is_reductions"><span class="id" title="lemma">pair_reduction_is_reductions</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">hoare_inversion</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="empty_precondition"><span class="id" title="definition">empty_precondition</span></a> := (<span class="id" title="keyword">fun</span> (<span class="id" title="var">_</span> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a name="1dc2cb66c5ede645202bae131cc6745c"><span class="id" title="notation">&quot;</span></a>∅" := (<a class="idref" href="com.chainmail.hoare.html#empty_precondition"><span class="id" title="definition">empty_precondition</span></a>)(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="waiting_frame_is"><span class="id" title="definition">waiting_frame_is</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">f</span> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) σ =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">ϕ1</span> <span class="id" title="var">ϕ2</span> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.hoare.html#1e79d975b7d83fc9869d290798e8fd72"><span class="id" title="variable">ϕ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="com.chainmail.hoare.html#da206f73466165b8d6a644d215eea9c3"><span class="id" title="variable">ϕ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="com.chainmail.hoare.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#da206f73466165b8d6a644d215eea9c3"><span class="id" title="variable">ϕ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="com.chainmail.hoare.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_return_to"><span class="id" title="definition">is_return_to</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">f</span> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) σ =&gt; <a class="idref" href="com.chainmail.hoare.html#is_rtrn"><span class="id" title="definition">is_rtrn</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#waiting_frame_is"><span class="id" title="definition">waiting_frame_is</span></a> <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_call_to"><span class="id" title="definition">is_call_to</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">f</span> : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) σ =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">m</span> <span class="id" title="var">β</span> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.hoare.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="com.chainmail.hoare.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="com.chainmail.hoare.html#dc5233cb1d950ecad15b1e9b2514f665"><span class="id" title="variable">β</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#y"><span class="id" title="variable">y</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="external_step"><span class="id" title="definition">external_step</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">M1</span> <span class="id" title="var">M2</span> : <a class="idref" href="com.chainmail.loo_def.html#mdl"><span class="id" title="definition">mdl</span></a>) σ =&gt; <a class="idref" href="com.chainmail.loo_def.html#external_self"><span class="id" title="definition">external_self</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#is_assgn"><span class="id" title="definition">is_assgn</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#is_new"><span class="id" title="definition">is_new</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#is_if"><span class="id" title="definition">is_if</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#is_call_to"><span class="id" title="definition">is_call_to</span></a> (<a class="idref" href="com.chainmail.loo_def.html#is_external"><span class="id" title="definition">is_external</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#is_return_to"><span class="id" title="definition">is_return_to</span></a> (<a class="idref" href="com.chainmail.loo_def.html#external_self"><span class="id" title="definition">external_self</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="internal_step"><span class="id" title="definition">internal_step</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ =&gt; <a class="idref" href="com.chainmail.hoare.html#is_call_to"><span class="id" title="definition">is_call_to</span></a> (<a class="idref" href="com.chainmail.loo_def.html#is_internal"><span class="id" title="definition">is_internal</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#is_return_to"><span class="id" title="definition">is_return_to</span></a> (<a class="idref" href="com.chainmail.loo_def.html#internal_self"><span class="id" title="definition">internal_self</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="internal_self_update_contn"><span class="id" title="lemma">internal_self_update_contn</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ, <a class="idref" href="com.chainmail.loo_def.html#internal_self"><span class="id" title="definition">internal_self</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">c</span>, <a class="idref" href="com.chainmail.loo_def.html#internal_self"><span class="id" title="definition">internal_self</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> (<a class="idref" href="com.chainmail.loo_def.html#d1c13933d8ee3c1c5e5bcb2e0f7ddb96"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#d1c13933d8ee3c1c5e5bcb2e0f7ddb96"><span class="id" title="definition">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#d1c13933d8ee3c1c5e5bcb2e0f7ddb96"><span class="id" title="definition">_contn</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#c"><span class="id" title="variable">c</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ <span class="id" title="var">Hinternal</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#d1c13933d8ee3c1c5e5bcb2e0f7ddb96"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#d1c13933d8ee3c1c5e5bcb2e0f7ddb96"><span class="id" title="definition">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#d1c13933d8ee3c1c5e5bcb2e0f7ddb96"><span class="id" title="definition">_contn</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ψ <span class="id" title="keyword">as</span> [|<span class="id" title="var">ϕ</span> ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">crush</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="internal_self_update_vMap"><span class="id" title="lemma">internal_self_update_vMap</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ, <a class="idref" href="com.chainmail.loo_def.html#internal_self"><span class="id" title="definition">internal_self</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span>, <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#this"><span class="id" title="definition">this</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#internal_self"><span class="id" title="definition">internal_self</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> (<a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">_map</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ <span class="id" title="var">Hinternal</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ψ <span class="id" title="keyword">as</span> [|<span class="id" title="var">ϕ</span> ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">crush</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#3e651ce924de45057a24c678b067cec1"><span class="id" title="definition">update_ϕ_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#internal_self"><span class="id" title="definition">internal_self</span></a>, <a class="idref" href="com.chainmail.loo_def.html#is_internal"><span class="id" title="definition">is_internal</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">eq_auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="internal_step_is_internal"><span class="id" title="lemma">internal_step_is_internal</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span>, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#internal_step"><span class="id" title="definition">internal_step</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#internal_self"><span class="id" title="definition">internal_self</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#internal_step"><span class="id" title="definition">internal_step</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.hoare.html#is_call_to"><span class="id" title="definition">is_call_to</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="com.chainmail.hoare.html#is_return_to"><span class="id" title="definition">is_return_to</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H'</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H'</span>|<span class="id" title="var">H'</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#is_call_to"><span class="id" title="definition">is_call_to</span></a>, <a class="idref" href="com.chainmail.hoare.html#is_return_to"><span class="id" title="definition">is_return_to</span></a>, <a class="idref" href="com.chainmail.hoare.html#is_rtrn"><span class="id" title="definition">is_rtrn</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Ha</span> : <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">ϕ</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ha</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#internal_step"><span class="id" title="definition">internal_step</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.hoare.html#is_call_to"><span class="id" title="definition">is_call_to</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="com.chainmail.hoare.html#is_return_to"><span class="id" title="definition">is_return_to</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H'</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H'</span>|<span class="id" title="var">H'</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#is_call_to"><span class="id" title="definition">is_call_to</span></a>, <a class="idref" href="com.chainmail.hoare.html#is_return_to"><span class="id" title="definition">is_return_to</span></a>, <a class="idref" href="com.chainmail.hoare.html#is_rtrn"><span class="id" title="definition">is_rtrn</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Ha</span> : <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">ϕ</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ha</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#waiting_frame_is"><span class="id" title="definition">waiting_frame_is</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htmp</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>χ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_def.html#f28fcdb18480d82f0ec7c4dd8cf17417"><span class="id" title="definition">update_ϕ_contn</span></a> (<a class="idref" href="com.chainmail.loo_def.html#3e651ce924de45057a24c678b067cec1"><span class="id" title="definition">update_ϕ_map</span></a> <span class="id" title="var">ϕ1</span> <span class="id" title="var">y</span> <span class="id" title="var">α</span>) (<a class="idref" href="com.chainmail.loo_def.html#c_stmt"><span class="id" title="constructor">c_stmt</span></a> <span class="id" title="var">s</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ψ0<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#d1c13933d8ee3c1c5e5bcb2e0f7ddb96"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#d1c13933d8ee3c1c5e5bcb2e0f7ddb96"><span class="id" title="definition">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#d1c13933d8ee3c1c5e5bcb2e0f7ddb96"><span class="id" title="definition">_contn</span></a> (<a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>χ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ϕ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ψ0<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">y</span> <span class="id" title="var">α</span>) (<a class="idref" href="com.chainmail.loo_def.html#c_stmt"><span class="id" title="constructor">c_stmt</span></a> <span class="id" title="var">s</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">auto</span>|<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Htmp</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#internal_self_update_contn"><span class="id" title="lemma">internal_self_update_contn</span></a>, <a class="idref" href="com.chainmail.hoare.html#internal_self_update_vMap"><span class="id" title="lemma">internal_self_update_vMap</span></a>; <span class="id" title="tactic">auto</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.hoare.html#internal_step"><span class="id" title="definition">internal_step</span></a> ?<span class="id" title="var">M1</span> ?<span class="id" title="var">M2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>?χ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ?ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Ha</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#internal_step"><span class="id" title="definition">internal_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha</span>|<span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#is_call_to"><span class="id" title="definition">is_call_to</span></a>, <a class="idref" href="com.chainmail.hoare.html#is_return_to"><span class="id" title="definition">is_return_to</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#is_internal"><span class="id" title="definition">is_internal</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hb</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#internal_self"><span class="id" title="definition">internal_self</span></a>, <a class="idref" href="com.chainmail.loo_def.html#is_internal"><span class="id" title="definition">is_internal</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.hoare.html#is_rtrn"><span class="id" title="definition">is_rtrn</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H'</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := <span class="id" title="tactic">fresh</span> "x" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#is_rtrn"><span class="id" title="definition">is_rtrn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">H'</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Ha</span> : <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">ϕ</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ha</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="internal_reductions_is_internal_step"><span class="id" title="lemma">internal_reductions_is_internal_step</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⤳…</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#internal_step"><span class="id" title="definition">internal_step</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#internal_step"><span class="id" title="definition">internal_step</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>

<br/>

<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="external_self_implies_external_step"><span class="id" title="lemma">external_self_implies_external_step</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span>, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#external_self"><span class="id" title="definition">external_self</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#external_step"><span class="id" title="definition">external_step</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>

<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reduction_inversion_hoare"><span class="id" title="lemma">pair_reduction_inversion_hoare</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#external_step"><span class="id" title="definition">external_step</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#internal_step"><span class="id" title="definition">internal_step</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#internal_reductions_is_internal_step"><span class="id" title="axiom">internal_reductions_is_internal_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#external_self_implies_external_step"><span class="id" title="axiom">external_self_implies_external_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="external_step_leaves_internal_unchanged"><span class="id" title="lemma">external_step_leaves_internal_unchanged</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ, <a class="idref" href="com.chainmail.hoare.html#external_step"><span class="id" title="definition">external_step</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ0 <span class="id" title="var">α</span> <span class="id" title="var">o</span>, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">⦿</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">:</span></a> <span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">⟦</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">↦</span></a> <a class="idref" href="com.chainmail.hoare.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">⟧</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">∈</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">◎</span></a> <a class="idref" href="com.chainmail.hoare.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">…</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⊨</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#5dd77e9ca1311efd38d6ccfeda3ba482"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#b320c397777b6dcaa693d82c12c5b90b"><span class="id" title="notation">a_</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a><a class="idref" href="com.chainmail.decoupling.html#5dd77e9ca1311efd38d6ccfeda3ba482"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.decoupling.html#5dd77e9ca1311efd38d6ccfeda3ba482"><span class="id" title="notation">internal</span></a><a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">)</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">:</span></a> <span class="id" title="keyword">fun</span> σ' =&gt; <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">⟦</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">↦</span></a> <a class="idref" href="com.chainmail.hoare.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">⟧</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">∈</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a><a class="idref" href="com.chainmail.hoare.html#49b1084da4c3c507ead05fb35e702ca9"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fieldChange_not_heapUnchanged"><span class="id" title="lemma">fieldChange_not_heapUnchanged</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ0 σ <span class="id" title="var">α</span> <span class="id" title="var">f</span> <span class="id" title="var">v</span>, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">◎</span></a> <a class="idref" href="com.chainmail.hoare.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> <a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">…</span></a> <a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">̱</span></a> <a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">⊨</span></a> <a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.decoupling.html#ex_acc_f"><span class="id" title="constructor">ex_acc_f</span></a> (<a class="idref" href="com.chainmail.decoupling.html#c377bb8a5db12bc37fe71aa687bd07f4"><span class="id" title="notation">e_</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>) <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.decoupling.html#e012dd22701105158bada96277455119"><span class="id" title="notation">⩶̸</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">}</span></a> σ <a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.decoupling.html#ex_acc_f"><span class="id" title="constructor">ex_acc_f</span></a> (<a class="idref" href="com.chainmail.decoupling.html#c377bb8a5db12bc37fe71aa687bd07f4"><span class="id" title="notation">e_</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>) <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">⩶</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ', <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.hoare.html#heapUnchanged"><span class="id" title="definition">heapUnchanged</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>

<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*Lemma&nbsp;not_eq_implies_neq&nbsp;:<br/>
&nbsp;&nbsp;forall&nbsp;M1&nbsp;M2&nbsp;σ0&nbsp;σ&nbsp;e1&nbsp;e2,&nbsp;~&nbsp;M1&nbsp;⦂&nbsp;M2&nbsp;◎&nbsp;σ0&nbsp;…&nbsp;σ&nbsp;⊨&nbsp;(e1&nbsp;⩶&nbsp;e2)&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;M1&nbsp;⦂&nbsp;M2&nbsp;◎&nbsp;σ0&nbsp;…&nbsp;σ&nbsp;⊨&nbsp;(e1&nbsp;⩶̸&nbsp;e2).<br/>
Proof.<br/>
Admitted.*)</span><br/>

<br/>
<span class="comment">(*Lemma&nbsp;not_neq_implies_eq&nbsp;:<br/>
&nbsp;&nbsp;forall&nbsp;M1&nbsp;M2&nbsp;σ0&nbsp;σ&nbsp;e1&nbsp;e2,&nbsp;~&nbsp;M1&nbsp;⦂&nbsp;M2&nbsp;◎&nbsp;σ0&nbsp;…&nbsp;σ&nbsp;⊨&nbsp;(e1&nbsp;⩶̸&nbsp;e2)&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;M1&nbsp;⦂&nbsp;M2&nbsp;◎&nbsp;σ0&nbsp;…&nbsp;σ&nbsp;⊨&nbsp;(e1&nbsp;⩶&nbsp;e2).<br/>
Proof.<br/>
Admitted.*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="update_contn_map"><span class="id" title="lemma">update_contn_map</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">ϕ</span> <span class="id" title="var">c</span>, <a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> (<a class="idref" href="com.chainmail.loo_def.html#f28fcdb18480d82f0ec7c4dd8cf17417"><span class="id" title="definition">update_ϕ_contn</span></a> <a class="idref" href="com.chainmail.hoare.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="com.chainmail.hoare.html#c"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <a class="idref" href="com.chainmail.hoare.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ϕ</span> <span class="id" title="var">c</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ϕ</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="external_step_is_not_reductions"><span class="id" title="lemma">external_step_is_not_reductions</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⤳…</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.hoare.html#external_step"><span class="id" title="definition">external_step</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#external_step"><span class="id" title="definition">external_step</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#is_assgn"><span class="id" title="definition">is_assgn</span></a>, <a class="idref" href="com.chainmail.hoare.html#is_new"><span class="id" title="definition">is_new</span></a>, <a class="idref" href="com.chainmail.hoare.html#is_if"><span class="id" title="definition">is_if</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_crush</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Ha</span> : <a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hb</span> : <a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hb</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hb</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#internal_self"><span class="id" title="definition">internal_self</span></a>, <a class="idref" href="com.chainmail.loo_def.html#is_internal"><span class="id" title="definition">is_internal</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#external_self"><span class="id" title="definition">external_self</span></a>, <a class="idref" href="com.chainmail.loo_def.html#is_external"><span class="id" title="definition">is_external</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">eq_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">_</span> : <a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> ?<span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ϕ</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)).<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">α0</span> <span class="id" title="var">α</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eq_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#cname"><span class="id" title="projection">cname</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">α0</span> <span class="id" title="var">α</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eq_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#cname"><span class="id" title="projection">cname</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">fresh_</span></a><a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">χ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_properties.html#fresh_heap_none"><span class="id" title="lemma">fresh_heap_none</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#is_call_to"><span class="id" title="definition">is_call_to</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_crush</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Ha</span> : <a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hb</span> : <a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hb</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hb</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hb</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#internal_self"><span class="id" title="definition">internal_self</span></a>, <a class="idref" href="com.chainmail.loo_def.html#is_internal"><span class="id" title="definition">is_internal</span></a>, <a class="idref" href="com.chainmail.loo_def.html#is_external"><span class="id" title="definition">is_external</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="keyword">Hint</span> : <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="keyword">Hint</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eq_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#is_return_to"><span class="id" title="definition">is_return_to</span></a>, <a class="idref" href="com.chainmail.hoare.html#is_rtrn"><span class="id" title="definition">is_rtrn</span></a>, <a class="idref" href="com.chainmail.hoare.html#waiting_frame_is"><span class="id" title="definition">waiting_frame_is</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> ?<span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#c_hole"><span class="id" title="constructor">c_hole</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Ha</span> : <a class="idref" href="com.chainmail.loo_def.html#external_self"><span class="id" title="definition">external_self</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hb</span> : <a class="idref" href="com.chainmail.loo_def.html#internal_self"><span class="id" title="definition">internal_self</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_def.html#f28fcdb18480d82f0ec7c4dd8cf17417"><span class="id" title="definition">update_ϕ_contn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>|- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#external_self"><span class="id" title="definition">external_self</span></a>, <a class="idref" href="com.chainmail.loo_def.html#is_external"><span class="id" title="definition">is_external</span></a>, <a class="idref" href="com.chainmail.loo_def.html#internal_self"><span class="id" title="definition">internal_self</span></a>, <a class="idref" href="com.chainmail.loo_def.html#is_internal"><span class="id" title="definition">is_internal</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>, <span class="id" title="var">Hb</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.hoare.html#update_contn_map"><span class="id" title="lemma">update_contn_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ϕ'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">destruct_exists_loo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> ?<span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#c_hole"><span class="id" title="constructor">c_hole</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Ha</span> : <a class="idref" href="com.chainmail.loo_def.html#external_self"><span class="id" title="definition">external_self</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hb</span> : <a class="idref" href="com.chainmail.loo_def.html#internal_self"><span class="id" title="definition">internal_self</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_def.html#f28fcdb18480d82f0ec7c4dd8cf17417"><span class="id" title="definition">update_ϕ_contn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>|- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#external_self"><span class="id" title="definition">external_self</span></a>, <a class="idref" href="com.chainmail.loo_def.html#is_external"><span class="id" title="definition">is_external</span></a>, <a class="idref" href="com.chainmail.loo_def.html#internal_self"><span class="id" title="definition">internal_self</span></a>, <a class="idref" href="com.chainmail.loo_def.html#is_internal"><span class="id" title="definition">is_internal</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>, <span class="id" title="var">Hb</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.hoare.html#update_contn_map"><span class="id" title="lemma">update_contn_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ϕ'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>

<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="f3f91a00320aa599895e001c49ceee0f"><span class="id" title="lemma">le_S_α_neq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">α1</span> <span class="id" title="var">α2</span>, <a class="idref" href="com.chainmail.loo_def.html#091983f2d52a6a2e268b2c8f967c8b51"><span class="id" title="inductive">le_α</span></a> <a class="idref" href="com.chainmail.hoare.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a> <a class="idref" href="com.chainmail.hoare.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#06aa346dbd84f2b5a719bcbe87b43de7"><span class="id" title="definition">S_α</span></a> <a class="idref" href="com.chainmail.hoare.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="com.chainmail.hoare.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">α1</span> <span class="id" title="var">α2</span> <span class="id" title="var">Hle</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hle</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="6476c247cd6ad821503202df63d31da0"><span class="id" title="lemma">max_</span></a><a name="6476c247cd6ad821503202df63d31da0"><span class="id" title="lemma">χ</span></a><a name="6476c247cd6ad821503202df63d31da0"><span class="id" title="lemma">_le</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (χ : <a class="idref" href="com.chainmail.common.html#partial_map"><span class="id" title="definition">partial_map</span></a> <a class="idref" href="com.chainmail.loo_def.html#addr"><span class="id" title="inductive">addr</span></a> <a class="idref" href="com.chainmail.hoare.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">α1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#802201026484f6d0a69d4ec7fb27873d"><span class="id" title="inductive">max_</span></a><a class="idref" href="com.chainmail.loo_def.html#802201026484f6d0a69d4ec7fb27873d"><span class="id" title="inductive">χ</span></a> <a class="idref" href="com.chainmail.hoare.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.hoare.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">α2</span> <span class="id" title="var">o</span>, <a class="idref" href="com.chainmail.hoare.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.hoare.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.hoare.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#091983f2d52a6a2e268b2c8f967c8b51"><span class="id" title="inductive">le_α</span></a> <a class="idref" href="com.chainmail.hoare.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a> <a class="idref" href="com.chainmail.hoare.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ? <span class="id" title="var">Hmax</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hmax</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fb7c42d1856f3cb9e7a6316c5fd6cc7f"><span class="id" title="lemma">fresh_</span></a><a name="fb7c42d1856f3cb9e7a6316c5fd6cc7f"><span class="id" title="lemma">χ</span></a><a name="fb7c42d1856f3cb9e7a6316c5fd6cc7f"><span class="id" title="lemma">_neq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> χ <span class="id" title="var">α1</span>, <a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">fresh_</span></a><a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">χ</span></a> <a class="idref" href="com.chainmail.hoare.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.hoare.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">α2</span> <span class="id" title="var">o</span> ψ, <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">⟦</span></a> <a class="idref" href="com.chainmail.hoare.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">↦</span></a> <a class="idref" href="com.chainmail.hoare.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">⟧</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">∈</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="com.chainmail.hoare.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">Hfresh</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hfresh</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#f3f91a00320aa599895e001c49ceee0f"><span class="id" title="lemma">le_S_α_neq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#6476c247cd6ad821503202df63d31da0"><span class="id" title="lemma">max_</span></a><a class="idref" href="com.chainmail.hoare.html#6476c247cd6ad821503202df63d31da0"><span class="id" title="lemma">χ</span></a><a class="idref" href="com.chainmail.hoare.html#6476c247cd6ad821503202df63d31da0"><span class="id" title="lemma">_le</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="f29ae0b3ead671002b4c80b27b1401a2"><span class="id" title="lemma">fresh_</span></a><a name="f29ae0b3ead671002b4c80b27b1401a2"><span class="id" title="lemma">χ</span></a><a name="f29ae0b3ead671002b4c80b27b1401a2"><span class="id" title="lemma">_some_neq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> χ <span class="id" title="var">α1</span>, <a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">fresh_</span></a><a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">χ</span></a> <a class="idref" href="com.chainmail.hoare.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.hoare.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">α2</span> <span class="id" title="var">o</span>, <a class="idref" href="com.chainmail.hoare.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.hoare.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.hoare.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="com.chainmail.hoare.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">Hfresh</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hfresh</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#f3f91a00320aa599895e001c49ceee0f"><span class="id" title="lemma">le_S_α_neq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#6476c247cd6ad821503202df63d31da0"><span class="id" title="lemma">max_</span></a><a class="idref" href="com.chainmail.hoare.html#6476c247cd6ad821503202df63d31da0"><span class="id" title="lemma">χ</span></a><a class="idref" href="com.chainmail.hoare.html#6476c247cd6ad821503202df63d31da0"><span class="id" title="lemma">_le</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fresh_is_fresh</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">Hfresh</span> : <a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">fresh_</span></a><a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">χ</span></a> ?χ ?<span class="id" title="var">α1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hmap</span> : <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">⟦</span></a> ?<span class="id" title="var">α2</span> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">↦</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">⟧</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">∈</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>?χ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">notHyp</span> (<span class="id" title="var">α1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">α2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">α1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">α2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#fb7c42d1856f3cb9e7a6316c5fd6cc7f"><span class="id" title="lemma">fresh_</span></a><a class="idref" href="com.chainmail.hoare.html#fb7c42d1856f3cb9e7a6316c5fd6cc7f"><span class="id" title="lemma">χ</span></a><a class="idref" href="com.chainmail.hoare.html#fb7c42d1856f3cb9e7a6316c5fd6cc7f"><span class="id" title="lemma">_neq</span></a>; <span class="id" title="tactic">eauto</span>|]<br/>
&nbsp;&nbsp;| [<span class="id" title="var">Hfresh</span> : <a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">fresh_</span></a><a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">χ</span></a> ?χ ?<span class="id" title="var">α1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hmap</span> : ?χ ?<span class="id" title="var">α2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">notHyp</span> (<span class="id" title="var">α1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">α2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">α1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">α2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#f29ae0b3ead671002b4c80b27b1401a2"><span class="id" title="lemma">fresh_</span></a><a class="idref" href="com.chainmail.hoare.html#f29ae0b3ead671002b4c80b27b1401a2"><span class="id" title="lemma">χ</span></a><a class="idref" href="com.chainmail.hoare.html#f29ae0b3ead671002b4c80b27b1401a2"><span class="id" title="lemma">_some_neq</span></a>; <span class="id" title="tactic">eauto</span>|]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="external_self_is_external"><span class="id" title="lemma">external_self_is_external</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ0 σ, <a class="idref" href="com.chainmail.loo_def.html#external_self"><span class="id" title="definition">external_self</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">α</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">◎</span></a> <a class="idref" href="com.chainmail.hoare.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">…</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⊨</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#a_self"><span class="id" title="constructor">a_self</span></a> (<a class="idref" href="com.chainmail.decoupling.html#b320c397777b6dcaa693d82c12c5b90b"><span class="id" title="notation">a_</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>) <a class="idref" href="com.chainmail.decoupling.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.decoupling.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#095638ab98c4af7fcc5b75b00dfb78a7"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#b320c397777b6dcaa693d82c12c5b90b"><span class="id" title="notation">a_</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a><a class="idref" href="com.chainmail.decoupling.html#095638ab98c4af7fcc5b75b00dfb78a7"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.decoupling.html#095638ab98c4af7fcc5b75b00dfb78a7"><span class="id" title="notation">external</span></a><a class="idref" href="com.chainmail.decoupling.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">)</span></a><a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ0 σ <span class="id" title="var">Hext</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#external_self"><span class="id" title="definition">external_self</span></a>, <a class="idref" href="com.chainmail.loo_def.html#is_external"><span class="id" title="definition">is_external</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">a_prop</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">chainmail_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reduction_preserves_field_eval_wf"><span class="id" title="lemma">reduction_preserves_field_eval_wf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">α</span> <span class="id" title="var">f</span> <span class="id" title="var">v1</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#e_acc_f"><span class="id" title="constructor">e_acc_f</span></a> (<a class="idref" href="com.chainmail.loo_def.html#e_val"><span class="id" title="constructor">e_val</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>) <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <a class="idref" href="com.chainmail.hoare.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">v2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#e_acc_f"><span class="id" title="constructor">e_acc_f</span></a> (<a class="idref" href="com.chainmail.loo_def.html#e_val"><span class="id" title="constructor">e_val</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>) <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <a class="idref" href="com.chainmail.hoare.html#v2"><span class="id" title="variable">v2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> ?<span class="id" title="var">v</span> |- (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">v'</span> : <a class="idref" href="com.chainmail.loo_def.html#value"><span class="id" title="inductive">value</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span>) ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#e_val"><span class="id" title="constructor">e_val</span></a> <span class="id" title="var">_</span><a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#9ea797bce5ee2805e60ecb8810b136d9"><span class="id" title="notation">v_</span></a> <span class="id" title="var">_</span><a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">)</span></a> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_def.html#v_f_heap"><span class="id" title="constructor">v_f_heap</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>].<br/>

<br/>
&nbsp;&nbsp;-  <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_exists_loo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">_</span> : <a class="idref" href="com.chainmail.loo_def.html#flds"><span class="id" title="projection">flds</span></a> ?<span class="id" title="var">o1</span> ?<span class="id" title="var">f1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">v1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> : <a class="idref" href="com.chainmail.loo_def.html#flds"><span class="id" title="projection">flds</span></a> ?<span class="id" title="var">o2</span> ?<span class="id" title="var">f2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">v2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> : <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">⟦</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">↦</span></a> ?<span class="id" title="var">o2</span> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">⟧</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">∈</span></a> <span class="id" title="var">_</span> |- <span class="id" title="keyword">context</span>[<a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a> ?<span class="id" title="var">f1</span> ?<span class="id" title="var">v3</span> <span class="id" title="var">_</span>]] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">α</span> <span class="id" title="var">α1</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">f</span> <span class="id" title="var">f0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">exists</span> <span class="id" title="var">v3</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">exists</span> <span class="id" title="var">v2</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">exists</span> <span class="id" title="var">v2</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_def.html#v_f_heap"><span class="id" title="constructor">v_f_heap</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#flds"><span class="id" title="projection">flds</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eq_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#flds"><span class="id" title="projection">flds</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eq_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [|- <span class="id" title="keyword">context</span>[<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">o'</span>]] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [|- <span class="id" title="keyword">context</span>[<a class="idref" href="com.chainmail.loo_def.html#9e2ff18c63a5307a8680a6ea1f486c6a"><span class="id" title="notation">e_addr</span></a> ?<span class="id" title="var">α'</span>]] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#v_f_heap"><span class="id" title="constructor">v_f_heap</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">α</span>:=<span class="id" title="var">α'</span>)(<span class="id" title="var">o</span>:=<span class="id" title="var">o'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#flds"><span class="id" title="projection">flds</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eq_auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">_</span> : <span class="id" title="var">_</span> ?<span class="id" title="var">α1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">o1</span> |- <span class="id" title="keyword">context</span>[<a class="idref" href="com.chainmail.loo_def.html#9e2ff18c63a5307a8680a6ea1f486c6a"><span class="id" title="notation">e_addr</span></a> ?<span class="id" title="var">α1</span>]] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#v_f_heap"><span class="id" title="constructor">v_f_heap</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">α</span>:=<span class="id" title="var">α1</span>)(<span class="id" title="var">o</span>:=<span class="id" title="var">o1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">_</span> : <a class="idref" href="com.chainmail.loo_def.html#flds"><span class="id" title="projection">flds</span></a> ?<span class="id" title="var">o1</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">v1</span> |- <span class="id" title="keyword">context</span>[<a class="idref" href="com.chainmail.loo_def.html#9e2ff18c63a5307a8680a6ea1f486c6a"><span class="id" title="notation">e_addr</span></a> ?<span class="id" title="var">α1</span>] ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">v1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#v_f_heap"><span class="id" title="constructor">v_f_heap</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">α</span>:=<span class="id" title="var">α1</span>)(<span class="id" title="var">o</span>:=<span class="id" title="var">o1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">fresh_is_fresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>

<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">unfold_eval</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#e_val"><span class="id" title="constructor">e_val</span></a> <span class="id" title="var">_</span><a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#e_acc_f"><span class="id" title="constructor">e_acc_f</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#e_acc_g"><span class="id" title="constructor">e_acc_g</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#e_if"><span class="id" title="constructor">e_if</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#961c9bfeb351bb42012f341ae53a2e56"><span class="id" title="notation">⩵</span></a> <span class="id" title="var">_</span><a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#ce029783bcfac7cb9c13027b689e7793"><span class="id" title="notation">⩻</span></a> <span class="id" title="var">_</span><a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#e_plus"><span class="id" title="constructor">e_plus</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#e_minus"><span class="id" title="constructor">e_minus</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#e_mult"><span class="id" title="constructor">e_mult</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#e_div"><span class="id" title="constructor">e_div</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="mutation_is_assignment"><span class="id" title="lemma">mutation_is_assignment</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ σ', <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ0 <span class="id" title="var">α</span> <span class="id" title="var">v</span> <span class="id" title="var">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">◎</span></a> <a class="idref" href="com.chainmail.hoare.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">…</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⊨</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#ex_acc_f"><span class="id" title="constructor">ex_acc_f</span></a> (<a class="idref" href="com.chainmail.decoupling.html#c377bb8a5db12bc37fe71aa687bd07f4"><span class="id" title="notation">e_</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>) <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">⩶</span></a> <a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#ex_val"><span class="id" title="constructor">ex_val</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">)</span></a><a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">◎</span></a> <a class="idref" href="com.chainmail.hoare.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">…</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">⊭</span></a> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#ex_acc_f"><span class="id" title="constructor">ex_acc_f</span></a> (<a class="idref" href="com.chainmail.decoupling.html#c377bb8a5db12bc37fe71aa687bd07f4"><span class="id" title="notation">e_</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>) <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">⩶</span></a> <a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#ex_val"><span class="id" title="constructor">ex_val</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">)</span></a><a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#is_assgn"><span class="id" title="definition">is_assgn</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ σ' <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [<span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">≔</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <span class="id" title="var">_</span>] |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#is_assgn"><span class="id" title="definition">is_assgn</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>];<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">◎</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">…</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⊨</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">◎</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">…</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">⊭</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_exp_sat</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.decoupling.html#exp_satisfaction"><span class="id" title="inductive">exp_satisfaction</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.decoupling.html#exp_sat"><span class="id" title="constructor">exp_sat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">chainmail_db</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">unfold_eval</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">◎</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">…</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⊨</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">◎</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">…</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">⊭</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_exp_sat</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.decoupling.html#exp_satisfaction"><span class="id" title="inductive">exp_satisfaction</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.decoupling.html#exp_sat"><span class="id" title="constructor">exp_sat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">chainmail_db</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">unfold_eval</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fresh_is_fresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_def.html#v_equals"><span class="id" title="constructor">v_equals</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_def.html#v_f_heap"><span class="id" title="constructor">v_f_heap</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">unfold_interpretation</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="mutation_is_field_assignment"><span class="id" title="lemma">mutation_is_field_assignment</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ σ', <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ0 <span class="id" title="var">α</span> <span class="id" title="var">v</span> <span class="id" title="var">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">◎</span></a> <a class="idref" href="com.chainmail.hoare.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">…</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⊨</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#ex_acc_f"><span class="id" title="constructor">ex_acc_f</span></a> (<a class="idref" href="com.chainmail.decoupling.html#c377bb8a5db12bc37fe71aa687bd07f4"><span class="id" title="notation">e_</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>) <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">⩶</span></a> <a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#ex_val"><span class="id" title="constructor">ex_val</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">)</span></a><a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">◎</span></a> <a class="idref" href="com.chainmail.hoare.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">…</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">⊭</span></a> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#ex_acc_f"><span class="id" title="constructor">ex_acc_f</span></a> (<a class="idref" href="com.chainmail.decoupling.html#c377bb8a5db12bc37fe71aa687bd07f4"><span class="id" title="notation">e_</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>) <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">⩶</span></a> <a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#ex_val"><span class="id" title="constructor">ex_val</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">)</span></a><a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.hoare.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span> <span class="id" title="var">r2</span> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#3c30cf79c4945f0ed37e85caffb1eb91"><span class="id" title="notation">◌</span></a> <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">≔</span></a> <a class="idref" href="com.chainmail.hoare.html#r2"><span class="id" title="variable">r2</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#9ea797bce5ee2805e60ecb8810b136d9"><span class="id" title="notation">v_</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a><a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.hoare.html#is_assgn"><span class="id" title="definition">is_assgn</span></a> σ);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#mutation_is_assignment"><span class="id" title="lemma">mutation_is_assignment</span></a>; <span class="id" title="tactic">eauto</span>|<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#is_assgn"><span class="id" title="definition">is_assgn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Hcontn</span> : <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hcontn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hcontn</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">◎</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">…</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">⊭</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.decoupled_classical_properties.html#nsat_implies_not_sat"><span class="id" title="lemma">nsat_implies_not_sat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.decoupling.html#sat_exp"><span class="id" title="constructor">sat_exp</span></a>, <a class="idref" href="com.chainmail.decoupling.html#exp_sat"><span class="id" title="constructor">exp_sat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">chainmail_db</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">◎</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">…</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⊨</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">⩶</span></a> <span class="id" title="var">_</span><a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">)</span></a>  |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_exp_sat</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">unfold_eval</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">f0</span> <span class="id" title="var">f</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">α0</span> <span class="id" title="var">α</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">repeat</span> <span class="id" title="var">unfold_interpretation</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">◎</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">…</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⊨</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">◎</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">…</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">⊭</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.decoupled_classical_properties.html#nsat_implies_not_sat"><span class="id" title="lemma">nsat_implies_not_sat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.decoupling.html#sat_exp"><span class="id" title="constructor">sat_exp</span></a>, <a class="idref" href="com.chainmail.decoupling.html#exp_sat"><span class="id" title="constructor">exp_sat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">chainmail_db</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_exp_sat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clean</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">unfold_eval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [|- <span class="id" title="keyword">context</span>[<span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#961c9bfeb351bb42012f341ae53a2e56"><span class="id" title="notation">⩵</span></a> <a class="idref" href="com.chainmail.loo_def.html#961c9bfeb351bb42012f341ae53a2e56"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#e_val"><span class="id" title="constructor">e_val</span></a> ?<span class="id" title="var">v0</span><a class="idref" href="com.chainmail.loo_def.html#961c9bfeb351bb42012f341ae53a2e56"><span class="id" title="notation">)</span></a>] ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#v_equals"><span class="id" title="constructor">v_equals</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">v</span>:=<span class="id" title="var">v0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_def.html#v_f_heap"><span class="id" title="constructor">v_f_heap</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">◎</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">…</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#f1bd002411c0bf2106936a414b362e13"><span class="id" title="notation">⊭</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.decoupled_classical_properties.html#nsat_implies_not_sat"><span class="id" title="lemma">nsat_implies_not_sat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.decoupling.html#sat_exp"><span class="id" title="constructor">sat_exp</span></a>, <a class="idref" href="com.chainmail.decoupling.html#exp_sat"><span class="id" title="constructor">exp_sat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">chainmail_db</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">◎</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">…</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⊨</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_exp_sat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clean</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">α0</span> <span class="id" title="var">α</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">repeat</span> <span class="id" title="var">unfold_interpretation</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">unfold_eval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [|- <span class="id" title="keyword">context</span>[<span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#961c9bfeb351bb42012f341ae53a2e56"><span class="id" title="notation">⩵</span></a> <a class="idref" href="com.chainmail.loo_def.html#961c9bfeb351bb42012f341ae53a2e56"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#e_val"><span class="id" title="constructor">e_val</span></a> ?<span class="id" title="var">v0</span><a class="idref" href="com.chainmail.loo_def.html#961c9bfeb351bb42012f341ae53a2e56"><span class="id" title="notation">)</span></a>] ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#v_equals"><span class="id" title="constructor">v_equals</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">v</span>:=<span class="id" title="var">v0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [|- <span class="id" title="keyword">context</span>[<a class="idref" href="com.chainmail.loo_def.html#9e2ff18c63a5307a8680a6ea1f486c6a"><span class="id" title="notation">e_addr</span></a> ?<span class="id" title="var">α0</span>]] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [|-<span class="id" title="keyword">context</span>[<a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a> <span class="id" title="var">α0</span> ?<span class="id" title="var">o0</span> <span class="id" title="var">_</span>]] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#v_f_heap"><span class="id" title="constructor">v_f_heap</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">α</span>:=<span class="id" title="var">α0</span>)(<span class="id" title="var">o</span>:=<span class="id" title="var">o0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#flds"><span class="id" title="projection">flds</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eq_auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">repeat</span> <span class="id" title="var">unfold_interpretation</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">unfold_eval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [|- <span class="id" title="keyword">context</span>[<span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#961c9bfeb351bb42012f341ae53a2e56"><span class="id" title="notation">⩵</span></a> <a class="idref" href="com.chainmail.loo_def.html#961c9bfeb351bb42012f341ae53a2e56"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#e_val"><span class="id" title="constructor">e_val</span></a> ?<span class="id" title="var">v0</span><a class="idref" href="com.chainmail.loo_def.html#961c9bfeb351bb42012f341ae53a2e56"><span class="id" title="notation">)</span></a>] ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#v_equals"><span class="id" title="constructor">v_equals</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">v</span>:=<span class="id" title="var">v0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Hmap</span> : <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">⟦</span></a> ?<span class="id" title="var">α1</span> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">↦</span></a> ?<span class="id" title="var">o1</span> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">⟧</span></a> <a class="idref" href="com.chainmail.common.html#d21dfac668d7b00392ea6f5a99710b78"><span class="id" title="notation">∈</span></a> <span class="id" title="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hflds</span> : <a class="idref" href="com.chainmail.loo_def.html#flds"><span class="id" title="projection">flds</span></a> ?<span class="id" title="var">o1</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">v1</span> |- <span class="id" title="keyword">context</span>[<a class="idref" href="com.chainmail.loo_def.html#9e2ff18c63a5307a8680a6ea1f486c6a"><span class="id" title="notation">e_addr</span></a> ?<span class="id" title="var">α1</span>]] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#v_f_heap"><span class="id" title="constructor">v_f_heap</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">α</span>:=<span class="id" title="var">α1</span>)(<span class="id" title="var">o</span>:=<span class="id" title="var">o1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#flds"><span class="id" title="projection">flds</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="classOf_this_prop"><span class="id" title="lemma">classOf_this_prop</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ <span class="id" title="var">C</span>, <a class="idref" href="com.chainmail.loo_def.html#classOf"><span class="id" title="inductive">classOf</span></a> <a class="idref" href="com.chainmail.loo_def.html#this"><span class="id" title="definition">this</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ0, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">◎</span></a> <a class="idref" href="com.chainmail.hoare.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">…</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">⊨</span></a> <a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#a_self"><span class="id" title="constructor">a_self</span></a> <a class="idref" href="com.chainmail.hoare.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="com.chainmail.decoupling.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.decoupling.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> <a class="idref" href="com.chainmail.decoupling.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#a_class"><span class="id" title="constructor">a_class</span></a> <a class="idref" href="com.chainmail.hoare.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="com.chainmail.hoare.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="com.chainmail.decoupling.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">)</span></a><a class="idref" href="com.chainmail.decoupling.html#92126faa01a88940ffb765b6467f96a7"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_def.html#classOf"><span class="id" title="inductive">classOf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_def.html#interpret_x"><span class="id" title="inductive">interpret_x</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">a_prop</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">chainmail_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="external_step_does_not_mutate_internal_fields"><span class="id" title="lemma">external_step_does_not_mutate_internal_fields</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ0 σ, <a class="idref" href="com.chainmail.hoare.html#external_step"><span class="id" title="definition">external_step</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">α</span> <span class="id" title="var">v</span> <span class="id" title="var">f</span>, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">◎</span></a> <a class="idref" href="com.chainmail.hoare.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> <a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">…</span></a> <a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">̱</span></a> <a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">⊨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">pre</span></a><a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#5dd77e9ca1311efd38d6ccfeda3ba482"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#b320c397777b6dcaa693d82c12c5b90b"><span class="id" title="notation">a_</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a><a class="idref" href="com.chainmail.decoupling.html#5dd77e9ca1311efd38d6ccfeda3ba482"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.decoupling.html#5dd77e9ca1311efd38d6ccfeda3ba482"><span class="id" title="notation">internal</span></a><a class="idref" href="com.chainmail.decoupling.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.decoupling.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.decoupling.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#ex_acc_f"><span class="id" title="constructor">ex_acc_f</span></a> (<a class="idref" href="com.chainmail.decoupling.html#c377bb8a5db12bc37fe71aa687bd07f4"><span class="id" title="notation">e_</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>) <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">⩶</span></a> <a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#ex_val"><span class="id" title="constructor">ex_val</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">)</span></a><a class="idref" href="com.chainmail.decoupling.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">)</span></a><a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">)}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">{</span></a><a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">post</span></a><a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">:</span></a> <a class="idref" href="com.chainmail.decoupling.html#ex_acc_f"><span class="id" title="constructor">ex_acc_f</span></a> (<a class="idref" href="com.chainmail.decoupling.html#c377bb8a5db12bc37fe71aa687bd07f4"><span class="id" title="notation">e_</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>) <a class="idref" href="com.chainmail.hoare.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">⩶</span></a> <a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#ex_val"><span class="id" title="constructor">ex_val</span></a> <a class="idref" href="com.chainmail.hoare.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="com.chainmail.decoupling.html#159d48044f32869d402ca464bc5a897a"><span class="id" title="notation">)</span></a><a class="idref" href="com.chainmail.hoare.html#3bbf9e722685fc283c18bd9dffd7b105"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ0 σ <span class="id" title="var">Hext</span> <span class="id" title="var">α</span> <span class="id" title="var">v</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#ht_pr"><span class="id" title="constructor">ht_pr</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.decoupled_classical_properties.html#not_nsat_implies_sat"><span class="id" title="lemma">not_nsat_implies_sat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontra</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">a_prop</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#external_step"><span class="id" title="definition">external_step</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">contradiction</span> (<a class="idref" href="com.chainmail.hoare.html#external_step_is_not_reductions"><span class="id" title="lemma">external_step_is_not_reductions</span></a> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ σ2);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#external_step"><span class="id" title="definition">external_step</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span> <span class="id" title="var">r2</span> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> (<a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#3c30cf79c4945f0ed37e85caffb1eb91"><span class="id" title="notation">◌</span></a> <span class="id" title="var">f</span><a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">≔</span></a> <a class="idref" href="com.chainmail.hoare.html#r2"><span class="id" title="variable">r2</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>) σ <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> σ <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.decoupling.html#9ea797bce5ee2805e60ecb8810b136d9"><span class="id" title="notation">v_</span></a> <span class="id" title="var">α</span><a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">)</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#mutation_is_field_assignment"><span class="id" title="lemma">mutation_is_field_assignment</span></a>; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">interpretation_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clean</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#external_self"><span class="id" title="definition">external_self</span></a>, <a class="idref" href="com.chainmail.loo_def.html#is_external"><span class="id" title="definition">is_external</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_def.html#classOf"><span class="id" title="inductive">classOf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">unfold_interpretation</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">_</span> <a class="idref" href="com.chainmail.decoupling.html#5dd77e9ca1311efd38d6ccfeda3ba482"><span class="id" title="notation">internal</span></a>] |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.decoupling.html#internal_obj"><span class="id" title="inductive">internal_obj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="contains_method_call"><span class="id" title="definition">contains_method_call</span></a> (<span class="id" title="var">m</span> : <a class="idref" href="com.chainmail.loo_def.html#mth"><span class="id" title="inductive">mth</span></a>)(<span class="id" title="var">C</span> : <a class="idref" href="com.chainmail.loo_def.html#cls"><span class="id" title="inductive">cls</span></a>)(<span class="id" title="var">M</span> : <a class="idref" href="com.chainmail.loo_def.html#mdl"><span class="id" title="definition">mdl</span></a>):=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">CDef</span>, <a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.hoare.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.hoare.html#CDef"><span class="id" title="variable">CDef</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">zs</span>, <a class="idref" href="com.chainmail.loo_def.html#c_meths"><span class="id" title="projection">c_meths</span></a> <a class="idref" href="com.chainmail.hoare.html#CDef"><span class="id" title="variable">CDef</span></a> <a class="idref" href="com.chainmail.hoare.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#zs"><span class="id" title="variable">zs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">m'</span> <span class="id" title="var">β</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.hoare.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="com.chainmail.hoare.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="com.chainmail.hoare.html#dc5233cb1d950ecad15b1e9b2514f665"><span class="id" title="variable">β</span></a>) <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="external_stack"><span class="id" title="definition">external_stack</span></a> (<span class="id" title="var">M</span> : <a class="idref" href="com.chainmail.loo_def.html#mdl"><span class="id" title="definition">mdl</span></a>)(σ : <a class="idref" href="com.chainmail.loo_def.html#config"><span class="id" title="definition">config</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">ϕ</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="com.chainmail.hoare.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">α</span> <span class="id" title="var">o</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a>  <a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <a class="idref" href="com.chainmail.hoare.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="com.chainmail.loo_def.html#this"><span class="id" title="definition">this</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="com.chainmail.loo_def.html#v_addr"><span class="id" title="constructor">v_addr</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.hoare.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.hoare.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#M"><span class="id" title="variable">M</span></a> (<a class="idref" href="com.chainmail.loo_def.html#cname"><span class="id" title="projection">cname</span></a> <a class="idref" href="com.chainmail.hoare.html#o"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="external_stack_internal_step_is_method_call"><span class="id" title="lemma">external_stack_internal_step_is_method_call</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ, <a class="idref" href="com.chainmail.hoare.html#internal_step"><span class="id" title="definition">internal_step</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#external_stack"><span class="id" title="definition">external_stack</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#is_call_to"><span class="id" title="definition">is_call_to</span></a> (<a class="idref" href="com.chainmail.loo_def.html#is_internal"><span class="id" title="definition">is_internal</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#internal_step"><span class="id" title="definition">internal_step</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#external_stack"><span class="id" title="definition">external_stack</span></a>, <a class="idref" href="com.chainmail.hoare.html#is_return_to"><span class="id" title="definition">is_return_to</span></a>, <a class="idref" href="com.chainmail.hoare.html#waiting_frame_is"><span class="id" title="definition">waiting_frame_is</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> χ := <span class="id" title="tactic">fresh</span> "χ" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> ψ := <span class="id" title="tactic">fresh</span> "ψ" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">ϕ</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="com.chainmail.hoare.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> (?<span class="id" title="var">ϕ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ?<span class="id" title="var">ϕ2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ?ψ) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">ϕ2</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a> <span class="id" title="var">ϕ1</span> <span class="id" title="var">ϕ2</span> (<span class="id" title="var">ϕ2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ψ) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a> <span class="id" title="var">ϕ2</span> ψ)))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#internal_self"><span class="id" title="definition">internal_self</span></a>, <a class="idref" href="com.chainmail.loo_def.html#is_internal"><span class="id" title="definition">is_internal</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="substmt_equality"><span class="id" title="lemma">substmt_equality</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span>, <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">e</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#s_if"><span class="id" title="constructor">s_if</span></a> <a class="idref" href="com.chainmail.hoare.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="com.chainmail.hoare.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="com.chainmail.hoare.html#s'"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">s</span> <span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="com.chainmail.hoare.html#s'"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">Hsub</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hsub</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [|- <span class="id" title="keyword">context</span> [<a class="idref" href="com.chainmail.loo_def.html#s_if"><span class="id" title="constructor">s_if</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#s_if"><span class="id" title="constructor">s_if</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [|- <span class="id" title="keyword">context</span> [<span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <span class="id" title="var">_</span>]] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;-  <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">eauto</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">eauto</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [|- <span class="id" title="keyword">context</span> [<a class="idref" href="com.chainmail.loo_def.html#s_if"><span class="id" title="constructor">s_if</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#s_if"><span class="id" title="constructor">s_if</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [|- <span class="id" title="keyword">context</span> [<span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <span class="id" title="var">_</span>]] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">s1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">s2</span> |- <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">s1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">s2</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>].<br/>

<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="substmt_stmts"><span class="id" title="lemma">substmt_stmts</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span>, <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#substmt_equality"><span class="id" title="lemma">substmt_equality</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a> (<span class="id" title="var">s</span> : <a class="idref" href="com.chainmail.loo_def.html#stmt"><span class="id" title="inductive">stmt</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span>, <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="keyword">forall</span> <span class="id" title="var">e</span>, <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#s_if"><span class="id" title="constructor">s_if</span></a> <a class="idref" href="com.chainmail.hoare.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="atomic_asgn"><span class="id" title="lemma">atomic_asgn</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">r1</span> <span class="id" title="var">r2</span>, <a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a> (<a class="idref" href="com.chainmail.hoare.html#r1"><span class="id" title="variable">r1</span></a> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">≔</span></a> <a class="idref" href="com.chainmail.hoare.html#r2"><span class="id" title="variable">r2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="atomic_new"><span class="id" title="lemma">atomic_new</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">C</span> <span class="id" title="var">β</span>, <a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_new"><span class="id" title="constructor">s_new</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.hoare.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="com.chainmail.hoare.html#dc5233cb1d950ecad15b1e9b2514f665"><span class="id" title="variable">β</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="atomic_rtrn"><span class="id" title="lemma">atomic_rtrn</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_rtrn"><span class="id" title="constructor">s_rtrn</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="atomic_meth"><span class="id" title="lemma">atomic_meth</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">m</span> <span class="id" title="var">β</span>, <a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.hoare.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="com.chainmail.hoare.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="com.chainmail.hoare.html#dc5233cb1d950ecad15b1e9b2514f665"><span class="id" title="variable">β</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">atomic_auto</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a> (?<span class="id" title="var">s1</span> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> ?<span class="id" title="var">s2</span>) |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Ha</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">Ha</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_if"><span class="id" title="constructor">s_if</span></a> ?<span class="id" title="var">e</span> ?<span class="id" title="var">s1</span> ?<span class="id" title="var">s2</span>) |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Ha</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hb</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha</span> <span class="id" title="var">Hb</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hb</span> <span class="id" title="var">e</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">Hb</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;| [|- <a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#atomic_meth"><span class="id" title="lemma">atomic_meth</span></a><br/>
&nbsp;&nbsp;| [|- <a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a> (<span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#79251c5c167649a68276f8bbfb0987ba"><span class="id" title="notation">≔</span></a> <span class="id" title="var">_</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#atomic_asgn"><span class="id" title="lemma">atomic_asgn</span></a><br/>
&nbsp;&nbsp;| [|- <a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_new"><span class="id" title="constructor">s_new</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#atomic_new"><span class="id" title="lemma">atomic_new</span></a><br/>
&nbsp;&nbsp;| [|- <a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_rtrn"><span class="id" title="constructor">s_rtrn</span></a> <span class="id" title="var">_</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#atomic_rtrn"><span class="id" title="lemma">atomic_rtrn</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="atomic_substmt"><span class="id" title="lemma">atomic_substmt</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span>, <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">Hsub</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hsub</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">atomic_auto</span>].<br/>

<br/>
&nbsp;&nbsp;-  <span class="id" title="var">auto_specialize</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_specialize</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="atomic_substmt_merge"><span class="id" title="lemma">atomic_substmt_merge</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">s</span>, <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="com.chainmail.loo_def.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#atomic_stmt"><span class="id" title="definition">atomic_stmt</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> <a class="idref" href="com.chainmail.hoare.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">s1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> ?<span class="id" title="var">s</span> (?<span class="id" title="var">s1</span> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> ?<span class="id" title="var">s2</span>) |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#substmt_stmts"><span class="id" title="lemma">substmt_stmts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">atomic_auto</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">atomic_auto</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHs1_2</span> <span class="id" title="var">s2</span> <span class="id" title="var">s</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">auto_specialize</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="no_method_calls_internal_step"><span class="id" title="lemma">no_method_calls_internal_step</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⤳…</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#external_stack"><span class="id" title="definition">external_stack</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">m</span> <span class="id" title="var">C</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.hoare.html#contains_method_call"><span class="id" title="definition">contains_method_call</span></a> <a class="idref" href="com.chainmail.hoare.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="com.chainmail.hoare.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">ϕ1</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">m</span> <span class="id" title="var">β</span> <span class="id" title="var">s1</span> <span class="id" title="var">ϕ2</span> <span class="id" title="var">s2</span> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <a class="idref" href="com.chainmail.hoare.html#1e79d975b7d83fc9869d290798e8fd72"><span class="id" title="variable">ϕ1</span></a> <a class="idref" href="com.chainmail.hoare.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <a class="idref" href="com.chainmail.hoare.html#da206f73466165b8d6a644d215eea9c3"><span class="id" title="variable">ϕ2</span></a> <a class="idref" href="com.chainmail.loo_def.html#this"><span class="id" title="definition">this</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="com.chainmail.hoare.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.hoare.html#1e79d975b7d83fc9869d290798e8fd72"><span class="id" title="variable">ϕ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="com.chainmail.hoare.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> <a class="idref" href="com.chainmail.hoare.html#1e79d975b7d83fc9869d290798e8fd72"><span class="id" title="variable">ϕ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#c_stmt"><span class="id" title="constructor">c_stmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.hoare.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="com.chainmail.hoare.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="com.chainmail.hoare.html#dc5233cb1d950ecad15b1e9b2514f665"><span class="id" title="variable">β</span></a><a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="com.chainmail.hoare.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.hoare.html#da206f73466165b8d6a644d215eea9c3"><span class="id" title="variable">ϕ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#frm"><span class="id" title="constructor">frm</span></a> (<a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <a class="idref" href="com.chainmail.hoare.html#1e79d975b7d83fc9869d290798e8fd72"><span class="id" title="variable">ϕ1</span></a>) (<a class="idref" href="com.chainmail.loo_def.html#c_hole"><span class="id" title="constructor">c_hole</span></a> <a class="idref" href="com.chainmail.hoare.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.hoare.html#s1"><span class="id" title="variable">s1</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="com.chainmail.hoare.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> <a class="idref" href="com.chainmail.hoare.html#da206f73466165b8d6a644d215eea9c3"><span class="id" title="variable">ϕ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#c_stmt"><span class="id" title="constructor">c_stmt</span></a> <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x'</span> <span class="id" title="var">y'</span> <span class="id" title="var">m'</span> <span class="id" title="var">β'</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> <a class="idref" href="com.chainmail.hoare.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="com.chainmail.hoare.html#y'"><span class="id" title="variable">y'</span></a> <a class="idref" href="com.chainmail.hoare.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="com.chainmail.hoare.html#e24b2502683e1211e40a33adf0309cd2"><span class="id" title="variable">β'</span></a>) <a class="idref" href="com.chainmail.hoare.html#s2"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="com.chainmail.hoare.html#is_call_to"><span class="id" title="definition">is_call_to</span></a> (<a class="idref" href="com.chainmail.loo_def.html#is_internal"><span class="id" title="definition">is_internal</span></a> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span>) σ);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#external_stack_internal_step_is_method_call"><span class="id" title="lemma">external_stack_internal_step_is_method_call</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.hoare.html#internal_reductions_is_internal_step"><span class="id" title="axiom">internal_reductions_is_internal_step</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#is_call_to"><span class="id" title="definition">is_call_to</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Hcontn</span> : <a class="idref" href="com.chainmail.hoare.html#contn_is"><span class="id" title="inductive">contn_is</span></a> <span class="id" title="var">_</span> ?σ |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> χ := <span class="id" title="tactic">fresh</span> "χ" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> ψ := <span class="id" title="tactic">fresh</span> "ψ" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hcontn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> ?<span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#c_stmt"><span class="id" title="constructor">c_stmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">m</span> ?<span class="id" title="var">β</span><a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> ?<span class="id" title="var">s</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint</span> : <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> ?<span class="id" title="var">y</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">ϕ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ?ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.decoupling.html#9ea797bce5ee2805e60ecb8810b136d9"><span class="id" title="notation">v_</span></a> ?<span class="id" title="var">α</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hmeth</span> : <a class="idref" href="com.chainmail.loo_def.html#c_meths"><span class="id" title="projection">c_meths</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> |-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> : <a class="idref" href="com.chainmail.loo_def.html#frame"><span class="id" title="record">frame</span></a>)(<span class="id" title="var">_</span> : <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a>)(<span class="id" title="var">_</span> : <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a>)(<span class="id" title="var">_</span> : <a class="idref" href="com.chainmail.loo_def.html#mth"><span class="id" title="inductive">mth</span></a>)(<span class="id" title="var">_</span> : <a class="idref" href="com.chainmail.common.html#partial_map"><span class="id" title="definition">partial_map</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">_</span> : <a class="idref" href="com.chainmail.loo_def.html#stmt"><span class="id" title="inductive">stmt</span></a>)(<span class="id" title="var">_</span> : <a class="idref" href="com.chainmail.loo_def.html#frame"><span class="id" title="record">frame</span></a>)(<span class="id" title="var">_</span> : <a class="idref" href="com.chainmail.loo_def.html#stmt"><span class="id" title="inductive">stmt</span></a>)(<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="com.chainmail.loo_def.html#frame"><span class="id" title="record">frame</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ϕ</span>, <span class="id" title="var">x</span>, <span class="id" title="var">y</span>, <span class="id" title="var">m</span>, <span class="id" title="var">β</span>, <span class="id" title="var">s</span>, (<a class="idref" href="com.chainmail.loo_def.html#frm"><span class="id" title="constructor">frm</span></a> (<a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a> <a class="idref" href="com.chainmail.loo_def.html#this"><span class="id" title="definition">this</span></a> (<a class="idref" href="com.chainmail.decoupling.html#9ea797bce5ee2805e60ecb8810b136d9"><span class="id" title="notation">v_</span></a> <span class="id" title="var">α</span>) (<span class="id" title="var">β</span> <a class="idref" href="com.chainmail.common.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <span class="id" title="var">ϕ</span>)) (<a class="idref" href="com.chainmail.loo_def.html#c_stmt"><span class="id" title="constructor">c_stmt</span></a> <span class="id" title="var">s'</span>)), <span class="id" title="var">s'</span>, ψ<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eq_auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">m'</span> <span class="id" title="var">C'</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.hoare.html#contains_method_call"><span class="id" title="definition">contains_method_call</span></a>  <a class="idref" href="com.chainmail.hoare.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="com.chainmail.hoare.html#C'"><span class="id" title="variable">C'</span></a> <span class="id" title="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Ha</span> : ?<span class="id" title="var">M</span> ?<span class="id" title="var">C</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">CDef</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hb</span> : <a class="idref" href="com.chainmail.loo_def.html#c_meths"><span class="id" title="projection">c_meths</span></a> ?<span class="id" title="var">CDef</span> ?<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">m</span> <span class="id" title="var">C</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#contains_method_call"><span class="id" title="definition">contains_method_call</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#is_internal"><span class="id" title="definition">is_internal</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Ha</span> : <span class="id" title="keyword">context</span>[(?<span class="id" title="var">M1</span> <a class="idref" href="com.chainmail.common.html#ee7d96fc379cbf67726a95b71cdead1d"><span class="id" title="notation">∪</span></a> <span class="id" title="var">_</span>) ?<span class="id" title="var">x</span>],<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hb</span> : ?<span class="id" title="var">M1</span> ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#extend"><span class="id" title="definition">extend</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hb</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="var">auto_specialize</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ϕ</span>, <span class="id" title="var">x</span>, <span class="id" title="var">x0</span>, <span class="id" title="var">m</span>, <span class="id" title="var">β</span>, <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Hreduce</span> : <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hreduce</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">_</span> : <span class="id" title="keyword">context</span> [<a class="idref" href="com.chainmail.loo_def.html#s_asgn"><span class="id" title="constructor">s_asgn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>] |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">_</span> : <span class="id" title="keyword">context</span> [<a class="idref" href="com.chainmail.loo_def.html#s_new"><span class="id" title="constructor">s_new</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>] |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Ha</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> ?<span class="id" title="var">s</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hb</span> : <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">m</span> ?<span class="id" title="var">β</span>) ?<span class="id" title="var">s</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> (<span class="id" title="var">Ha</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">m</span> <span class="id" title="var">β</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">m</span> ?<span class="id" title="var">β</span><a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">m</span> <span class="id" title="var">β</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#atomic_substmt_merge"><span class="id" title="lemma">atomic_substmt_merge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span>|<span class="id" title="var">atomic_auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Ha</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#s_if"><span class="id" title="constructor">s_if</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">s</span> <span class="id" title="var">_</span><a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">);;</span></a> <span class="id" title="var">_</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hb</span> : <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">m</span> ?<span class="id" title="var">β</span>) ?<span class="id" title="var">s</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> (<span class="id" title="var">Ha</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">m</span> <span class="id" title="var">β</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Ha</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> ?<span class="id" title="var">s</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hb</span> : <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">m</span> ?<span class="id" title="var">β</span>) ?<span class="id" title="var">s</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> (<span class="id" title="var">Ha</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">m</span> <span class="id" title="var">β</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.hoare.html#atomic_substmt_merge"><span class="id" title="lemma">atomic_substmt_merge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span>|<span class="id" title="var">atomic_auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Ha</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#s_if"><span class="id" title="constructor">s_if</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">s</span><a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">);;</span></a> <span class="id" title="var">_</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hb</span> : <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">m</span> ?<span class="id" title="var">β</span>) ?<span class="id" title="var">s</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> (<span class="id" title="var">Ha</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">m</span> <span class="id" title="var">β</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Ha</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">_</span> <a class="idref" href="com.chainmail.loo_def.html#ddfa557d890d9c0cd173d40cb7db80da"><span class="id" title="notation">;;</span></a> ?<span class="id" title="var">s</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hb</span> : <a class="idref" href="com.chainmail.loo_reduction_properties.html#substmt"><span class="id" title="inductive">substmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#s_meth"><span class="id" title="constructor">s_meth</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">m</span> ?<span class="id" title="var">β</span>) ?<span class="id" title="var">s</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> (<span class="id" title="var">Ha</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">m</span> <span class="id" title="var">β</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#internal_self"><span class="id" title="definition">internal_self</span></a>, <a class="idref" href="com.chainmail.loo_def.html#is_internal"><span class="id" title="definition">is_internal</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#external_stack"><span class="id" title="definition">external_stack</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Ha</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> ?σ <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hb</span> : <span class="id" title="keyword">context</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> ?σ] |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hb</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">ϕ</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a> <span class="id" title="var">ϕ</span> ψ)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">admit</span>.<br/>

<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="no_method_calls_internal_steps_method_calls"><span class="id" title="lemma">no_method_calls_internal_steps_method_calls</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ0 σ, <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.hoare.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.decoupling.html#initial"><span class="id" title="definition">initial</span></a> <a class="idref" href="com.chainmail.hoare.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#internal_step"><span class="id" title="definition">internal_step</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">m</span> <span class="id" title="var">C</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.hoare.html#contains_method_call"><span class="id" title="definition">contains_method_call</span></a> <a class="idref" href="com.chainmail.hoare.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="com.chainmail.hoare.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.hoare.html#is_call_to"><span class="id" title="definition">is_call_to</span></a> (<a class="idref" href="com.chainmail.loo_def.html#is_internal"><span class="id" title="definition">is_internal</span></a> <a class="idref" href="com.chainmail.hoare.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.hoare.html#M2"><span class="id" title="variable">M2</span></a>) <a class="idref" href="com.chainmail.hoare.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ0 σ <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.hoare.html#internal_step"><span class="id" title="definition">internal_step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.hoare.html#internal_step"><span class="id" title="definition">internal_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.decoupling.html#initial"><span class="id" title="definition">initial</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists_loo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*Lemma&nbsp;external_step_leaves_internal_field_unchanged_neq&nbsp;:<br/>
&nbsp;&nbsp;forall&nbsp;M1&nbsp;M2&nbsp;σ0&nbsp;σ&nbsp;α,&nbsp;M1&nbsp;⦂&nbsp;M2&nbsp;◎&nbsp;σ0&nbsp;…&nbsp;σ&nbsp;⊨&nbsp;((a_&nbsp;α)&nbsp;internal)&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forall&nbsp;f&nbsp;v,&nbsp;M1&nbsp;⦂&nbsp;M2&nbsp;◎&nbsp;σ0&nbsp;…&nbsp;σ&nbsp;⊨&nbsp;(ex_acc_f&nbsp;(e_&nbsp;α)&nbsp;f&nbsp;⩶̸&nbsp;v)&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;external_step&nbsp;M1&nbsp;M2&nbsp;σ&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forall&nbsp;σ',&nbsp;M1&nbsp;⦂&nbsp;M2&nbsp;⦿&nbsp;σ&nbsp;⤳&nbsp;σ'&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;M1&nbsp;⦂&nbsp;M2&nbsp;◎&nbsp;σ0&nbsp;…&nbsp;σ'&nbsp;⊨&nbsp;(ex_acc_f&nbsp;(e_&nbsp;α)&nbsp;f&nbsp;⩶̸&nbsp;v).<br/>
Proof.<br/>
<br/>
Admitted.*)</span><br/>

<br/>
<span class="comment">(*Lemma&nbsp;internal_class_implies_internal&nbsp;:<br/>
&nbsp;&nbsp;forall&nbsp;M1&nbsp;M2&nbsp;σ0&nbsp;σ&nbsp;α&nbsp;C,&nbsp;M1&nbsp;⦂&nbsp;M2&nbsp;◎&nbsp;σ0&nbsp;…&nbsp;σ&nbsp;⊨&nbsp;(a_class&nbsp;(a_&nbsp;α)&nbsp;C)&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(exists&nbsp;CDef,&nbsp;M1&nbsp;C&nbsp;=&nbsp;Some&nbsp;CDef)&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forall&nbsp;σ0'&nbsp;σ',&nbsp;M1&nbsp;⦂&nbsp;M2&nbsp;◎&nbsp;σ0'&nbsp;…&nbsp;σ'&nbsp;⊨&nbsp;((a_&nbsp;α)&nbsp;internal).<br/>
Proof.<br/>
Admitted.*)</span><br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
