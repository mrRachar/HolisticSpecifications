<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">com.chainmail.loo_properties</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="com.chainmail.common.html#"><span class="id" title="library">common</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="com.chainmail.loo_def.html#"><span class="id" title="library">loo_def</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="com.chainmail.chainmail.html#"><span class="id" title="library">chainmail</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="com.chainmail.function_operations.html#"><span class="id" title="library">function_operations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="com.chainmail.CpdtTactics.html#"><span class="id" title="library">CpdtTactics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">Coq.Logic.FunctionalExtensionality</span></a>.<br/>

<br/>
</div>

<div class="doc">
<h1> Basic Arithmetic Assertions: </h1> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a name="prop_not_and_distr"><span class="id" title="lemma">prop_not_and_distr</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="com.chainmail.loo_properties.html#B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="com.chainmail.loo_properties.html#B"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#excluded_middle"><span class="id" title="axiom">excluded_middle</span></a> <span class="id" title="var">A</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#excluded_middle"><span class="id" title="axiom">excluded_middle</span></a> <span class="id" title="var">B</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="prop_implies_not"><span class="id" title="lemma">prop_implies_not</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Prop</span>), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="com.chainmail.loo_properties.html#B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_properties.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="prop_not_sat_and_distr"><span class="id" title="lemma">prop_not_sat_and_distr</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ <span class="id" title="var">A1</span> <span class="id" title="var">A2</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.chainmail.html#802bc0193cdc9b73793a095c893565f5"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.chainmail.html#802bc0193cdc9b73793a095c893565f5"><span class="id" title="notation">◎</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.chainmail.html#802bc0193cdc9b73793a095c893565f5"><span class="id" title="notation">⊨</span></a> <a class="idref" href="com.chainmail.chainmail.html#802bc0193cdc9b73793a095c893565f5"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.chainmail.html#a_and"><span class="id" title="constructor">a_and</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A2"><span class="id" title="variable">A2</span></a><a class="idref" href="com.chainmail.chainmail.html#802bc0193cdc9b73793a095c893565f5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.chainmail.html#802bc0193cdc9b73793a095c893565f5"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.chainmail.html#802bc0193cdc9b73793a095c893565f5"><span class="id" title="notation">◎</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.chainmail.html#802bc0193cdc9b73793a095c893565f5"><span class="id" title="notation">⊨</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A1"><span class="id" title="variable">A1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.chainmail.html#802bc0193cdc9b73793a095c893565f5"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.chainmail.html#802bc0193cdc9b73793a095c893565f5"><span class="id" title="notation">◎</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.chainmail.html#802bc0193cdc9b73793a095c893565f5"><span class="id" title="notation">⊨</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A2"><span class="id" title="variable">A2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_properties.html#prop_not_and_distr"><span class="id" title="lemma">prop_not_and_distr</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha</span> <span class="id" title="var">Hb</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="forall_exists_neg"><span class="id" title="lemma">forall_exists_neg</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} <span class="id" title="var">P</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> : <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.loo_properties.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span> : <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="com.chainmail.loo_properties.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="exists_neg_forall"><span class="id" title="lemma">exists_neg_forall</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">P</span> : <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span> : <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="com.chainmail.loo_properties.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span> : <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.loo_properties.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reduction_preserves_well_formed_heap"><span class="id" title="lemma">reduction_preserves_well_formed_heap</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">χ</span></a><a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">χ</span></a><a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">crush</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#heap_wf"><span class="id" title="constructor">heap_wf</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*field&nbsp;assign&nbsp;reduce*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a>, <a class="idref" href="com.chainmail.common.html#t_update"><span class="id" title="definition">t_update</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">α0</span> <span class="id" title="var">α</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span>|<span class="id" title="var">Hneq</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#eqb_refl"><span class="id" title="method">eqb_refl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.common.html#neq_eqb"><span class="id" title="method">neq_eqb</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hneq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H11</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">H7</span> <span class="id" title="var">α0</span>); <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H11</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H7</span> <span class="id" title="var">α</span> <span class="id" title="var">o</span> (<a class="idref" href="com.chainmail.loo_def.html#cname"><span class="id" title="projection">cname</span></a> <span class="id" title="var">o</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">CDef</span> <span class="id" title="var">Hwf</span>]; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hwf1</span> <span class="id" title="var">Hwf2</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hwf2</span> <span class="id" title="var">Hwf3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">CDef</span>; <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">f0</span> <span class="id" title="var">f</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span>|<span class="id" title="var">Hneq</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">destruct</span> <span class="id" title="var">f0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Arith.EqNat.html#beq_nat_refl"><span class="id" title="lemma">beq_nat_refl</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">destruct</span> <span class="id" title="var">f0</span>, <span class="id" title="var">f</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hneq'</span> : <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">n0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontra</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">crush</span>| <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb_neq"><span class="id" title="lemma">Nat.eqb_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq'</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hneq'</span>; <span class="id" title="tactic">auto</span>]].<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*new&nbsp;object&nbsp;initialization*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a>, <a class="idref" href="com.chainmail.common.html#t_update"><span class="id" title="definition">t_update</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">α0</span> <span class="id" title="var">α</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span>|<span class="id" title="var">Hneq</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#eqb_refl"><span class="id" title="method">eqb_refl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.common.html#neq_eqb"><span class="id" title="method">neq_eqb</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hneq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H9</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">H6</span> <span class="id" title="var">α0</span>); <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">CDef</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hin</span> : <span class="id" title="var">fMap</span> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">f</span> (<a class="idref" href="com.chainmail.loo_def.html#c_flds"><span class="id" title="projection">c_flds</span></a> <span class="id" title="var">CDef</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.function_operations.html#not_in_map_implies_not_in_dom"><span class="id" title="lemma">not_in_map_implies_not_in_dom</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span>:=<span class="id" title="var">fMap</span>); <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">fMap</span> <span class="id" title="var">f</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">res</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">res</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span>|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">contradiction</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H5</span> <span class="id" title="var">f</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="linking_unique"><span class="id" title="lemma">linking_unique</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> <span class="id" title="var">M</span>, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M'</span>, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M'"><span class="id" title="variable">M'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#M'"><span class="id" title="variable">M'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> <span class="id" title="var">M</span> <span class="id" title="var">Hlink1</span> <span class="id" title="var">M'</span> <span class="id" title="var">Hlink2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlink1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlink2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">link_unique_auto</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H1</span> : ?<span class="id" title="var">M1</span> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> ?<span class="id" title="var">M2</span> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> ?<span class="id" title="var">M</span>, <span class="id" title="var">H2</span> : ?<span class="id" title="var">M1</span> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> ?<span class="id" title="var">M2</span> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> ?<span class="id" title="var">M'</span> |-<span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">M'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">M</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#linking_unique"><span class="id" title="lemma">linking_unique</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>|<span class="id" title="tactic">subst</span> <span class="id" title="var">M'</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">reduce_heap_wf_auto</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">Hred</span> : ?<span class="id" title="var">M</span> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> ?σ1 <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> ?σ2 |- <a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">χ</span></a><a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">_wf</span></a> ?<span class="id" title="var">M</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> ?σ2)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#reduction_preserves_well_formed_heap"><span class="id" title="lemma">reduction_preserves_well_formed_heap</span></a>; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reductions_preserves_heap_wf"><span class="id" title="lemma">reductions_preserves_heap_wf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⤳…</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span>, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">χ</span></a><a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">χ</span></a><a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">link_unique_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reduce_heap_wf_auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">reduces_heap_wf_auto</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">Hred</span> : ?<span class="id" title="var">M1</span> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦂</span></a> ?<span class="id" title="var">M2</span> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦿</span></a> ?σ1 <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⤳…</span></a> ?σ2 |- <a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">χ</span></a><a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">_wf</span></a> ?<span class="id" title="var">M</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> ?σ2)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#reductions_preserves_heap_wf"><span class="id" title="lemma">reductions_preserves_heap_wf</span></a>; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reduction_preserves_heap_wf"><span class="id" title="lemma">pair_reduction_preserves_heap_wf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span>, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">χ</span></a><a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">χ</span></a><a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">link_unique_auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">reduce_heap_wf_auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">reduces_heap_wf_auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">pair_reduce_heap_wf_auto</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">Hred</span> : ?<span class="id" title="var">M1</span> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> ?<span class="id" title="var">M2</span> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> ?σ1 <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> ?σ2 |- <a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">χ</span></a><a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">_wf</span></a> ?<span class="id" title="var">M</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> ?σ2)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#pair_reduction_preserves_heap_wf"><span class="id" title="lemma">pair_reduction_preserves_heap_wf</span></a>; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reductions_preserves_heap_wf"><span class="id" title="lemma">pair_reductions_preserves_heap_wf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span>, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">χ</span></a><a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">χ</span></a><a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> <span class="id" title="var">pair_reduce_heap_wf_auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHred</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pair_reduce_heap_wf_auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">pair_reduces_heap_wf_auto</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">Hred</span> : ?<span class="id" title="var">M1</span> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> ?<span class="id" title="var">M2</span> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> ?σ1 <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> ?σ2 |- <a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">χ</span></a><a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">_wf</span></a> ?<span class="id" title="var">M</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> ?σ2)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#pair_reductions_preserves_heap_wf"><span class="id" title="lemma">pair_reductions_preserves_heap_wf</span></a>; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="M_wf_ObjectDefn"><span class="id" title="lemma">M_wf_ObjectDefn</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span>, <a class="idref" href="com.chainmail.loo_def.html#M_wf"><span class="id" title="inductive">M_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#ObjectName"><span class="id" title="definition">ObjectName</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_def.html#ObjectDefn"><span class="id" title="definition">ObjectDefn</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> <span class="id" title="var">Hwf</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwf</span>; <span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">obj_defn_rewrite</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_def.html#M_wf"><span class="id" title="inductive">M_wf</span></a> ?<span class="id" title="var">M</span> |- <span class="id" title="keyword">context</span>[?<span class="id" title="var">M</span> <a class="idref" href="com.chainmail.loo_def.html#ObjectName"><span class="id" title="definition">ObjectName</span></a>]] =&gt; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="com.chainmail.loo_properties.html#M_wf_ObjectDefn"><span class="id" title="lemma">M_wf_ObjectDefn</span></a> <span class="id" title="var">M</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="initial_heap_wf"><span class="id" title="lemma">initial_heap_wf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ, <a class="idref" href="com.chainmail.chainmail.html#initial"><span class="id" title="definition">initial</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span>, <a class="idref" href="com.chainmail.loo_def.html#M_wf"><span class="id" title="inductive">M_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">χ</span></a><a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ <span class="id" title="var">Hinit</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinit</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">α</span> <span class="id" title="var">Hinit</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinit</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ϕ</span> <span class="id" title="var">Hinit</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#heap_wf"><span class="id" title="constructor">heap_wf</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">update_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">exists</span> <a class="idref" href="com.chainmail.loo_def.html#ObjectDefn"><span class="id" title="definition">ObjectDefn</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">obj_defn_rewrite</span>; <span class="id" title="tactic">auto</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">empty_auto</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">initial_heap_wf_auto</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.chainmail.html#initial"><span class="id" title="definition">initial</span></a> ?σ |- <a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">χ</span></a><a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">_wf</span></a> ?<span class="id" title="var">M</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> ?σ)] =&gt; <span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#initial_heap_wf"><span class="id" title="lemma">initial_heap_wf</span></a>; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="linked_wf"><span class="id" title="lemma">linked_wf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> <span class="id" title="var">M</span>, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#M_wf"><span class="id" title="inductive">M_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#M_wf"><span class="id" title="inductive">M_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#M_wf"><span class="id" title="inductive">M_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> <span class="id" title="var">M</span> <span class="id" title="var">Hlink</span> <span class="id" title="var">Hwf1</span> <span class="id" title="var">Hwf2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlink</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwf1</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwf2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#module_wf"><span class="id" title="constructor">module_wf</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#extend"><span class="id" title="definition">extend</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">M1</span> <a class="idref" href="com.chainmail.loo_def.html#ObjectName"><span class="id" title="definition">ObjectName</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#extend"><span class="id" title="definition">extend</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">M1</span> <span class="id" title="var">C</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#extend"><span class="id" title="definition">extend</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">M1</span> <span class="id" title="var">C</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">crush</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">linking_wf</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H1</span> : <a class="idref" href="com.chainmail.loo_def.html#M_wf"><span class="id" title="inductive">M_wf</span></a> ?<span class="id" title="var">M1</span>, <span class="id" title="var">H2</span> : <a class="idref" href="com.chainmail.loo_def.html#M_wf"><span class="id" title="inductive">M_wf</span></a> ?<span class="id" title="var">M2</span>, <span class="id" title="var">Hlink</span> : ?<span class="id" title="var">M1</span> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> ?<span class="id" title="var">M2</span> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> ?<span class="id" title="var">M</span> |- <a class="idref" href="com.chainmail.loo_def.html#M_wf"><span class="id" title="inductive">M_wf</span></a> ?<span class="id" title="var">M</span>] =&gt; <span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#linked_wf"><span class="id" title="lemma">linked_wf</span></a>; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="arising_heap_wf"><span class="id" title="lemma">arising_heap_wf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ, <a class="idref" href="com.chainmail.chainmail.html#arising"><span class="id" title="inductive">arising</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#M_wf"><span class="id" title="inductive">M_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#M_wf"><span class="id" title="inductive">M_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span>, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">⋄</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#3927968c5bb656362785c2ed283989be"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">χ</span></a><a class="idref" href="com.chainmail.loo_def.html#46fb2623def596c1a16ed5761ae1a334"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">pair_reduces_heap_wf_auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">initial_heap_wf_auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">linking_wf</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="le_le_addr"><span class="id" title="lemma">le_le_addr</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">α1</span> <span class="id" title="var">α2</span>, <a class="idref" href="com.chainmail.loo_def.html#091983f2d52a6a2e268b2c8f967c8b51"><span class="id" title="inductive">le_α</span></a> <a class="idref" href="com.chainmail.loo_properties.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a> <a class="idref" href="com.chainmail.loo_properties.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#091983f2d52a6a2e268b2c8f967c8b51"><span class="id" title="inductive">le_α</span></a> <a class="idref" href="com.chainmail.loo_properties.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a> <a class="idref" href="com.chainmail.loo_properties.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_properties.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">α1</span> <span class="id" title="var">α2</span> <span class="id" title="var">Hle1</span> <span class="id" title="var">Hle2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hle1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hle2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">le_le_addr</span> : <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="com.chainmail.loo_properties.html#le_le_addr"><span class="id" title="lemma">le_le_addr</span></a> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="heap_max_unique"><span class="id" title="lemma">heap_max_unique</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (χ : <a class="idref" href="com.chainmail.loo_def.html#heap"><span class="id" title="definition">heap</span></a>) <span class="id" title="var">α</span>, <a class="idref" href="com.chainmail.loo_def.html#802201026484f6d0a69d4ec7fb27873d"><span class="id" title="inductive">max_</span></a><a class="idref" href="com.chainmail.loo_def.html#802201026484f6d0a69d4ec7fb27873d"><span class="id" title="inductive">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">α'</span>, <a class="idref" href="com.chainmail.loo_def.html#802201026484f6d0a69d4ec7fb27873d"><span class="id" title="inductive">max_</span></a><a class="idref" href="com.chainmail.loo_def.html#802201026484f6d0a69d4ec7fb27873d"><span class="id" title="inductive">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#16501cc3ed1b4eca902eac9ccf08adb4"><span class="id" title="variable">α'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#16501cc3ed1b4eca902eac9ccf08adb4"><span class="id" title="variable">α'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> χ <span class="id" title="var">α</span> <span class="id" title="var">Hmax1</span> <span class="id" title="var">α'</span> <span class="id" title="var">Hmax2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hmax1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hmax2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">heap_max_unique</span> : <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="com.chainmail.loo_properties.html#heap_max_unique"><span class="id" title="lemma">heap_max_unique</span></a> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_heap_unique"><span class="id" title="lemma">fresh_heap_unique</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> χ <span class="id" title="var">α1</span> <span class="id" title="var">α2</span>, <a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">fresh_</span></a><a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">fresh_</span></a><a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_properties.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> χ <span class="id" title="var">α1</span> <span class="id" title="var">α2</span> <span class="id" title="var">Hfrsh1</span> <span class="id" title="var">Hfrsh2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hfrsh1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hfrsh2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H1</span> : <a class="idref" href="com.chainmail.loo_def.html#802201026484f6d0a69d4ec7fb27873d"><span class="id" title="inductive">max_</span></a><a class="idref" href="com.chainmail.loo_def.html#802201026484f6d0a69d4ec7fb27873d"><span class="id" title="inductive">χ</span></a> ?χ ?<span class="id" title="var">α1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">H2</span> : <a class="idref" href="com.chainmail.loo_def.html#802201026484f6d0a69d4ec7fb27873d"><span class="id" title="inductive">max_</span></a><a class="idref" href="com.chainmail.loo_def.html#802201026484f6d0a69d4ec7fb27873d"><span class="id" title="inductive">χ</span></a> ?χ ?<span class="id" title="var">α2</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_properties.html#heap_max_unique"><span class="id" title="lemma">heap_max_unique</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">α</span>:=<span class="id" title="var">α2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">fresh_heap_unique</span> : <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="com.chainmail.loo_properties.html#fresh_heap_unique"><span class="id" title="lemma">fresh_heap_unique</span></a> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_heap_none"><span class="id" title="lemma">fresh_heap_none</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> χ <span class="id" title="var">α</span>, <a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">fresh_</span></a><a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> χ <span class="id" title="var">α</span> <span class="id" title="var">Hfrsh</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hfrsh</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.function_operations.html#not_some_implies_none"><span class="id" title="lemma">not_some_implies_none</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hcontra</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">fresh_heap_none</span> : <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="com.chainmail.loo_properties.html#fresh_heap_none"><span class="id" title="lemma">fresh_heap_none</span></a> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_heap_some_contradict"><span class="id" title="lemma">fresh_heap_some_contradict</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> χ <span class="id" title="var">α</span>, <a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">fresh_</span></a><a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">o</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o"><span class="id" title="variable">o</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> χ <span class="id" title="var">α</span> <span class="id" title="var">Hfrsh</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_properties.html#fresh_heap_none"><span class="id" title="lemma">fresh_heap_none</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfrsh</span>; <span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">fresh_heap_some_contradict</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_heap_some_contradiction"><span class="id" title="lemma">fresh_heap_some_contradiction</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> χ <span class="id" title="var">α</span>, <a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">fresh_</span></a><a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">o</span>, <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span>, <a class="idref" href="com.chainmail.loo_properties.html#P"><span class="id" title="variable">P</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> χ <span class="id" title="var">α</span> <span class="id" title="var">Hfrsh</span> <span class="id" title="var">o</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_properties.html#fresh_heap_some_contradict"><span class="id" title="lemma">fresh_heap_some_contradict</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">o</span>:=<span class="id" title="var">o</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hfrsh</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*Lemma&nbsp;zip_length_exists&nbsp;:<br/>
&nbsp;&nbsp;forall&nbsp;{A&nbsp;B&nbsp;:&nbsp;Type}&nbsp;(l1&nbsp;:&nbsp;list&nbsp;A)&nbsp;(l2&nbsp;:&nbsp;list&nbsp;B),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;length&nbsp;l1&nbsp;=&nbsp;length&nbsp;l2&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;exists&nbsp;z,&nbsp;zip&nbsp;l1&nbsp;l2&nbsp;z.<br/>
Proof.<br/>
&nbsp;&nbsp;intros&nbsp;A&nbsp;B&nbsp;l1;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;induction&nbsp;l1&nbsp;as&nbsp;<span class="inlinecode">|<span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">l</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;exists&nbsp;nil;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;l2;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">auto</span>|<span class="id" title="tactic">inversion</span></span> <span class="inlinecode"><span class="id" title="var">H</span></span>.<br/>
&nbsp;&nbsp;destruct&nbsp;l2&nbsp;as&nbsp;<span class="inlinecode">|<span class="id" title="var">b</span></span> <span class="inlinecode"><span class="id" title="var">l'</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">inversion</span></span> <span class="inlinecode"><span class="id" title="var">H</span></span>
    <span class="inlinecode">|<span class="id" title="tactic">simpl</span></span> <span class="inlinecode"><span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">H</span>;</span>
     <span class="inlinecode"><span class="id" title="tactic">destruct</span></span> <span class="inlinecode">(<span class="id" title="var">IHl</span></span> <span class="inlinecode"><span class="id" title="var">l'</span>)</span> <span class="inlinecode"><span class="id" title="keyword">as</span></span> <span class="inlinecode">[<span class="id" title="var">z</span></span> <span class="inlinecode"><span class="id" title="var">Hzip</span>];</span>
     <span class="inlinecode"><span class="id" title="tactic">auto</span></span>.<br/>
&nbsp;&nbsp;exists&nbsp;((a,b)::z);&nbsp;auto.<br/>
Qed.*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_in_empty"><span class="id" title="lemma">fresh_in_empty</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} <span class="id" title="var">x</span>, @<a class="idref" href="com.chainmail.chainmail.html#fresh_in_map"><span class="id" title="definition">fresh_in_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.common.html#empty"><span class="id" title="definition">empty</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.chainmail.html#fresh_in_map"><span class="id" title="definition">fresh_in_map</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">pmap_simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">fresh_in_empty</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_in_map_not_in_dom"><span class="id" title="lemma">fresh_in_map_not_in_dom</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">m</span> : <a class="idref" href="com.chainmail.common.html#partial_map"><span class="id" title="definition">partial_map</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">d</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="com.chainmail.loo_properties.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="com.chainmail.chainmail.html#fresh_in_map"><span class="id" title="definition">fresh_in_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#d"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">m</span> <span class="id" title="var">d</span> <span class="id" title="var">Hdom</span> <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.function_operations.html#not_in_map_implies_not_in_dom"><span class="id" title="lemma">not_in_map_implies_not_in_dom</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.function_operations.html#not_in_dom_implies_not_in_map"><span class="id" title="lemma">not_in_dom_implies_not_in_map</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="lt_map"><span class="id" title="inductive">lt_map</span></a> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.common.html#partial_map"><span class="id" title="definition">partial_map</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="lt_empty"><span class="id" title="constructor">lt_empty</span></a> : <a class="idref" href="com.chainmail.loo_properties.html#lt_map"><span class="id" title="inductive">lt_map</span></a> 0 <a class="idref" href="com.chainmail.common.html#empty"><span class="id" title="definition">empty</span></a><br/>
| <a name="lt_update1"><span class="id" title="constructor">lt_update1</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">b</span> <span class="id" title="var">m</span> <span class="id" title="var">n'</span>, <a class="idref" href="com.chainmail.loo_properties.html#lt_map"><span class="id" title="inductive">lt_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Peano.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#lt_map"><span class="id" title="inductive">lt_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n'"><span class="id" title="variable">n'</span></a> (<a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a> (<a class="idref" href="com.chainmail.common.html#bnd"><span class="id" title="constructor">bnd</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="com.chainmail.loo_properties.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m"><span class="id" title="variable">m</span></a>)<br/>
| <a name="lt_update2"><span class="id" title="constructor">lt_update2</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">b</span> <span class="id" title="var">m</span> <span class="id" title="var">n'</span>, <a class="idref" href="com.chainmail.loo_properties.html#lt_map"><span class="id" title="inductive">lt_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#lt_map"><span class="id" title="inductive">lt_map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a> (<a class="idref" href="com.chainmail.common.html#bnd"><span class="id" title="constructor">bnd</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="com.chainmail.loo_properties.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m"><span class="id" title="variable">m</span></a>).<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="com.chainmail.loo_properties.html#lt_map"><span class="id" title="inductive">lt_map</span></a> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="exists_limit_for_finite_map"><span class="id" title="lemma">exists_limit_for_finite_map</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">m</span> : <a class="idref" href="com.chainmail.common.html#partial_map"><span class="id" title="definition">partial_map</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.common.html#finite"><span class="id" title="inductive">finite</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#lt_map"><span class="id" title="inductive">lt_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">m</span> <span class="id" title="var">Hfinite</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hfinite</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">exists</span> 0; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>|<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHfinite</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span>]].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Arith.Compare_dec.html#le_lt_dec"><span class="id" title="definition">le_lt_dec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hle</span>|<span class="id" title="var">Hlt</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span>); <span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#lt_update2"><span class="id" title="constructor">lt_update2</span></a>|<span class="id" title="tactic">exists</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_properties.html#lt_update1"><span class="id" title="constructor">lt_update1</span></a>]; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lt_map_implies_var_lt"><span class="id" title="lemma">lt_map_implies_var_lt</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} <span class="id" title="var">n</span> (<span class="id" title="var">m</span> : <a class="idref" href="com.chainmail.common.html#partial_map"><span class="id" title="definition">partial_map</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#lt_map"><span class="id" title="inductive">lt_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">n'</span> <span class="id" title="var">b</span>, <a class="idref" href="com.chainmail.loo_properties.html#m"><span class="id" title="variable">m</span></a> (<a class="idref" href="com.chainmail.common.html#bnd"><span class="id" title="constructor">bnd</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n'"><span class="id" title="variable">n'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Peano.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">Hlt</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hlt</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pmap_simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">n'0</span> <span class="id" title="var">n</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">subst</span>|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pmap_simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a>, <a class="idref" href="com.chainmail.common.html#t_update"><span class="id" title="definition">t_update</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#neq_eqb"><span class="id" title="method">neq_eqb</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; [<span class="id" title="tactic">eauto</span>|<span class="id" title="var">crush</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">n'0</span> <span class="id" title="var">n</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">subst</span>|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pmap_simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a>, <a class="idref" href="com.chainmail.common.html#t_update"><span class="id" title="definition">t_update</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#neq_eqb"><span class="id" title="method">neq_eqb</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; [<span class="id" title="tactic">eauto</span>|<span class="id" title="var">crush</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHlt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lt_fresh_in_map"><span class="id" title="lemma">lt_fresh_in_map</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} <span class="id" title="var">n</span> (<span class="id" title="var">m</span> : <a class="idref" href="com.chainmail.common.html#partial_map"><span class="id" title="definition">partial_map</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#lt_map"><span class="id" title="inductive">lt_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">forall</span> <span class="id" title="var">n'</span>, <a class="idref" href="com.chainmail.loo_properties.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.chainmail.html#fresh_in_map"><span class="id" title="definition">fresh_in_map</span></a> (<a class="idref" href="com.chainmail.common.html#bnd"><span class="id" title="constructor">bnd</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n'"><span class="id" title="variable">n'</span></a>) <a class="idref" href="com.chainmail.loo_properties.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">Hlt</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hlt</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.chainmail.html#fresh_in_map"><span class="id" title="definition">fresh_in_map</span></a> <span class="id" title="tactic">in</span> *;    <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Ha</span> : ?<span class="id" title="var">n2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Peano.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> ?<span class="id" title="var">n3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hb</span> : ?<span class="id" title="var">n3</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> ?<span class="id" title="var">n1</span> |-<span class="id" title="keyword">context</span>[?<span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> ?<span class="id" title="var">n2</span>]] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hneq</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hneq</span> : <span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">n2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">crush</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb_neq"><span class="id" title="lemma">Nat.eqb_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hneq</span>; <span class="id" title="tactic">eauto</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Ha</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> ?<span class="id" title="var">n2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> ?<span class="id" title="var">n1</span> |-<span class="id" title="keyword">context</span>[?<span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> ?<span class="id" title="var">n2</span>]] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hneq</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hneq</span> : <span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">n2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">crush</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb_neq"><span class="id" title="lemma">Nat.eqb_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hneq</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_var_finite"><span class="id" title="lemma">fresh_var_finite</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">m</span> : <a class="idref" href="com.chainmail.common.html#partial_map"><span class="id" title="definition">partial_map</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.common.html#finite"><span class="id" title="inductive">finite</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.chainmail.html#fresh_in_map"><span class="id" title="definition">fresh_in_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.loo_properties.html#exists_limit_for_finite_map"><span class="id" title="lemma">exists_limit_for_finite_map</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="com.chainmail.common.html#bnd"><span class="id" title="constructor">bnd</span></a> <span class="id" title="var">n</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#lt_fresh_in_map"><span class="id" title="lemma">lt_fresh_in_map</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_var_finite2"><span class="id" title="lemma">fresh_var_finite2</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">m1</span> : <a class="idref" href="com.chainmail.common.html#partial_map"><span class="id" title="definition">partial_map</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.common.html#finite"><span class="id" title="inductive">finite</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">m2</span> : <a class="idref" href="com.chainmail.common.html#partial_map"><span class="id" title="definition">partial_map</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>), <a class="idref" href="com.chainmail.common.html#finite"><span class="id" title="inductive">finite</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.chainmail.html#fresh_in_map"><span class="id" title="definition">fresh_in_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_in_map"><span class="id" title="definition">fresh_in_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.loo_properties.html#exists_limit_for_finite_map"><span class="id" title="lemma">exists_limit_for_finite_map</span></a> <span class="id" title="var">m1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">n1</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.loo_properties.html#exists_limit_for_finite_map"><span class="id" title="lemma">exists_limit_for_finite_map</span></a> <span class="id" title="var">m2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">n2</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Arith.Compare_dec.html#le_lt_dec"><span class="id" title="definition">le_lt_dec</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hle</span>|<span class="id" title="var">Hlt</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">exists</span> (<a class="idref" href="com.chainmail.common.html#bnd"><span class="id" title="constructor">bnd</span></a> <span class="id" title="var">n2</span>)|<span class="id" title="tactic">exists</span> (<a class="idref" href="com.chainmail.common.html#bnd"><span class="id" title="constructor">bnd</span></a> <span class="id" title="var">n1</span>)];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#lt_fresh_in_map"><span class="id" title="lemma">lt_fresh_in_map</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="lt_var"><span class="id" title="inductive">lt_var</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="lt_bind"><span class="id" title="constructor">lt_bind</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span>, <a class="idref" href="com.chainmail.loo_properties.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Peano.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#lt_var"><span class="id" title="inductive">lt_var</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="com.chainmail.common.html#bnd"><span class="id" title="constructor">bnd</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n'"><span class="id" title="variable">n'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="com.chainmail.loo_properties.html#lt_var"><span class="id" title="inductive">lt_var</span></a> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="exists_limit_var"><span class="id" title="lemma">exists_limit_var</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#lt_var"><span class="id" title="inductive">lt_var</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n'</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="exists_limit_for_list"><span class="id" title="lemma">exists_limit_for_list</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">l</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#lt_var"><span class="id" title="inductive">lt_var</span></a> <a class="idref" href="com.chainmail.loo_properties.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">x</span> <span class="id" title="var">l'</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">exists</span> 0; <span class="id" title="var">crush</span>|<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHl'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span> <span class="id" title="var">Hltx</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Arith.Compare_dec.html#le_lt_dec"><span class="id" title="definition">le_lt_dec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hle</span>|<span class="id" title="var">Hlt</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span>)|<span class="id" title="tactic">exists</span> <span class="id" title="var">n</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hltx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_var_finite3"><span class="id" title="lemma">fresh_var_finite3</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">m1</span> : <a class="idref" href="com.chainmail.common.html#partial_map"><span class="id" title="definition">partial_map</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.common.html#finite"><span class="id" title="inductive">finite</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">m2</span> : <a class="idref" href="com.chainmail.common.html#partial_map"><span class="id" title="definition">partial_map</span></a> <a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>), <a class="idref" href="com.chainmail.common.html#finite"><span class="id" title="inductive">finite</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">d</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.chainmail.html#fresh_in_map"><span class="id" title="definition">fresh_in_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_in_map"><span class="id" title="definition">fresh_in_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#d"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.loo_properties.html#exists_limit_for_finite_map"><span class="id" title="lemma">exists_limit_for_finite_map</span></a> <span class="id" title="var">m1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">n1</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.loo_properties.html#exists_limit_for_finite_map"><span class="id" title="lemma">exists_limit_for_finite_map</span></a> <span class="id" title="var">m2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">n2</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.loo_properties.html#exists_limit_for_list"><span class="id" title="lemma">exists_limit_for_list</span></a> <span class="id" title="var">d</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">n3</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Arith.Compare_dec.html#le_lt_dec"><span class="id" title="definition">le_lt_dec</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hle1</span>|<span class="id" title="var">Hlt1</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Arith.Compare_dec.html#le_lt_dec"><span class="id" title="definition">le_lt_dec</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n3</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hle2</span>|<span class="id" title="var">Hlt2</span>].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Arith.Compare_dec.html#le_lt_dec"><span class="id" title="definition">le_lt_dec</span></a> <span class="id" title="var">n3</span> <span class="id" title="var">n2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hle3</span>|<span class="id" title="var">Hlt3</span>];<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">exists</span> (<a class="idref" href="com.chainmail.common.html#bnd"><span class="id" title="constructor">bnd</span></a> <span class="id" title="var">n2</span>); <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#lt_fresh_in_map"><span class="id" title="lemma">lt_fresh_in_map</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">crush</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hcontra</span>; <span class="id" title="var">crush</span>];<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">exists</span> (<a class="idref" href="com.chainmail.common.html#bnd"><span class="id" title="constructor">bnd</span></a> <span class="id" title="var">n3</span>); <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#lt_fresh_in_map"><span class="id" title="lemma">lt_fresh_in_map</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">crush</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hcontra</span>; <span class="id" title="var">crush</span>].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Arith.Compare_dec.html#le_lt_dec"><span class="id" title="definition">le_lt_dec</span></a> <span class="id" title="var">n3</span> <span class="id" title="var">n2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hle3</span>|<span class="id" title="var">Hlt3</span>];<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">exists</span> (<a class="idref" href="com.chainmail.common.html#bnd"><span class="id" title="constructor">bnd</span></a> <span class="id" title="var">n2</span>); <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#lt_fresh_in_map"><span class="id" title="lemma">lt_fresh_in_map</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">crush</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hcontra</span>; <span class="id" title="var">crush</span>];<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">exists</span> (<a class="idref" href="com.chainmail.common.html#bnd"><span class="id" title="constructor">bnd</span></a> <span class="id" title="var">n3</span>); <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#lt_fresh_in_map"><span class="id" title="lemma">lt_fresh_in_map</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">crush</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hcontra</span>; <span class="id" title="var">crush</span>].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Arith.Compare_dec.html#le_lt_dec"><span class="id" title="definition">le_lt_dec</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n3</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hle2</span>|<span class="id" title="var">Hlt2</span>];<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">exists</span> (<a class="idref" href="com.chainmail.common.html#bnd"><span class="id" title="constructor">bnd</span></a> <span class="id" title="var">n1</span>); <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#lt_fresh_in_map"><span class="id" title="lemma">lt_fresh_in_map</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">crush</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hcontra</span>; <span class="id" title="var">crush</span>];<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">exists</span> (<a class="idref" href="com.chainmail.common.html#bnd"><span class="id" title="constructor">bnd</span></a> <span class="id" title="var">n3</span>); <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#lt_fresh_in_map"><span class="id" title="lemma">lt_fresh_in_map</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">crush</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hcontra</span>; <span class="id" title="var">crush</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*Lemma&nbsp;dom_implies_finite&nbsp;:<br/>
&nbsp;&nbsp;forall&nbsp;{A&nbsp;:&nbsp;Type}&nbsp;(m&nbsp;:&nbsp;partial_map&nbsp;var&nbsp;A)&nbsp;d,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;dom&nbsp;m&nbsp;d&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;finite&nbsp;m.<br/>
Proof.<br/>
&nbsp;&nbsp;intros&nbsp;A&nbsp;m&nbsp;d&nbsp;Hdom;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;induction&nbsp;Hdom;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;crush.<br/>
Qed.*)</span><br/>

<br/>
<span class="comment">(*Lemma&nbsp;fresh_var_map&nbsp;:<br/>
&nbsp;&nbsp;forall&nbsp;{A&nbsp;:&nbsp;Type}&nbsp;(β1&nbsp;β2&nbsp;:&nbsp;partial_map&nbsp;var&nbsp;A),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;finite_normal_form&nbsp;β1&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;finite_normal_form&nbsp;β2&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;forall&nbsp;s,&nbsp;exists&nbsp;f,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disjoint_dom&nbsp;f&nbsp;β1&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disjoint_dom&nbsp;f&nbsp;β2&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(forall&nbsp;z&nbsp;z',&nbsp;f&nbsp;z&nbsp;=&nbsp;Some&nbsp;z'&nbsp;-&gt;&nbsp;~&nbsp;in_stmt&nbsp;z&nbsp;s)&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onto&nbsp;f&nbsp;β2.<br/>
Proof.<br/>
&nbsp;&nbsp;intros&nbsp;A&nbsp;β1&nbsp;β2&nbsp;Hfin;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;induction&nbsp;Hfin<br/>
Qed.*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="adaptation_exists"><span class="id" title="lemma">adaptation_exists</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> χ1 <span class="id" title="var">ϕ1</span> ψ1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;χ2 <span class="id" title="var">ϕ2</span> ψ2, <a class="idref" href="com.chainmail.loo_def.html#8163b748e921982fd6680eb842e155bc"><span class="id" title="definition">finite_ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1e79d975b7d83fc9869d290798e8fd72"><span class="id" title="variable">ϕ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#8163b748e921982fd6680eb842e155bc"><span class="id" title="definition">finite_ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#da206f73466165b8d6a644d215eea9c3"><span class="id" title="variable">ϕ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#e1c63a1473ff0d25690245c3e319d1d3"><span class="id" title="definition">not_stuck_ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#da206f73466165b8d6a644d215eea9c3"><span class="id" title="variable">ϕ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_properties.html#f469a1e2116e3bdb3f6df5486c95e4d9"><span class="id" title="variable">χ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1e79d975b7d83fc9869d290798e8fd72"><span class="id" title="variable">ϕ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a><a class="idref" href="com.chainmail.loo_properties.html#3da2a936e9f3ff1d5a3e8ac813abb3a3"><span class="id" title="variable">ψ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_properties.html#cb147fb4f3b723c5292165ca76b1b410"><span class="id" title="variable">χ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#da206f73466165b8d6a644d215eea9c3"><span class="id" title="variable">ϕ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a><a class="idref" href="com.chainmail.loo_properties.html#894c502dac06a9d0ada98779882be2c3"><span class="id" title="variable">ψ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> σ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.chainmail.html#c584860a7433cfe48230c0e815b372e2"><span class="id" title="notation">◁</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.chainmail.html#c584860a7433cfe48230c0e815b372e2"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <span class="id" title="var">ϕ1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">β1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <span class="id" title="var">ϕ2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">β2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;(<span class="id" title="tactic">destruct</span> (@<a class="idref" href="com.chainmail.function_operations.html#disjointedness_for_finite_variable_maps"><span class="id" title="axiom">disjointedness_for_finite_variable_maps</span></a> <a class="idref" href="com.chainmail.loo_def.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="com.chainmail.loo_def.html#value"><span class="id" title="inductive">value</span></a> <span class="id" title="var">β1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">g</span>:=<span class="id" title="var">β2</span>)(<span class="id" title="var">s</span>:=<span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">f</span> <span class="id" title="var">H</span>];<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">finite_auto</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map_db</span>];<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f'</span>];<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>χ2<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_def.html#frm"><span class="id" title="constructor">frm</span></a> (<span class="id" title="var">f</span> <a class="idref" href="com.chainmail.common.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <span class="id" title="var">β2</span> <a class="idref" href="com.chainmail.common.html#ee7d96fc379cbf67726a95b71cdead1d"><span class="id" title="notation">∪</span></a> <span class="id" title="var">β1</span>) (<a class="idref" href="com.chainmail.loo_def.html#c_stmt"><span class="id" title="constructor">c_stmt</span></a> (<a class="idref" href="com.chainmail.loo_def.html#ce68bfe7566bb8cf494c5f875f2ab9a8"><span class="id" title="notation">❲</span></a> <span class="id" title="var">f'</span> <a class="idref" href="com.chainmail.loo_def.html#ce68bfe7566bb8cf494c5f875f2ab9a8"><span class="id" title="notation">↦</span></a> <span class="id" title="var">s</span> <a class="idref" href="com.chainmail.loo_def.html#ce68bfe7566bb8cf494c5f875f2ab9a8"><span class="id" title="notation">❳</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a>ψ2<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.chainmail.html#a_adapt"><span class="id" title="constructor">a_adapt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(χ:=χ1)(ψ:=ψ1)(<span class="id" title="var">ϕ</span>:=<span class="id" title="var">ϕ1</span>)(<span class="id" title="var">ϕ'</span>:=<span class="id" title="var">ϕ2</span>)(<span class="id" title="var">c</span>:=<a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> <span class="id" title="var">ϕ1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">β</span>:=<span class="id" title="var">β1</span>)(<span class="id" title="var">β'</span>:=<span class="id" title="var">β2</span>)(<span class="id" title="var">f'</span>:=<span class="id" title="var">f'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span>:=<span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span>:=<span class="id" title="var">f</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map_db</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">ϕ1</span>; <span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">ϕ2</span>; <span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*Ltac&nbsp;peek_pop_simpl&nbsp;:=<br/>
&nbsp;&nbsp;match&nbsp;goal&nbsp;with<br/>
&nbsp;&nbsp;|&nbsp;<span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">peek</span></span> <span class="inlinecode">?ψ</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">Some</span></span> <span class="inlinecode">?<span class="id" title="var">ϕ</span></span> <span class="inlinecode">|-</span> <span class="inlinecode"><span class="id" title="var">_</span></span>&nbsp;=&gt;&nbsp;let&nbsp;ϕ'&nbsp;:=&nbsp;fresh&nbsp;"ϕ'"&nbsp;in<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;ψ'&nbsp;:=&nbsp;fresh&nbsp;"ψ'"&nbsp;in<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;ψ&nbsp;as&nbsp;<span class="inlinecode">|<span class="id" title="var">ϕ'</span></span> <span class="inlinecode">ψ'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simpl&nbsp;in&nbsp;H;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;H;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst<br/>
&nbsp;&nbsp;|&nbsp;<span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">pop</span></span> <span class="inlinecode">?ψ</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">Some</span></span> <span class="inlinecode">?ψ'</span> <span class="inlinecode">|-</span> <span class="inlinecode"><span class="id" title="var">_</span></span>&nbsp;=&gt;&nbsp;let&nbsp;ϕ'&nbsp;:=&nbsp;fresh&nbsp;"ϕ'"&nbsp;in<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;ψ''&nbsp;:=&nbsp;fresh&nbsp;"ψ''"&nbsp;in<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;ψ&nbsp;as&nbsp;<span class="inlinecode">|<span class="id" title="var">ϕ'</span></span> <span class="inlinecode">ψ'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simpl&nbsp;in&nbsp;H;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;H;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst<br/>
&nbsp;&nbsp;end.*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="dom_finite"><span class="id" title="lemma">dom_finite</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} `{<a class="idref" href="com.chainmail.common.html#Eq"><span class="id" title="class">Eq</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>} <span class="id" title="var">D</span> (<span class="id" title="var">ps</span> : <a class="idref" href="com.chainmail.common.html#partial_map"><span class="id" title="definition">partial_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="com.chainmail.loo_properties.html#B"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ps"><span class="id" title="variable">ps</span></a> <a class="idref" href="com.chainmail.loo_properties.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.common.html#finite"><span class="id" title="inductive">finite</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ps"><span class="id" title="variable">ps</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">HeqA</span> <span class="id" title="var">D</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">D</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">D'</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ps</span> <span class="id" title="var">Hdom</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#dom"><span class="id" title="definition">dom</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ps</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.common.html#empty"><span class="id" title="definition">empty</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map_db</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" title="lemma">functional_extensionality</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.function_operations.html#not_some_implies_none"><span class="id" title="lemma">not_some_implies_none</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">Hmap</span> : ?<span class="id" title="var">m</span> ?<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a'</span> <span class="id" title="var">b'</span>, ?<span class="id" title="var">m</span> <a class="idref" href="com.chainmail.loo_properties.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#b'"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>  |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmap</span>; <span class="id" title="var">crush</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#dom"><span class="id" title="definition">dom</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdom</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Ha0</span> <span class="id" title="var">a</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a> <span class="id" title="var">a</span> <span class="id" title="var">D'</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">b</span> <span class="id" title="var">Hmap</span>].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hps</span> : <span class="id" title="var">ps</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> (<a class="idref" href="com.chainmail.common.html#t_update"><span class="id" title="definition">t_update</span></a> <span class="id" title="var">ps</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" title="lemma">functional_extensionality</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>|<span class="id" title="tactic">subst</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hneq</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eq_auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.common.html#fin_update"><span class="id" title="constructor">fin_update</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHD'</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#dom"><span class="id" title="definition">dom</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">Huniq</span> : <a class="idref" href="com.chainmail.loo_def.html#unique"><span class="id" title="inductive">unique</span></a> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a>?<span class="id" title="var">D</span>) |- <a class="idref" href="com.chainmail.loo_def.html#unique"><span class="id" title="inductive">unique</span></a> ?<span class="id" title="var">D</span>] =&gt; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Huniq</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map_db</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">a0</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hneq</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eq_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">crush</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a'</span> <span class="id" title="var">b'</span>, ?<span class="id" title="var">m</span> <a class="idref" href="com.chainmail.loo_properties.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#b'"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a'"><span class="id" title="variable">a'</span></a> (?<span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a>?<span class="id" title="var">D</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hmap</span> : ?<span class="id" title="var">m</span> ?<span class="id" title="var">a0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hneq</span> : ?<span class="id" title="var">a0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> ?<span class="id" title="var">a</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmap</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hmap</span>; <span class="id" title="var">crush</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">Hin</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> ?<span class="id" title="var">a0</span> ?<span class="id" title="var">D</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a'</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a'"><span class="id" title="variable">a'</span></a> (?<span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a>?<span class="id" title="var">D</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">m</span> <a class="idref" href="com.chainmail.loo_properties.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#b'"><span class="id" title="variable">b'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Huniq</span> : <a class="idref" href="com.chainmail.loo_def.html#unique"><span class="id" title="inductive">unique</span></a> (?<span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a>?<span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">b</span> := <span class="id" title="tactic">fresh</span> "b" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H</span> <span class="id" title="var">a0</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a0</span> <span class="id" title="var">D</span> <span class="id" title="var">Hin</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">b</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eq_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">inversion</span> <span class="id" title="var">Huniq</span>; <span class="id" title="var">crush</span>|<span class="id" title="var">crush</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">dom_finite</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reduction_preserves_config_finiteness"><span class="id" title="lemma">reduction_preserves_config_finiteness</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">finite_</span></a><a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">finite_</span></a><a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">finite_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha</span>|<span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha</span>|<span class="id" title="var">Ha</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.common.html#fin_update"><span class="id" title="constructor">fin_update</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.function_operations.html#finite_map_composition"><span class="id" title="lemma">finite_map_composition</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">crush</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#f5aff4b8b39be7853024759c46b23ee5"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#f5aff4b8b39be7853024759c46b23ee5"><span class="id" title="definition">ψ</span></a><a class="idref" href="com.chainmail.loo_def.html#f5aff4b8b39be7853024759c46b23ee5"><span class="id" title="definition">_map</span></a>, <a class="idref" href="com.chainmail.loo_def.html#3e651ce924de45057a24c678b067cec1"><span class="id" title="definition">update_ϕ_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.common.html#fin_update"><span class="id" title="constructor">fin_update</span></a>|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H8</span>; <span class="id" title="var">crush</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; [<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>|]; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="var">crush</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#f28fcdb18480d82f0ec7c4dd8cf17417"><span class="id" title="definition">update_ϕ_contn</span></a>, <a class="idref" href="com.chainmail.loo_def.html#3e651ce924de45057a24c678b067cec1"><span class="id" title="definition">update_ϕ_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="var">crush</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#f28fcdb18480d82f0ec7c4dd8cf17417"><span class="id" title="definition">update_ϕ_contn</span></a>, <a class="idref" href="com.chainmail.loo_def.html#3e651ce924de45057a24c678b067cec1"><span class="id" title="definition">update_ϕ_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">reduction_preserves_config_finiteness</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reductions_preserves_config_finiteness"><span class="id" title="lemma">reductions_preserves_config_finiteness</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⤳…</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">finite_</span></a><a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">finite_</span></a><a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">reductions_preserves_config_finiteness</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reduction_preserves_config_finiteness"><span class="id" title="lemma">pair_reduction_preserves_config_finiteness</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">finite_</span></a><a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">finite_</span></a><a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pair_reduction_preserves_config_finiteness</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reductions_preserves_config_finiteness"><span class="id" title="lemma">pair_reductions_preserves_config_finiteness</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">finite_</span></a><a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">finite_</span></a><a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pair_reductions_preserves_config_finiteness</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reduction_preserves_config_not_stuck"><span class="id" title="lemma">reduction_preserves_config_not_stuck</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">not_stuck_</span></a><a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">not_stuck_</span></a><a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">not_stuck_</span></a><a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">σ</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">eexists</span>; <span class="id" title="var">crush</span>; <span class="id" title="tactic">eauto</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">ϕ''</span>, (<span class="id" title="var">ϕ'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a>ψ); <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#e1c63a1473ff0d25690245c3e319d1d3"><span class="id" title="definition">not_stuck_ϕ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">ϕ'</span>, ψ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#e1c63a1473ff0d25690245c3e319d1d3"><span class="id" title="definition">not_stuck_ϕ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> σ'; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ϕ'</span>, ψ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">ϕ'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#e1c63a1473ff0d25690245c3e319d1d3"><span class="id" title="definition">not_stuck_ϕ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">ϕ'</span>, ψ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#e1c63a1473ff0d25690245c3e319d1d3"><span class="id" title="definition">not_stuck_ϕ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">ϕ''</span>, ψ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">ϕ''</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#e1c63a1473ff0d25690245c3e319d1d3"><span class="id" title="definition">not_stuck_ϕ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">ϕ''</span>, ψ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">ϕ''</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#e1c63a1473ff0d25690245c3e319d1d3"><span class="id" title="definition">not_stuck_ϕ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">reduction_preserves_config_not_stuck</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reductions_preserves_config_not_stuck"><span class="id" title="lemma">reductions_preserves_config_not_stuck</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⤳…</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">not_stuck_</span></a><a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">not_stuck_</span></a><a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">reductions_preserves_config_not_stuck</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reduction_preserves_config_not_stuck"><span class="id" title="lemma">pair_reduction_preserves_config_not_stuck</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">not_stuck_</span></a><a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">not_stuck_</span></a><a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pair_reduction_preserves_config_not_stuck</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reductions_preserves_config_not_stuck"><span class="id" title="lemma">pair_reductions_preserves_config_not_stuck</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">not_stuck_</span></a><a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">not_stuck_</span></a><a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pair_reductions_preserves_config_not_stuck</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reduction_preserves_config_waiting"><span class="id" title="lemma">reduction_preserves_config_waiting</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">waiting_</span></a><a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">waiting_</span></a><a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">waiting_</span></a><a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">σ</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">eexists</span>; <span class="id" title="var">crush</span>; <span class="id" title="tactic">eauto</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">ϕ''</span>, (<span class="id" title="var">ϕ'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a>ψ); <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#348d3669779018d9f34a2e1ffc83bfe1"><span class="id" title="definition">waiting_</span></a><a class="idref" href="com.chainmail.loo_def.html#348d3669779018d9f34a2e1ffc83bfe1"><span class="id" title="definition">ψ</span></a>, <a class="idref" href="com.chainmail.loo_def.html#f289271001a91604d20728e2bc9bbf81"><span class="id" title="definition">waiting_ϕ</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> ?<span class="id" title="var">ϕ0</span> <span class="id" title="var">_</span> |- <a class="idref" href="com.chainmail.loo_def.html#waiting"><span class="id" title="inductive">waiting</span></a> (<a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> ?<span class="id" title="var">ϕ0</span>)] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">crush</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">ϕ''</span>, ψ; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#348d3669779018d9f34a2e1ffc83bfe1"><span class="id" title="definition">waiting_</span></a><a class="idref" href="com.chainmail.loo_def.html#348d3669779018d9f34a2e1ffc83bfe1"><span class="id" title="definition">ψ</span></a>, <a class="idref" href="com.chainmail.loo_def.html#f289271001a91604d20728e2bc9bbf81"><span class="id" title="definition">waiting_ϕ</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">ϕ''</span>, ψ; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#348d3669779018d9f34a2e1ffc83bfe1"><span class="id" title="definition">waiting_</span></a><a class="idref" href="com.chainmail.loo_def.html#348d3669779018d9f34a2e1ffc83bfe1"><span class="id" title="definition">ψ</span></a>, <a class="idref" href="com.chainmail.loo_def.html#f289271001a91604d20728e2bc9bbf81"><span class="id" title="definition">waiting_ϕ</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>

<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">reduction_preserves_config_waiting</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reductions_preserves_config_waiting"><span class="id" title="lemma">reductions_preserves_config_waiting</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⤳…</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">waiting_</span></a><a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">waiting_</span></a><a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">reductions_preserves_config_waiting</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reduction_preserves_config_waiting"><span class="id" title="lemma">pair_reduction_preserves_config_waiting</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">waiting_</span></a><a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">waiting_</span></a><a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pair_reduction_preserves_config_waiting</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reductions_preserves_config_waiting"><span class="id" title="lemma">pair_reductions_preserves_config_waiting</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">waiting_</span></a><a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">waiting_</span></a><a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pair_reductions_preserves_config_waiting</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="48f7e78d6de5d9b105481183ca705f60"><span class="id" title="lemma">has_self_update_ϕ</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> χ <span class="id" title="var">ϕ</span>, <a class="idref" href="com.chainmail.loo_def.html#1212498f196fc5c6a3d82bffe1bcce56"><span class="id" title="inductive">has_self_ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span>, <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#this"><span class="id" title="definition">this</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#1212498f196fc5c6a3d82bffe1bcce56"><span class="id" title="inductive">has_self_ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> (<a class="idref" href="com.chainmail.loo_def.html#3e651ce924de45057a24c678b067cec1"><span class="id" title="definition">update_ϕ_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> χ <span class="id" title="var">ϕ</span> <span class="id" title="var">Hself</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hself</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">α</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">o</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_frm"><span class="id" title="constructor">self_frm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">α</span>, <span class="id" title="var">o</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a>, <a class="idref" href="com.chainmail.common.html#t_update"><span class="id" title="definition">t_update</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#neq_eqb"><span class="id" title="method">neq_eqb</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="15344fad5e210ae5783a289dac5316e0"><span class="id" title="lemma">has_self_update_</span></a><a name="15344fad5e210ae5783a289dac5316e0"><span class="id" title="lemma">σ</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ, <a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">has_self_</span></a><a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span>, <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="com.chainmail.loo_def.html#this"><span class="id" title="definition">this</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">has_self_</span></a><a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">σ</span></a> (<a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ <span class="id" title="var">Hself</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hself</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_config"><span class="id" title="constructor">self_config</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#f5aff4b8b39be7853024759c46b23ee5"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#f5aff4b8b39be7853024759c46b23ee5"><span class="id" title="definition">ψ</span></a><a class="idref" href="com.chainmail.loo_def.html#f5aff4b8b39be7853024759c46b23ee5"><span class="id" title="definition">_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ψ <span class="id" title="keyword">as</span> [|<span class="id" title="var">ϕ'</span> ψ'];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">crush</span>|<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_properties.html#48f7e78d6de5d9b105481183ca705f60"><span class="id" title="lemma">has_self_update_ϕ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ba752a97528c539d9e81abd9a2e26aaf"><span class="id" title="lemma">has_self_update_ϕ_contn</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> χ <span class="id" title="var">ϕ</span>, <a class="idref" href="com.chainmail.loo_def.html#1212498f196fc5c6a3d82bffe1bcce56"><span class="id" title="inductive">has_self_ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">c</span>, <a class="idref" href="com.chainmail.loo_def.html#1212498f196fc5c6a3d82bffe1bcce56"><span class="id" title="inductive">has_self_ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> (<a class="idref" href="com.chainmail.loo_def.html#f28fcdb18480d82f0ec7c4dd8cf17417"><span class="id" title="definition">update_ϕ_contn</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#c"><span class="id" title="variable">c</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">α</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">o</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_frm"><span class="id" title="constructor">self_frm</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">α</span>, <span class="id" title="var">o</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="0ef5e26beba93c5ebb5126425da7722b"><span class="id" title="lemma">has_self_update_</span></a><a name="0ef5e26beba93c5ebb5126425da7722b"><span class="id" title="lemma">σ</span></a><a name="0ef5e26beba93c5ebb5126425da7722b"><span class="id" title="lemma">_contn</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ, <a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">has_self_</span></a><a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">c</span>, <a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">has_self_</span></a><a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">σ</span></a> (<a class="idref" href="com.chainmail.loo_def.html#d1c13933d8ee3c1c5e5bcb2e0f7ddb96"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#d1c13933d8ee3c1c5e5bcb2e0f7ddb96"><span class="id" title="definition">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#d1c13933d8ee3c1c5e5bcb2e0f7ddb96"><span class="id" title="definition">_contn</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#c"><span class="id" title="variable">c</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ <span class="id" title="var">Hself</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hself</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_config"><span class="id" title="constructor">self_config</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#a1857c3f58a86760d6b87127cbc915aa"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#a1857c3f58a86760d6b87127cbc915aa"><span class="id" title="definition">ψ</span></a><a class="idref" href="com.chainmail.loo_def.html#a1857c3f58a86760d6b87127cbc915aa"><span class="id" title="definition">_contn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ψ <span class="id" title="keyword">as</span> [|<span class="id" title="var">ϕ'</span> ψ'];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">crush</span>|<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_properties.html#ba752a97528c539d9e81abd9a2e26aaf"><span class="id" title="lemma">has_self_update_ϕ_contn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reduction_preserves_config_has_self"><span class="id" title="lemma">reduction_preserves_config_has_self</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">has_self_</span></a><a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">has_self_</span></a><a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hself</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hself</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;meth&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H10</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_config"><span class="id" title="constructor">self_config</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ϕ'</span> <span class="id" title="var">Hin</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hin</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">subst</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_frm"><span class="id" title="constructor">self_frm</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">α</span>, <span class="id" title="var">o</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hinϕ</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">ϕ</span> (<span class="id" title="var">ϕ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a>ψ));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a>|<span class="id" title="tactic">apply</span> <span class="id" title="var">H9</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinϕ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_frm"><span class="id" title="constructor">self_frm</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hinϕ</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H9</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;var&nbsp;asgn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_properties.html#0ef5e26beba93c5ebb5126425da7722b"><span class="id" title="lemma">has_self_update_</span></a><a class="idref" href="com.chainmail.loo_properties.html#0ef5e26beba93c5ebb5126425da7722b"><span class="id" title="lemma">σ</span></a><a class="idref" href="com.chainmail.loo_properties.html#0ef5e26beba93c5ebb5126425da7722b"><span class="id" title="lemma">_contn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">c</span>:=<a class="idref" href="com.chainmail.loo_def.html#c_stmt"><span class="id" title="constructor">c_stmt</span></a> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Hself</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_properties.html#15344fad5e210ae5783a289dac5316e0"><span class="id" title="lemma">has_self_update_</span></a><a class="idref" href="com.chainmail.loo_properties.html#15344fad5e210ae5783a289dac5316e0"><span class="id" title="lemma">σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">x</span>:=<span class="id" title="var">x</span>)(<span class="id" title="var">v</span>:=<span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Hself</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;field&nbsp;asgn*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H12</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_config"><span class="id" title="constructor">self_config</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> {| <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">cname</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">:=</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">cname</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">o</span></a><a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">;</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">flds</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">:=</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">update</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">f</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">v</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">(</span></a><a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">flds</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">o</span></a><a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">);</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">meths</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">:=</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">meths</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">o</span></a> |} <span class="id" title="keyword">as</span> <span class="id" title="var">o'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hin</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">ϕ</span> (<span class="id" title="var">ϕ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a>ψ));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a>|<span class="id" title="tactic">apply</span> <span class="id" title="var">H11</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">α0</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">o0</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_frm"><span class="id" title="constructor">self_frm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">α0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">α0</span> <span class="id" title="var">α</span>) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hneq</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">subst</span> <span class="id" title="var">α0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">o'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">o0</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a>, <a class="idref" href="com.chainmail.common.html#t_update"><span class="id" title="definition">t_update</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#eqb_refl"><span class="id" title="method">eqb_refl</span></a>; <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#neq_eqb"><span class="id" title="method">neq_eqb</span></a>; <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hin</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">ϕ0</span> (<span class="id" title="var">ϕ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a>ψ));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a>; <span class="id" title="tactic">auto</span>|<span class="id" title="tactic">apply</span> <span class="id" title="var">H11</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H8</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">α0</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">o0</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_frm"><span class="id" title="constructor">self_frm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">α0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">α0</span> <span class="id" title="var">α</span>) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hneq</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">subst</span> <span class="id" title="var">α0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">o'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">o0</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a>, <a class="idref" href="com.chainmail.common.html#t_update"><span class="id" title="definition">t_update</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#eqb_refl"><span class="id" title="method">eqb_refl</span></a>; <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#neq_eqb"><span class="id" title="method">neq_eqb</span></a>; <span class="id" title="tactic">auto</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;new&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H10</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_config"><span class="id" title="constructor">self_config</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> {| <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">cname</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">:=</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">C</span></a><a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">;</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">flds</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">:=</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">fMap</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">∘</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">(</span></a><a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">vMap</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">ϕ</span></a><a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">);</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">meths</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">:=</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">c_meths</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">CDef</span></a> |} <span class="id" title="keyword">as</span> <span class="id" title="var">o'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_frm"><span class="id" title="constructor">self_frm</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hin</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">ϕ</span> (<span class="id" title="var">ϕ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a>ψ));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">apply</span> <span class="id" title="var">H9</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [χ <span class="id" title="var">ϕ</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">α0</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">o0</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">α0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">α0</span> <span class="id" title="var">α</span>) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hneq</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">subst</span> <span class="id" title="var">α0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">o'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">o0</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a>, <a class="idref" href="com.chainmail.common.html#t_update"><span class="id" title="definition">t_update</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#neq_eqb"><span class="id" title="method">neq_eqb</span></a>; <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#neq_eqb"><span class="id" title="method">neq_eqb</span></a>; <span class="id" title="tactic">auto</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#eqb_refl"><span class="id" title="method">eqb_refl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#neq_eqb"><span class="id" title="method">neq_eqb</span></a>; <span class="id" title="tactic">auto</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_frm"><span class="id" title="constructor">self_frm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a>, <a class="idref" href="com.chainmail.common.html#t_update"><span class="id" title="definition">t_update</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hin</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">ϕ0</span> (<span class="id" title="var">ϕ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a>ψ));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a>; <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">apply</span> <span class="id" title="var">H9</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [χ <span class="id" title="var">ϕ'</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">α0</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">o0</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">α0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">α0</span> <span class="id" title="var">α</span>) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hneq</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">subst</span> <span class="id" title="var">α0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">o'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">exists</span> <span class="id" title="var">o0</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#eqb_refl"><span class="id" title="method">eqb_refl</span></a>; <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#neq_eqb"><span class="id" title="method">neq_eqb</span></a>; <span class="id" title="tactic">auto</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ret&nbsp;1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_config"><span class="id" title="constructor">self_config</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_properties.html#ba752a97528c539d9e81abd9a2e26aaf"><span class="id" title="lemma">has_self_update_ϕ_contn</span></a>, <a class="idref" href="com.chainmail.loo_properties.html#48f7e78d6de5d9b105481183ca705f60"><span class="id" title="lemma">has_self_update_ϕ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ret&nbsp;2*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_config"><span class="id" title="constructor">self_config</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_properties.html#ba752a97528c539d9e81abd9a2e26aaf"><span class="id" title="lemma">has_self_update_ϕ_contn</span></a>, <a class="idref" href="com.chainmail.loo_properties.html#48f7e78d6de5d9b105481183ca705f60"><span class="id" title="lemma">has_self_update_ϕ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">reduction_preserves_config_has_self</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reductions_preserves_config_has_self"><span class="id" title="lemma">reductions_preserves_config_has_self</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⤳…</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">has_self_</span></a><a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">has_self_</span></a><a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">reduction_preserves_config_has_self</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reduction_preserves_config_has_self"><span class="id" title="lemma">pair_reduction_preserves_config_has_self</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">has_self_</span></a><a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">has_self_</span></a><a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#reduction_preserves_config_has_self"><span class="id" title="lemma">reduction_preserves_config_has_self</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#reductions_preserves_config_has_self"><span class="id" title="lemma">reductions_preserves_config_has_self</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pair_reduction_preserves_config_has_self</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reductions_preserves_config_has_self"><span class="id" title="lemma">pair_reductions_preserves_config_has_self</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">has_self_</span></a><a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">has_self_</span></a><a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pair_reductions_preserves_config_has_self</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reduction_preserves_config_wf"><span class="id" title="lemma">reduction_preserves_config_wf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ1 σ2 <span class="id" title="var">Hred</span> <span class="id" title="var">Hwf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#config_wf"><span class="id" title="constructor">config_wf</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">reduction_preserves_config_wf</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reductions_preserves_config_wf"><span class="id" title="lemma">reductions_preserves_config_wf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⤳…</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">reductions_preserves_config_wf</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reduction_preserves_config_wf"><span class="id" title="lemma">pair_reduction_preserves_config_wf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span> <span class="id" title="var">Hwf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pair_reduction_preserves_config_wf</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reductions_preserves_config_wf"><span class="id" title="lemma">pair_reductions_preserves_config_wf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span> <span class="id" title="var">Hwf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pair_reductions_preserves_config_wf</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="config_head_wf"><span class="id" title="lemma">config_head_wf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ, <a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> χ <span class="id" title="var">ϕ</span> ψ, <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a><a class="idref" href="com.chainmail.loo_properties.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#config_wf"><span class="id" title="constructor">config_wf</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">finite_auto</span>; <span class="id" title="var">not_stuck_auto</span>; <span class="id" title="var">waiting_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">crush</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_config"><span class="id" title="constructor">self_config</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ϕ'</span> <span class="id" title="var">Hin</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hin</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ϕ</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ϕ</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">config_head_wf</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="config_wf_decompose"><span class="id" title="lemma">config_wf_decompose</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ, <a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> χ <span class="id" title="var">ϕ</span> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a><a class="idref" href="com.chainmail.loo_properties.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ <span class="id" title="var">Hwf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">not_stuck_auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ϕ</span> <span class="id" title="var">Hns</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hns</span> <span class="id" title="keyword">as</span> [ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> σ), <span class="id" title="var">ϕ</span>, ψ; <span class="id" title="tactic">destruct</span> σ; <span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="initial_wf"><span class="id" title="lemma">initial_wf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ, <a class="idref" href="com.chainmail.chainmail.html#initial"><span class="id" title="definition">initial</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ <span class="id" title="var">Hinit</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ϕ</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#config_wf"><span class="id" title="constructor">config_wf</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_config"><span class="id" title="constructor">self_config</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">subst</span>|<span class="id" title="var">crush</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_frm"><span class="id" title="constructor">self_frm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>, <a class="idref" href="com.chainmail.loo_def.html#ObjectInstance"><span class="id" title="definition">ObjectInstance</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a>, <a class="idref" href="com.chainmail.common.html#t_update"><span class="id" title="definition">t_update</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#eqb_refl"><span class="id" title="method">eqb_refl</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">waiting_auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ϕ</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">initial_wf</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="arising_wf"><span class="id" title="lemma">arising_wf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ, <a class="idref" href="com.chainmail.chainmail.html#arising"><span class="id" title="inductive">arising</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ <span class="id" title="var">Harise</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Harise</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#pair_reductions_preserves_config_wf"><span class="id" title="lemma">pair_reductions_preserves_config_wf</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">arising_wf</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="limited_config_wf"><span class="id" title="lemma">limited_config_wf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> χ <span class="id" title="var">ϕ</span> ψ, <a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a><a class="idref" href="com.chainmail.loo_properties.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#config_wf"><span class="id" title="constructor">config_wf</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_config"><span class="id" title="constructor">self_config</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" title="var">crush</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H6</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">finite_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" title="var">crush</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">not_stuck_auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ϕ'</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [ψ'];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ha</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ϕ'</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">waiting_auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ϕ'</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [ψ'];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ha</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>

<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">limited_config_wf</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="51744df19312b40b3b941ee3ddb884de"><span class="id" title="lemma">waiting_update_</span></a><a name="51744df19312b40b3b941ee3ddb884de"><span class="id" title="lemma">σ</span></a><a name="51744df19312b40b3b941ee3ddb884de"><span class="id" title="lemma">_map</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ, <a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">waiting_</span></a><a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span>, <a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">waiting_</span></a><a class="idref" href="com.chainmail.loo_def.html#c9210538bfe99c9b406717383aeaaf92"><span class="id" title="definition">σ</span></a> (<a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">waiting_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ϕ</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="com.chainmail.loo_def.html#3e651ce924de45057a24c678b067cec1"><span class="id" title="definition">update_ϕ_map</span></a> <span class="id" title="var">ϕ</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span>), ψ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#f5aff4b8b39be7853024759c46b23ee5"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#f5aff4b8b39be7853024759c46b23ee5"><span class="id" title="definition">ψ</span></a><a class="idref" href="com.chainmail.loo_def.html#f5aff4b8b39be7853024759c46b23ee5"><span class="id" title="definition">_map</span></a>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">waiting_update_</span>σ<span class="id" title="var">_map</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="c2a190a814c0c5ede1c6def030917b8c"><span class="id" title="lemma">not_stuck_update_</span></a><a name="c2a190a814c0c5ede1c6def030917b8c"><span class="id" title="lemma">σ</span></a><a name="c2a190a814c0c5ede1c6def030917b8c"><span class="id" title="lemma">_map</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ, <a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">not_stuck_</span></a><a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span>, <a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">not_stuck_</span></a><a class="idref" href="com.chainmail.loo_def.html#8d83d33ce13bb36909836d90a1b92acb"><span class="id" title="definition">σ</span></a> (<a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">not_stuck_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ϕ</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="com.chainmail.loo_def.html#3e651ce924de45057a24c678b067cec1"><span class="id" title="definition">update_ϕ_map</span></a> <span class="id" title="var">ϕ</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span>), ψ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#f5aff4b8b39be7853024759c46b23ee5"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#f5aff4b8b39be7853024759c46b23ee5"><span class="id" title="definition">ψ</span></a><a class="idref" href="com.chainmail.loo_def.html#f5aff4b8b39be7853024759c46b23ee5"><span class="id" title="definition">_map</span></a>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">not_stuck_update_</span>σ<span class="id" title="var">_map</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="b16dffa6acc7933d54acdecc20da1172"><span class="id" title="lemma">finite_update_ϕ_map</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">ϕ</span>, <a class="idref" href="com.chainmail.loo_def.html#8163b748e921982fd6680eb842e155bc"><span class="id" title="definition">finite_ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span>, <a class="idref" href="com.chainmail.loo_def.html#8163b748e921982fd6680eb842e155bc"><span class="id" title="definition">finite_ϕ</span></a> (<a class="idref" href="com.chainmail.loo_def.html#3e651ce924de45057a24c678b067cec1"><span class="id" title="definition">update_ϕ_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">finite_auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.common.html#fin_update"><span class="id" title="constructor">fin_update</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">finite_update_ϕ_map</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="af6d80d26f246f719e92ef96dc0e81d8"><span class="id" title="lemma">finite_update_</span></a><a name="af6d80d26f246f719e92ef96dc0e81d8"><span class="id" title="lemma">σ</span></a><a name="af6d80d26f246f719e92ef96dc0e81d8"><span class="id" title="lemma">_map</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ, <a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">finite_</span></a><a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span>, <a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">finite_</span></a><a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">σ</span></a> (<a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">finite_</span></a><a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">σ</span></a>, <a class="idref" href="com.chainmail.loo_def.html#39017641f42b26cb4270528f404371a3"><span class="id" title="definition">finite_</span></a><a class="idref" href="com.chainmail.loo_def.html#39017641f42b26cb4270528f404371a3"><span class="id" title="definition">ψ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#f5aff4b8b39be7853024759c46b23ee5"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#f5aff4b8b39be7853024759c46b23ee5"><span class="id" title="definition">ψ</span></a><a class="idref" href="com.chainmail.loo_def.html#f5aff4b8b39be7853024759c46b23ee5"><span class="id" title="definition">_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ψ <span class="id" title="keyword">as</span> [|<span class="id" title="var">ϕ</span> ψ'];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">crush</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_properties.html#b16dffa6acc7933d54acdecc20da1172"><span class="id" title="lemma">finite_update_ϕ_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">finite_auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">finite_auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">finite_update_</span>σ<span class="id" title="var">_map</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="1b8387e66409484f89efa8fcc1ad0b9e"><span class="id" title="lemma">fresh_x_ϕ_implies_</span></a><a name="1b8387e66409484f89efa8fcc1ad0b9e"><span class="id" title="lemma">σ</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">ϕ</span> <span class="id" title="var">A</span>, <a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> χ ψ, <a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">fresh_x_</span></a><a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a><a class="idref" href="com.chainmail.loo_properties.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">ϕ</span> <span class="id" title="var">A</span> <span class="id" title="var">Hfresh</span> χ ψ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">fresh_x_</span></a><a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">σ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> χ, <span class="id" title="var">ϕ</span>, ψ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">fresh_x_ϕ_implies_</span>σ : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="5801a7fa1870d67405d7ee536bc471f7"><span class="id" title="lemma">fresh_x_</span></a><a name="5801a7fa1870d67405d7ee536bc471f7"><span class="id" title="lemma">σ</span></a><a name="5801a7fa1870d67405d7ee536bc471f7"><span class="id" title="lemma">_implies_ϕ</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> χ <span class="id" title="var">ϕ</span> ψ <span class="id" title="var">A</span>, <a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">fresh_x_</span></a><a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a><a class="idref" href="com.chainmail.loo_properties.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> χ <span class="id" title="var">ϕ</span> ψ <span class="id" title="var">A</span> <span class="id" title="var">Hfresh</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">fresh_x_</span></a><a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">σ</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">fresh_x_</span>σ<span class="id" title="var">_implies_ϕ</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="7e941e5b8558cc8747b3fd097e0a87dc"><span class="id" title="lemma">has_self_update_ϕ_map</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> χ <span class="id" title="var">ϕ</span>, <a class="idref" href="com.chainmail.loo_def.html#1212498f196fc5c6a3d82bffe1bcce56"><span class="id" title="inductive">has_self_ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">A</span>, <a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#1212498f196fc5c6a3d82bffe1bcce56"><span class="id" title="inductive">has_self_ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> (<a class="idref" href="com.chainmail.loo_def.html#3e651ce924de45057a24c678b067cec1"><span class="id" title="definition">update_ϕ_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_frm"><span class="id" title="constructor">self_frm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">α</span> <span class="id" title="var">Htmp</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htmp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">o</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">α</span>, <span class="id" title="var">o</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#3e651ce924de45057a24c678b067cec1"><span class="id" title="definition">update_ϕ_map</span></a>, <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a>, <a class="idref" href="com.chainmail.common.html#t_update"><span class="id" title="definition">t_update</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n'</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a>, <a class="idref" href="com.chainmail.loo_def.html#stackMap"><span class="id" title="instance">stackMap</span></a>, <a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.loo_def.html#this"><span class="id" title="definition">this</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">has_self_update_ϕ_map</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="7f6ef405621cbd483b6d48a219e0777a"><span class="id" title="lemma">has_self_update_ϕ_map_</span></a><a name="7f6ef405621cbd483b6d48a219e0777a"><span class="id" title="lemma">σ</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> χ <span class="id" title="var">ϕ</span>, <a class="idref" href="com.chainmail.loo_def.html#1212498f196fc5c6a3d82bffe1bcce56"><span class="id" title="inductive">has_self_ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> ψ <span class="id" title="var">A</span>, <a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">fresh_x_</span></a><a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a><a class="idref" href="com.chainmail.loo_properties.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#1212498f196fc5c6a3d82bffe1bcce56"><span class="id" title="inductive">has_self_ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> (<a class="idref" href="com.chainmail.loo_def.html#3e651ce924de45057a24c678b067cec1"><span class="id" title="definition">update_ϕ_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">fresh_x_</span></a><a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">σ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists</span>; <span class="id" title="var">andDestruct</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">has_self_update_ϕ_map_</span>σ : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="b7c4116dbf8612fd67a91bcd746340d2"><span class="id" title="lemma">has_self_update_</span></a><a name="b7c4116dbf8612fd67a91bcd746340d2"><span class="id" title="lemma">σ</span></a><a name="b7c4116dbf8612fd67a91bcd746340d2"><span class="id" title="lemma">_map</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ, <a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">has_self_</span></a><a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">A</span>, <a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">fresh_x_</span></a><a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">has_self_</span></a><a class="idref" href="com.chainmail.loo_def.html#0af6b8f5b841dac3e604978983541c84"><span class="id" title="inductive">σ</span></a> (<a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#self_config"><span class="id" title="constructor">self_config</span></a>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_properties.html#7e941e5b8558cc8747b3fd097e0a87dc"><span class="id" title="lemma">has_self_update_ϕ_map</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">has_self_update_</span>σ<span class="id" title="var">_map</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="6a84c164bd1c89a91dccbe72eedcc583"><span class="id" title="lemma">wf_update_</span></a><a name="6a84c164bd1c89a91dccbe72eedcc583"><span class="id" title="lemma">σ</span></a><a name="6a84c164bd1c89a91dccbe72eedcc583"><span class="id" title="lemma">_map</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ, <a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">α</span> <span class="id" title="var">A</span>, <a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">fresh_x_</span></a><a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> (<a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ <span class="id" title="var">Hwf</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_def.html#config_wf"><span class="id" title="constructor">config_wf</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="eval_unique"><span class="id" title="lemma">eval_unique</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ <span class="id" title="var">e</span> <span class="id" title="var">v1</span>, <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.loo_properties.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">v2</span>, <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> <a class="idref" href="com.chainmail.loo_properties.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v2"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#v2"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v1"><span class="id" title="variable">v1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ <span class="id" title="var">e</span> <span class="id" title="var">v1</span> <span class="id" title="var">Heval</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heval</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">eauto</span>| <span class="id" title="tactic">eauto</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHeval1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>].<br/>

<br/>
</div>

<div class="doc">
Case 1: eval v 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
</div>

<div class="doc">
Case 2: eval x 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">crush</span>.<br/>

<br/>
</div>

<div class="doc">
Case 3: e.f 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHeval</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">crush</span>.<br/>

<br/>
</div>

<div class="doc">
Case 4: e0.g(e) 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHeval1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H7</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H8</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H11</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHeval2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H13</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHeval3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H14</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
</div>

<div class="doc">
Case 5: e1 = e2 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHeval1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHeval2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">crush</span>.<br/>

<br/>
</div>

<div class="doc">
Case 6: e1 ≠ e2 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHeval1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHeval2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="com.chainmail.loo_properties.html#eval_unique"><span class="id" title="lemma">eval_unique</span></a> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">eval_rewrite</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H1</span> : ?<span class="id" title="var">M</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> ?σ <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> ?<span class="id" title="var">e</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> ?<span class="id" title="var">v1</span>, <span class="id" title="var">H2</span> : ?<span class="id" title="var">M</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">∙</span></a> ?σ <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">⊢</span></a> ?<span class="id" title="var">e</span> <a class="idref" href="com.chainmail.loo_def.html#1e59bed646235ea420827b6ea09ed821"><span class="id" title="notation">↪</span></a> ?<span class="id" title="var">v2</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="com.chainmail.loo_properties.html#eval_unique"><span class="id" title="lemma">eval_unique</span></a> <span class="id" title="var">M</span> σ <span class="id" title="var">e</span> <span class="id" title="var">v1</span> <span class="id" title="var">H1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="unique_interpretation_x"><span class="id" title="lemma">unique_interpretation_x</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> σ <span class="id" title="var">v1</span>, <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">v2</span>, <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v2"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#v2"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v1"><span class="id" title="variable">v1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> σ <span class="id" title="var">v1</span> <span class="id" title="var">Hint1</span> <span class="id" title="var">v2</span> <span class="id" title="var">Hint2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hint1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hint2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H5</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="173b70e82c896c38ed460710c59510b8"><span class="id" title="lemma">unique_interpretation_Σ</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">Σ</span> σ <span class="id" title="var">αs1</span>, <a class="idref" href="com.chainmail.loo_def.html#a9a81a42bc7bc63550d078ddc3e56a97"><span class="id" title="notation">⌊</span></a> <a class="idref" href="com.chainmail.loo_properties.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#a9a81a42bc7bc63550d078ddc3e56a97"><span class="id" title="notation">⌋</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#a9a81a42bc7bc63550d078ddc3e56a97"><span class="id" title="notation">≜′</span></a> <a class="idref" href="com.chainmail.loo_properties.html#17f5ccc71b21a6457f057f5311cb529c"><span class="id" title="variable">αs1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">αs2</span>, <a class="idref" href="com.chainmail.loo_def.html#a9a81a42bc7bc63550d078ddc3e56a97"><span class="id" title="notation">⌊</span></a> <a class="idref" href="com.chainmail.loo_properties.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#a9a81a42bc7bc63550d078ddc3e56a97"><span class="id" title="notation">⌋</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#a9a81a42bc7bc63550d078ddc3e56a97"><span class="id" title="notation">≜′</span></a> <a class="idref" href="com.chainmail.loo_properties.html#831d7f5d3e30d307438cacc946efda39"><span class="id" title="variable">αs2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#831d7f5d3e30d307438cacc946efda39"><span class="id" title="variable">αs2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_properties.html#17f5ccc71b21a6457f057f5311cb529c"><span class="id" title="variable">αs1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> σ <span class="id" title="var">α1</span> <span class="id" title="var">Hint1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hint1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">αs2</span> <span class="id" title="var">Hint2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hint2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="com.chainmail.loo_properties.html#unique_interpretation_x"><span class="id" title="lemma">unique_interpretation_x</span></a> <span class="id" title="var">x</span> σ <span class="id" title="var">α</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHHint1</span> <span class="id" title="var">αs0</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">interpretation_rewrite</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H1</span> : <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> ?<span class="id" title="var">x</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> ?σ <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> ?<span class="id" title="var">v1</span>, <span class="id" title="var">H2</span> : <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌊</span></a> ?<span class="id" title="var">x</span> <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">⌋</span></a> ?σ <a class="idref" href="com.chainmail.loo_def.html#35d06b2bc9ffc85f3109b6e1b2da05a5"><span class="id" title="notation">≜</span></a> ?<span class="id" title="var">v2</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="com.chainmail.loo_properties.html#unique_interpretation_x"><span class="id" title="lemma">unique_interpretation_x</span></a> <span class="id" title="var">x</span> σ <span class="id" title="var">v1</span> <span class="id" title="var">H1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H1</span> : <a class="idref" href="com.chainmail.loo_def.html#a9a81a42bc7bc63550d078ddc3e56a97"><span class="id" title="notation">⌊</span></a> ?<span class="id" title="var">Σ</span> <a class="idref" href="com.chainmail.loo_def.html#a9a81a42bc7bc63550d078ddc3e56a97"><span class="id" title="notation">⌋</span></a> ?σ <a class="idref" href="com.chainmail.loo_def.html#a9a81a42bc7bc63550d078ddc3e56a97"><span class="id" title="notation">≜′</span></a> ?<span class="id" title="var">αs1</span>, <span class="id" title="var">H2</span> : <a class="idref" href="com.chainmail.loo_def.html#a9a81a42bc7bc63550d078ddc3e56a97"><span class="id" title="notation">⌊</span></a> ?<span class="id" title="var">Σ</span> <a class="idref" href="com.chainmail.loo_def.html#a9a81a42bc7bc63550d078ddc3e56a97"><span class="id" title="notation">⌋</span></a> ?σ <a class="idref" href="com.chainmail.loo_def.html#a9a81a42bc7bc63550d078ddc3e56a97"><span class="id" title="notation">≜′</span></a> ?<span class="id" title="var">αs2</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="com.chainmail.loo_properties.html#173b70e82c896c38ed460710c59510b8"><span class="id" title="lemma">unique_interpretation_Σ</span></a> <span class="id" title="var">Σ</span> σ <span class="id" title="var">αs1</span> <span class="id" title="var">H1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;need&nbsp;to&nbsp;change&nbsp;definition&nbsp;of&nbsp;restriction&nbsp;*)</span><br/>
<span class="id" title="keyword">Parameter</span> <a name="unique_restriction"><span class="id" title="axiom">unique_restriction</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ <span class="id" title="var">Σ</span> σ1, <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#e94484876272d4d7c068e2b66889274e"><span class="id" title="notation">↓</span></a> <a class="idref" href="com.chainmail.loo_properties.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#e94484876272d4d7c068e2b66889274e"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ2, <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#e94484876272d4d7c068e2b66889274e"><span class="id" title="notation">↓</span></a> <a class="idref" href="com.chainmail.loo_properties.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#e94484876272d4d7c068e2b66889274e"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">restriction_rewrite</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H1</span> : ?σ <a class="idref" href="com.chainmail.loo_def.html#e94484876272d4d7c068e2b66889274e"><span class="id" title="notation">↓</span></a> ?<span class="id" title="var">Σ</span> <a class="idref" href="com.chainmail.loo_def.html#e94484876272d4d7c068e2b66889274e"><span class="id" title="notation">≜</span></a> ?σ1, <span class="id" title="var">H2</span> : ?σ <a class="idref" href="com.chainmail.loo_def.html#e94484876272d4d7c068e2b66889274e"><span class="id" title="notation">↓</span></a> ?<span class="id" title="var">Σ</span> <a class="idref" href="com.chainmail.loo_def.html#e94484876272d4d7c068e2b66889274e"><span class="id" title="notation">≜</span></a> ?σ2 |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="com.chainmail.loo_properties.html#unique_restriction"><span class="id" title="axiom">unique_restriction</span></a> σ <span class="id" title="var">Σ</span> σ1 <span class="id" title="var">H1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="202c98b02241ee1f109512473358c330"><span class="id" title="lemma">wf_</span></a><a name="202c98b02241ee1f109512473358c330"><span class="id" title="lemma">σ</span></a><a name="202c98b02241ee1f109512473358c330"><span class="id" title="lemma">_explode</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ, <a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> χ ψ <span class="id" title="var">ϕ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a><a class="idref" href="com.chainmail.loo_properties.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.common.html#finite"><span class="id" title="inductive">finite</span></a> (<a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">ϕ'</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="com.chainmail.loo_properties.html#70bf7c3821a6c56a710a5298bea8b893"><span class="id" title="variable">ϕ'</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.common.html#finite"><span class="id" title="inductive">finite</span></a> (<a class="idref" href="com.chainmail.loo_def.html#vMap"><span class="id" title="projection">vMap</span></a> <a class="idref" href="com.chainmail.loo_properties.html#70bf7c3821a6c56a710a5298bea8b893"><span class="id" title="variable">ϕ'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#not_stuck"><span class="id" title="inductive">not_stuck</span></a> (<a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">ϕ'</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="com.chainmail.loo_properties.html#70bf7c3821a6c56a710a5298bea8b893"><span class="id" title="variable">ϕ'</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#waiting"><span class="id" title="inductive">waiting</span></a> (<a class="idref" href="com.chainmail.loo_def.html#contn"><span class="id" title="projection">contn</span></a> <a class="idref" href="com.chainmail.loo_properties.html#70bf7c3821a6c56a710a5298bea8b893"><span class="id" title="variable">ϕ'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ <span class="id" title="var">Hwf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">finite_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">not_stuck_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">waiting_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">config_wf_destruct</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#6ddc61948713415d14dfc3fe3aa35d16"><span class="id" title="inductive">_wf</span></a> ?σ |-<span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_properties.html#202c98b02241ee1f109512473358c330"><span class="id" title="lemma">wf_</span></a><a class="idref" href="com.chainmail.loo_properties.html#202c98b02241ee1f109512473358c330"><span class="id" title="lemma">σ</span></a><a class="idref" href="com.chainmail.loo_properties.html#202c98b02241ee1f109512473358c330"><span class="id" title="lemma">_explode</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> χ := <span class="id" title="tactic">fresh</span> "χ" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> ψ := <span class="id" title="tactic">fresh</span> "ψ" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ϕ</span> := <span class="id" title="tactic">fresh</span> "ϕ" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hwf</span> := <span class="id" title="tactic">fresh</span> "Hwf" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [χ <span class="id" title="var">Hwf</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [ψ <span class="id" title="var">Hwf</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ϕ</span> <span class="id" title="var">Hwf</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Htmp</span> := <span class="id" title="tactic">fresh</span> "Htmp" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hfiniteϕ</span> := <span class="id" title="tactic">fresh</span> "Hfiniteϕ" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hfinite</span>ψ := <span class="id" title="tactic">fresh</span> "Hfiniteψ" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hnot_stuck</span> := <span class="id" title="tactic">fresh</span> "Hnot_stuck" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hwaiting</span> := <span class="id" title="tactic">fresh</span> "Hwaiting" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htmp</span> <span class="id" title="var">Hwf</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hfiniteϕ</span> <span class="id" title="var">Hwf</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hfinite</span>ψ <span class="id" title="var">Hwf</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnot_stuck</span> <span class="id" title="var">Hwaiting</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> σ<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
TODO: 
</div>
<div class="code">
<span class="id" title="keyword">Parameter</span> <a name="function_neq_exists_neq_mapping"><span class="id" title="axiom">function_neq_exists_neq_mapping</span></a>  :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f1</span> <span class="id" title="var">f2</span> : <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="com.chainmail.loo_properties.html#B"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#f1"><span class="id" title="variable">f1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="com.chainmail.loo_properties.html#f2"><span class="id" title="variable">f2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_properties.html#f1"><span class="id" title="variable">f1</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="com.chainmail.loo_properties.html#f2"><span class="id" title="variable">f2</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a"><span class="id" title="variable">a</span></a>.<br/>

<br/>
<span class="comment">(*Lemma&nbsp;compose_equality&nbsp;:<br/>
&nbsp;&nbsp;forall&nbsp;{A&nbsp;B&nbsp;C&nbsp;:&nbsp;Type}&nbsp;`{Eq&nbsp;A}&nbsp;`{Eq&nbsp;B}&nbsp;(m1&nbsp;m2&nbsp;:&nbsp;partial_map&nbsp;A&nbsp;B)&nbsp;(m&nbsp;:&nbsp;partial_map&nbsp;B&nbsp;C),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;compose&nbsp;m1&nbsp;m&nbsp;=&nbsp;compose&nbsp;m2&nbsp;m&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;one_to_one&nbsp;m&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;m1&nbsp;=&nbsp;m2.<br/>
Proof.<br/>
&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;destruct&nbsp;(excluded_middle&nbsp;(m1&nbsp;=&nbsp;m2));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;destruct&nbsp;(function_neq_exists_neq_mapping&nbsp;m1&nbsp;m2)&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">Ha</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;apply&nbsp;equal_f&nbsp;with&nbsp;(x:=a)&nbsp;in&nbsp;H1.<br/>
&nbsp;&nbsp;unfold&nbsp;compose&nbsp;in&nbsp;H1.<br/>
&nbsp;&nbsp;destruct&nbsp;(m1&nbsp;a)&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">b1</span>|</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;(m2&nbsp;a)&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">b2</span>|</span>.<br/>
<br/>
&nbsp;&nbsp;remember&nbsp;(m&nbsp;b1)&nbsp;as&nbsp;res1;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;remember&nbsp;(m&nbsp;b2)&nbsp;as&nbsp;res2;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;symmetry&nbsp;in&nbsp;Heqres1;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;symmetry&nbsp;in&nbsp;Heqres2.<br/>
&nbsp;&nbsp;destruct&nbsp;(res1)&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">c1</span>|</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;(res2)&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">c2</span>|</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;solve&nbsp;<span class="inlinecode"><span class="id" title="tactic">inversion</span></span> <span class="inlinecode"><span class="id" title="var">H1</span></span>.<br/>
&nbsp;&nbsp;inversion&nbsp;H1;&nbsp;subst&nbsp;c1.<br/>
&nbsp;&nbsp;apply&nbsp;(H2&nbsp;b1&nbsp;b2)&nbsp;in&nbsp;Heqres1;&nbsp;crush.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;contradiction&nbsp;H3.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;apply&nbsp;functional_extensionality;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;intros&nbsp;a.<br/>
&nbsp;&nbsp;<br/>
Qed.*)</span><br/>

<br/>
</div>

<div class="doc">
This theorem is not currently provable since there is not restriction on what the fresh variables could be. I can change this so that the fresh variables are deterministic during adaptation 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Parameter</span> <a name="adaptation_unique"><span class="id" title="axiom">adaptation_unique</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ1 σ2 σ, <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.chainmail.html#c584860a7433cfe48230c0e815b372e2"><span class="id" title="notation">◁</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.chainmail.html#c584860a7433cfe48230c0e815b372e2"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ', <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.chainmail.html#c584860a7433cfe48230c0e815b372e2"><span class="id" title="notation">◁</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.chainmail.html#c584860a7433cfe48230c0e815b372e2"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_properties.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">adapt_rewrite</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H1</span> : ?σ1 <a class="idref" href="com.chainmail.chainmail.html#c584860a7433cfe48230c0e815b372e2"><span class="id" title="notation">◁</span></a> ?σ2 <a class="idref" href="com.chainmail.chainmail.html#c584860a7433cfe48230c0e815b372e2"><span class="id" title="notation">≜</span></a> ?σ, <span class="id" title="var">H2</span> : ?σ1 <a class="idref" href="com.chainmail.chainmail.html#c584860a7433cfe48230c0e815b372e2"><span class="id" title="notation">◁</span></a> ?σ2 <a class="idref" href="com.chainmail.chainmail.html#c584860a7433cfe48230c0e815b372e2"><span class="id" title="notation">≜</span></a> ?σ' |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="com.chainmail.loo_properties.html#adaptation_unique"><span class="id" title="axiom">adaptation_unique</span></a> σ1 σ2 σ <span class="id" title="var">H1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reductions_transitive"><span class="id" title="lemma">pair_reductions_transitive</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ3, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.loo_properties.html#e12536cea4738a3b52fe7745b6ebd1cf"><span class="id" title="variable">σ3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.loo_properties.html#e12536cea4738a3b52fe7745b6ebd1cf"><span class="id" title="variable">σ3</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*Lemma&nbsp;notin_updates&nbsp;:<br/>
&nbsp;&nbsp;forall&nbsp;{A&nbsp;B&nbsp;:&nbsp;Type}&nbsp;`{Eq&nbsp;A}&nbsp;zs&nbsp;zs'&nbsp;(Zs&nbsp;:&nbsp;list&nbsp;(A&nbsp;*&nbsp;A)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;zip&nbsp;zs&nbsp;zs'&nbsp;Zs&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;forall&nbsp;z,&nbsp;~&nbsp;In&nbsp;z&nbsp;zs&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forall&nbsp;(β&nbsp;β'&nbsp;:&nbsp;partial_map&nbsp;A&nbsp;B),&nbsp;updates&nbsp;Zs&nbsp;β&nbsp;β'&nbsp;z&nbsp;=&nbsp;β&nbsp;z.<br/>
Proof.<br/>
&nbsp;&nbsp;intros&nbsp;A&nbsp;B&nbsp;HeqClass&nbsp;zs;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;induction&nbsp;zs;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;intros&nbsp;zs'&nbsp;Zs&nbsp;Hzip;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;Hzip;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;subst;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;intros;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;simpl;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
<br/>
&nbsp;&nbsp;destruct&nbsp;(eq_dec&nbsp;z&nbsp;a)&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">Heq</span>|<span class="id" title="var">Hneq</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">subst</span>;</span> <span class="inlinecode"><span class="id" title="var">contradiction</span></span> <span class="inlinecode"><span class="id" title="var">H</span>;</span> <span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">in_eq</span></span>
    <span class="inlinecode">|<span class="id" title="tactic">rewrite</span></span> <span class="inlinecode"><span class="id" title="var">neq_eqb</span>;</span> <span class="inlinecode"><span class="id" title="tactic">auto</span>;</span>
     <span class="inlinecode"><span class="id" title="tactic">eapply</span></span> <span class="inlinecode"><span class="id" title="var">IHzs</span>;</span> <span class="inlinecode"><span class="id" title="tactic">auto</span>;</span>
     <span class="inlinecode">[<span class="id" title="tactic">inversion</span></span> <span class="inlinecode"><span class="id" title="var">Hzip</span>;</span> <span class="inlinecode"><span class="id" title="tactic">eauto</span></span>
     <span class="inlinecode">|<span class="id" title="tactic">intro</span></span> <span class="inlinecode"><span class="id" title="var">Hcontra</span>;</span> <span class="inlinecode"><span class="id" title="var">contradiction</span></span> <span class="inlinecode"><span class="id" title="var">H</span>;</span> <span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">in_cons</span>;</span> <span class="inlinecode"><span class="id" title="tactic">auto</span>]</span>.<br/>
Qed.*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="adaptation_preserves_mapping"><span class="id" title="lemma">adaptation_preserves_mapping</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ1 σ2 σ, <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.chainmail.html#c584860a7433cfe48230c0e815b372e2"><span class="id" title="notation">◁</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.chainmail.html#c584860a7433cfe48230c0e815b372e2"><span class="id" title="notation">≜</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">z</span> (<span class="id" title="var">v</span> : <a class="idref" href="com.chainmail.loo_def.html#value"><span class="id" title="inductive">value</span></a>), <a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_properties.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.function_operations.html#extend_some_2"><span class="id" title="lemma">extend_some_2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.function_operations.html#disjoint_dom_symmetry"><span class="id" title="lemma">disjoint_dom_symmetry</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.function_operations.html#disjoint_composition"><span class="id" title="lemma">disjoint_composition</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;fresh&nbsp;&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="update_fresh_preserves_map"><span class="id" title="lemma">update_fresh_preserves_map</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> σ <span class="id" title="var">A</span>, <a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">fresh_x_</span></a><a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">z</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span>, <a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a> (<a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v'"><span class="id" title="variable">v'</span></a>) <a class="idref" href="com.chainmail.loo_properties.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> σ <span class="id" title="var">A</span> <span class="id" title="var">Hfrsh</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hfrsh</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">fresh_x_</span></a><a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">σ</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_exists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">map_rewrite</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hb</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">z</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eq_auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_and_elim"><span class="id" title="lemma">fresh_and_elim</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> σ <span class="id" title="var">A1</span> <span class="id" title="var">A2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> (<a class="idref" href="com.chainmail.loo_properties.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="com.chainmail.chainmail.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A2"><span class="id" title="variable">A2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A2"><span class="id" title="variable">A2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">chainmail_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_and_intro"><span class="id" title="lemma">fresh_and_intro</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> σ <span class="id" title="var">A1</span> <span class="id" title="var">A2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A2"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> (<a class="idref" href="com.chainmail.loo_properties.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="com.chainmail.chainmail.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A2"><span class="id" title="variable">A2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hb</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.chainmail.html#frsh"><span class="id" title="constructor">frsh</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">chainmail_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_arr_elim"><span class="id" title="lemma">fresh_arr_elim</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> σ <span class="id" title="var">A1</span> <span class="id" title="var">A2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> (<a class="idref" href="com.chainmail.loo_properties.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="com.chainmail.chainmail.html#b7ac1e3e03565b530c0280c1915a2046"><span class="id" title="notation">⇒</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A2"><span class="id" title="variable">A2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A2"><span class="id" title="variable">A2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">chainmail_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_arr_intro"><span class="id" title="lemma">fresh_arr_intro</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> σ <span class="id" title="var">A1</span> <span class="id" title="var">A2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A2"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> (<a class="idref" href="com.chainmail.loo_properties.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="com.chainmail.chainmail.html#b7ac1e3e03565b530c0280c1915a2046"><span class="id" title="notation">⇒</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A2"><span class="id" title="variable">A2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hb</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.chainmail.html#frsh"><span class="id" title="constructor">frsh</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">chainmail_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_all_elim"><span class="id" title="lemma">fresh_all_elim</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> σ <span class="id" title="var">A</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> (<a class="idref" href="com.chainmail.chainmail.html#1b5dd9afe62ae17db7dc92260477c514"><span class="id" title="notation">∀</span></a><a class="idref" href="com.chainmail.chainmail.html#1b5dd9afe62ae17db7dc92260477c514"><span class="id" title="notation">x</span></a><a class="idref" href="com.chainmail.chainmail.html#1b5dd9afe62ae17db7dc92260477c514"><span class="id" title="notation">∙</span></a><a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">chainmail_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_all_intro"><span class="id" title="lemma">fresh_all_intro</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> σ <span class="id" title="var">A</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> (<a class="idref" href="com.chainmail.chainmail.html#1b5dd9afe62ae17db7dc92260477c514"><span class="id" title="notation">∀</span></a><a class="idref" href="com.chainmail.chainmail.html#1b5dd9afe62ae17db7dc92260477c514"><span class="id" title="notation">x</span></a><a class="idref" href="com.chainmail.chainmail.html#1b5dd9afe62ae17db7dc92260477c514"><span class="id" title="notation">∙</span></a><a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">chainmail_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_notin"><span class="id" title="lemma">fresh_notin</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> σ <span class="id" title="var">A1</span> <span class="id" title="var">A2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#notin_Ax"><span class="id" title="inductive">notin_Ax</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A2"><span class="id" title="variable">A2</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.chainmail.html#fresh_x"><span class="id" title="inductive">fresh_x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A2"><span class="id" title="variable">A2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> σ <span class="id" title="var">A1</span> <span class="id" title="var">A2</span> <span class="id" title="var">Hfrsh</span> <span class="id" title="var">Hnotin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hfrsh</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">chainmail_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;update&nbsp;map&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="2a36696d69597c170ea877c67134f191"><span class="id" title="lemma">map_update_</span></a><a name="2a36696d69597c170ea877c67134f191"><span class="id" title="lemma">σ</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ <span class="id" title="var">z</span> <span class="id" title="var">v</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">ϕ</span> ψ<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6c4dbec1c9102e1076a6a6ca04576cf0"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="com.chainmail.loo_properties.html#6f9d76259b18aa9d2bd5fca149b789ed"><span class="id" title="variable">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a> (<a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">update_</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">σ</span></a><a class="idref" href="com.chainmail.loo_def.html#f4dcd1c0296092d00fafd88bdca50422"><span class="id" title="definition">_map</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="com.chainmail.loo_properties.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#v"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a>, <a class="idref" href="com.chainmail.loo_def.html#configMapStack"><span class="id" title="instance">configMapStack</span></a>, <a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a>, <a class="idref" href="com.chainmail.loo_def.html#stackMap"><span class="id" title="instance">stackMap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ <span class="id" title="keyword">as</span> [χ ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ψ <span class="id" title="keyword">as</span> [|<span class="id" title="var">ϕ</span> ψ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ϕ</span> <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> [ψ <span class="id" title="var">Ha</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a>, <a class="idref" href="com.chainmail.common.html#t_update"><span class="id" title="definition">t_update</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#eqb_refl"><span class="id" title="method">eqb_refl</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reduction_preserves_addr_classes"><span class="id" title="lemma">reduction_preserves_addr_classes</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">α</span> : <a class="idref" href="com.chainmail.loo_def.html#addr"><span class="id" title="inductive">addr</span></a>) <span class="id" title="var">o1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o1"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">o2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o2"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#cname"><span class="id" title="projection">cname</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o2"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#cname"><span class="id" title="projection">cname</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o1"><span class="id" title="variable">o1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a>, <a class="idref" href="com.chainmail.loo_def.html#configMapHeap"><span class="id" title="instance">configMapHeap</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;asgn&nbsp;fld*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">α0</span> <span class="id" title="var">α</span>) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hneq</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">subst</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> {| <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">cname</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">:=</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">cname</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">o</span></a><a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">;</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">flds</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">:=</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">update</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">f</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">v</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">(</span></a><a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">flds</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">o</span></a><a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">);</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">meths</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">:=</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">meths</span></a> <a class="idref" href="com.chainmail.loo_def.html#new"><span class="id" title="constructor">o</span></a> |};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a>, <a class="idref" href="com.chainmail.common.html#t_update"><span class="id" title="definition">t_update</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#eqb_refl"><span class="id" title="method">eqb_refl</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">o1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a>, <a class="idref" href="com.chainmail.common.html#t_update"><span class="id" title="definition">t_update</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#neq_eqb"><span class="id" title="method">neq_eqb</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.common.html#eq_dec"><span class="id" title="method">eq_dec</span></a> <span class="id" title="var">α0</span> <span class="id" title="var">α</span>) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hneq</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="com.chainmail.loo_properties.html#fresh_heap_some_contradiction"><span class="id" title="lemma">fresh_heap_some_contradiction</span></a>; <span class="id" title="tactic">eauto</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">o1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a>, <a class="idref" href="com.chainmail.common.html#t_update"><span class="id" title="definition">t_update</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="com.chainmail.common.html#neq_eqb"><span class="id" title="method">neq_eqb</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">reduction_preserves_addr_classes</span> : <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="com.chainmail.loo_properties.html#reduction_preserves_addr_classes"><span class="id" title="lemma">reduction_preserves_addr_classes</span></a> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reductions_preserves_addr_classes"><span class="id" title="lemma">reductions_preserves_addr_classes</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#bf05765bc38bec1d1cfe66aedd971f5e"><span class="id" title="notation">⤳…</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">α</span> : <a class="idref" href="com.chainmail.loo_def.html#addr"><span class="id" title="inductive">addr</span></a>) <span class="id" title="var">o1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o1"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">o2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o2"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#cname"><span class="id" title="projection">cname</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o2"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#cname"><span class="id" title="projection">cname</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o1"><span class="id" title="variable">o1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHred</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">α</span>:=<span class="id" title="var">α</span>)(<span class="id" title="var">o1</span>:=<span class="id" title="var">o1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">o</span> <span class="id" title="var">Hclass</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="com.chainmail.loo_properties.html#reduction_preserves_addr_classes"><span class="id" title="lemma">reduction_preserves_addr_classes</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">o'</span> <span class="id" title="var">Hclass1</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">reductions_preserves_addr_classes</span> : <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="com.chainmail.loo_properties.html#reductions_preserves_addr_classes"><span class="id" title="lemma">reductions_preserves_addr_classes</span></a> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reduction_preserves_addr_classes"><span class="id" title="lemma">pair_reduction_preserves_addr_classes</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">α</span> : <a class="idref" href="com.chainmail.loo_def.html#addr"><span class="id" title="inductive">addr</span></a>) <span class="id" title="var">o1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o1"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">o2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o2"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#cname"><span class="id" title="projection">cname</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o2"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#cname"><span class="id" title="projection">cname</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o1"><span class="id" title="variable">o1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pair_reduction_preserves_addr_classes</span> : <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="com.chainmail.loo_properties.html#pair_reduction_preserves_addr_classes"><span class="id" title="lemma">pair_reduction_preserves_addr_classes</span></a> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reductions_preserves_addr_classes"><span class="id" title="lemma">pair_reductions_preserves_addr_classes</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_def.html#4564b0d4de338dc334472aa0473322c3"><span class="id" title="notation">⤳⋆</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">α</span> : <a class="idref" href="com.chainmail.loo_def.html#addr"><span class="id" title="inductive">addr</span></a>) <span class="id" title="var">o1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o1"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">o2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.common.html#mapp"><span class="id" title="definition">mapp</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="com.chainmail.loo_properties.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o2"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_def.html#cname"><span class="id" title="projection">cname</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o2"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_def.html#cname"><span class="id" title="projection">cname</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o1"><span class="id" title="variable">o1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ2 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">loo_db</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="com.chainmail.loo_properties.html#pair_reduction_preserves_addr_classes"><span class="id" title="lemma">pair_reduction_preserves_addr_classes</span></a> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ1 σ)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">α</span>:=<span class="id" title="var">α</span>)(<span class="id" title="var">o1</span>:=<span class="id" title="var">o1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">o</span> <span class="id" title="var">Hclass1</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">IHHred</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">o'</span> <span class="id" title="var">Hclass2</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">andDestruct</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">crush</span>.<br/>

<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">pair_reductions_preserves_addr_classes</span> : <span class="id" title="var">loo_db</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="com.chainmail.loo_properties.html#pair_reductions_preserves_addr_classes"><span class="id" title="lemma">pair_reductions_preserves_addr_classes</span></a> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="comment">(*Lemma&nbsp;reductions_implies_method_call&nbsp;:<br/>
&nbsp;&nbsp;forall&nbsp;M1&nbsp;M2&nbsp;σ1&nbsp;σ2,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;M1&nbsp;⦂&nbsp;M2&nbsp;⦿&nbsp;σ1&nbsp;⤳…&nbsp;σ2&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;σ_wf&nbsp;σ1&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;exists&nbsp;χ&nbsp;ϕ&nbsp;ψ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ1&nbsp;=&nbsp;(χ,&nbsp;ϕ::ψ)&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((exists&nbsp;x&nbsp;y&nbsp;m&nbsp;ps,&nbsp;(exists&nbsp;C&nbsp;CDef,&nbsp;classOf&nbsp;y&nbsp;σ1&nbsp;C&nbsp;/\&nbsp;M1&nbsp;C&nbsp;=&nbsp;Some&nbsp;CDef&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(exists&nbsp;zs&nbsp;s,&nbsp;CDef.(c_meths)&nbsp;m&nbsp;=&nbsp;Some&nbsp;(zs,&nbsp;s)))&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(contn&nbsp;ϕ&nbsp;=&nbsp;c_stmt&nbsp;(s_meth&nbsp;x&nbsp;y&nbsp;m&nbsp;ps)&nbsp;\/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exists&nbsp;s,&nbsp;contn&nbsp;ϕ&nbsp;=&nbsp;c_stmt&nbsp;(s_stmts&nbsp;(s_meth&nbsp;x&nbsp;y&nbsp;m&nbsp;ps)&nbsp;s)))&nbsp;\/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(exists&nbsp;x,&nbsp;(exists&nbsp;C,&nbsp;classOf&nbsp;this&nbsp;σ1&nbsp;C&nbsp;/\&nbsp;M1&nbsp;C&nbsp;=&nbsp;None)&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(contn&nbsp;ϕ&nbsp;=&nbsp;c_stmt&nbsp;(s_rtrn&nbsp;x)&nbsp;\/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exists&nbsp;s,&nbsp;contn&nbsp;ϕ&nbsp;=&nbsp;c_stmt&nbsp;(s_stmts&nbsp;(s_rtrn&nbsp;x)&nbsp;s)))).<br/>
Proof.<br/>
&nbsp;&nbsp;intros&nbsp;M1&nbsp;M2&nbsp;σ1&nbsp;σ2&nbsp;Hred;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;induction&nbsp;Hred;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;inversion&nbsp;H0;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;subst;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
<br/>
&nbsp;&nbsp;-&nbsp;<span class="comment">(*meth&nbsp;call*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;exists&nbsp;χ,&nbsp;ϕ,&nbsp;ψ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;split;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">auto</span>|<span class="id" title="tactic">left</span>;</span>
        <span class="inlinecode"><span class="id" title="tactic">exists</span></span> <span class="inlinecode"><span class="id" title="var">x</span>,</span> <span class="inlinecode"><span class="id" title="var">y</span>,</span> <span class="inlinecode"><span class="id" title="var">m</span>,</span> <span class="inlinecode"><span class="id" title="var">ps</span>;</span> <span class="inlinecode"><span class="id" title="tactic">eauto</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;split;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;exists&nbsp;(cname&nbsp;o),&nbsp;C;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;split;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;(cls_of)&nbsp;with&nbsp;(α:=α)(χ:=χ)(o:=o);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;split;&nbsp;<span class="inlinecode">|<span class="id" title="tactic">eauto</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;H;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;extend&nbsp;in&nbsp;H8.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;remember&nbsp;(M1&nbsp;(cname&nbsp;o))&nbsp;as&nbsp;M1Lookup.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;M1Lookup&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">CDef</span>|</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;(H2&nbsp;(cname&nbsp;o))&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">CDef</span></span> <span class="inlinecode"><span class="id" title="var">HCDef</span></span>;&nbsp;<span class="inlinecode">|<span class="id" title="var">crush</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;cls_of&nbsp;with&nbsp;(α:=α)(χ:=χ)(o:=o);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;remember&nbsp;{|&nbsp;vMap&nbsp;:=&nbsp;update&nbsp;this&nbsp;(v_addr&nbsp;α)&nbsp;(ps&nbsp;∘&nbsp;(vMap&nbsp;ϕ));&nbsp;contn&nbsp;:=&nbsp;c_stmt&nbsp;s&nbsp;|}&nbsp;as&nbsp;ϕ'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;remember&nbsp;{|&nbsp;vMap&nbsp;:=&nbsp;vMap&nbsp;ϕ;&nbsp;contn&nbsp;:=&nbsp;c_hole&nbsp;x&nbsp;s'&nbsp;|}&nbsp;as&nbsp;ϕ''.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;int_x&nbsp;with&nbsp;(ϕ:=ϕ')(ψ:=ϕ''::ψ);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simpl;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;subst&nbsp;ϕ';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simpl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;update,&nbsp;t_update;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;eqb_refl;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;-&nbsp;<span class="comment">(*&nbsp;var&nbsp;asgn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;H7;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simpl&nbsp;in&nbsp;*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;remember&nbsp;(cname&nbsp;o0)&nbsp;as&nbsp;C.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;(H2&nbsp;C)&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">CDef</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;cls_of&nbsp;with&nbsp;(α:=α0)(χ:=χ)(o:=o0);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;int_x&nbsp;with&nbsp;(ψ:=ψ)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ϕ:=update_ϕ_map&nbsp;ϕ&nbsp;x&nbsp;v);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;update_ϕ_map,&nbsp;update,&nbsp;t_update;&nbsp;simpl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;x&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">n</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;n&nbsp;as&nbsp;<span class="inlinecode">|<span class="id" title="var">n'</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">crush</span>|</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;H4;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;simpl&nbsp;in&nbsp;*;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;H11;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simpl&nbsp;in&nbsp;*;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crush.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;H1&nbsp;in&nbsp;H7;&nbsp;crush.<br/>
<br/>
&nbsp;&nbsp;-&nbsp;<span class="comment">(*&nbsp;f&nbsp;asgn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;H7;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simpl&nbsp;in&nbsp;*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;remember&nbsp;(cname&nbsp;o0)&nbsp;as&nbsp;C.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;H2&nbsp;with&nbsp;(C:=C)&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">CDef</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;remember&nbsp;({|&nbsp;cname&nbsp;:=&nbsp;cname&nbsp;o;&nbsp;flds&nbsp;:=&nbsp;update&nbsp;f&nbsp;v&nbsp;(flds&nbsp;o);&nbsp;meths&nbsp;:=&nbsp;meths&nbsp;o&nbsp;|})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;o'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;(eq_dec&nbsp;α0&nbsp;α)&nbsp;as&nbsp;<span class="inlinecode">|<span class="id" title="var">Hneq</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">subst</span></span> <span class="inlinecode"><span class="id" title="var">α0</span>;</span>
       <span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">cls_of</span></span>
         <span class="inlinecode"><span class="id" title="keyword">with</span></span>
           <span class="inlinecode">(<span class="id" title="var">α</span>:=<span class="id" title="var">α</span>)</span>
           <span class="inlinecode">(χ:=<span class="id" title="var">update</span></span> <span class="inlinecode"><span class="id" title="var">α</span></span> <span class="inlinecode"><span class="id" title="var">o'</span></span> <span class="inlinecode">χ)</span>
           <span class="inlinecode">(<span class="id" title="var">o</span>:=<span class="id" title="var">o'</span>);</span>
       <span class="inlinecode"><span class="id" title="tactic">auto</span></span>
      <span class="inlinecode">|<span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">cls_of</span></span>
         <span class="inlinecode"><span class="id" title="keyword">with</span></span>
           <span class="inlinecode">(<span class="id" title="var">α</span>:=<span class="id" title="var">α0</span>)</span>
           <span class="inlinecode">(χ:=<span class="id" title="var">update</span></span> <span class="inlinecode"><span class="id" title="var">α</span></span> <span class="inlinecode"><span class="id" title="var">o'</span></span> <span class="inlinecode">χ)</span>
           <span class="inlinecode">(<span class="id" title="var">o</span>:=<span class="id" title="var">o0</span>);</span>
       <span class="inlinecode"><span class="id" title="tactic">auto</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;apply&nbsp;int_x&nbsp;with&nbsp;(ψ:=ψ)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ϕ:={|&nbsp;vMap&nbsp;:=&nbsp;vMap&nbsp;ϕ;&nbsp;contn&nbsp;:=&nbsp;c_stmt&nbsp;s&nbsp;|});<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simpl;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;H11;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst;&nbsp;simpl&nbsp;in&nbsp;*;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crush.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;update_auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;crush.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;apply&nbsp;int_x&nbsp;with&nbsp;(ψ:=ψ)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ϕ:={|&nbsp;vMap&nbsp;:=&nbsp;vMap&nbsp;ϕ;&nbsp;contn&nbsp;:=&nbsp;c_stmt&nbsp;s&nbsp;|});<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simpl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;H11;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simpl&nbsp;in&nbsp;*;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crush.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;update_auto.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;rewrite&nbsp;H1&nbsp;in&nbsp;H12;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crush.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;-&nbsp;<span class="comment">(*&nbsp;new&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;remember&nbsp;(update&nbsp;α&nbsp;{|&nbsp;cname&nbsp;:=&nbsp;C;&nbsp;flds&nbsp;:=&nbsp;fMap&nbsp;∘&nbsp;(vMap&nbsp;ϕ);&nbsp;meths&nbsp;:=&nbsp;c_meths&nbsp;CDef&nbsp;|}&nbsp;χ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{|&nbsp;vMap&nbsp;:=&nbsp;update&nbsp;x&nbsp;(v_addr&nbsp;α)&nbsp;(vMap&nbsp;ϕ);&nbsp;contn&nbsp;:=&nbsp;c_stmt&nbsp;s&nbsp;|}&nbsp;::&nbsp;ψ)&nbsp;as&nbsp;σ'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(Hthis&nbsp;:&nbsp;has_self_σ&nbsp;σ');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">eapply</span></span> <span class="inlinecode"><span class="id" title="var">reduction_preserves_config_has_self</span>;</span>
       <span class="inlinecode"><span class="id" title="tactic">inversion</span></span> <span class="inlinecode"><span class="id" title="var">H4</span>;</span>
       <span class="inlinecode"><span class="id" title="tactic">subst</span>;</span>
       <span class="inlinecode"><span class="id" title="tactic">eauto</span>|</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;subst;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;Hthis;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;remember&nbsp;{|&nbsp;vMap&nbsp;:=&nbsp;update&nbsp;x&nbsp;(v_addr&nbsp;α)&nbsp;(vMap&nbsp;ϕ);&nbsp;contn&nbsp;:=&nbsp;c_stmt&nbsp;s&nbsp;|}&nbsp;as&nbsp;σ'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(Hin&nbsp;:&nbsp;In&nbsp;σ'&nbsp;(σ'::ψ));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">in_eq</span>|<span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">H11</span></span> <span class="inlinecode"><span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">Hin</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;Hin;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simpl&nbsp;in&nbsp;*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;H10&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">α'</span></span> <span class="inlinecode"><span class="id" title="var">Ha</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;Ha&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">o'</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;andDestruct.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;update,&nbsp;t_update&nbsp;in&nbsp;Ha;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;neq_eqb&nbsp;in&nbsp;Ha;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;(eq_dec&nbsp;α'&nbsp;α)&nbsp;as&nbsp;<span class="inlinecode">|<span class="id" title="var">Hneq</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">subst</span></span>
      <span class="inlinecode">|</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;inversion&nbsp;H4;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;H10;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(Hin'&nbsp;:&nbsp;In&nbsp;ϕ&nbsp;(ϕ::ψ));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">in_eq</span>|<span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">H16</span></span> <span class="inlinecode"><span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">Hin'</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;Hin';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;H15&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">α0</span></span> <span class="inlinecode"><span class="id" title="var">Hx</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;Hx&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">o0</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;andDestruct.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;Ha0&nbsp;in&nbsp;Ha;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;Ha;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;fresh_heap_some_contradiction;&nbsp;eauto.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;unfold&nbsp;update,&nbsp;t_update&nbsp;in&nbsp;Hb;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;neq_eqb&nbsp;in&nbsp;Hb;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remember&nbsp;{|&nbsp;cname&nbsp;:=&nbsp;C;&nbsp;flds&nbsp;:=&nbsp;fMap&nbsp;∘&nbsp;(vMap&nbsp;ϕ);&nbsp;meths&nbsp;:=&nbsp;c_meths&nbsp;CDef&nbsp;|}&nbsp;as&nbsp;oα.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;o'&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">C'</span></span> <span class="inlinecode"><span class="id" title="var">fs</span></span> <span class="inlinecode"><span class="id" title="var">ms</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;(H2&nbsp;C')&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">CDef'</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;remember&nbsp;{|&nbsp;cname&nbsp;:=&nbsp;C';&nbsp;flds&nbsp;:=&nbsp;fs;&nbsp;meths&nbsp;:=&nbsp;ms&nbsp;|}&nbsp;as&nbsp;o'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;cls_of&nbsp;with&nbsp;(α:=α')(χ:=update&nbsp;α&nbsp;oα&nbsp;χ)(o:=o');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;remember&nbsp;{|&nbsp;vMap&nbsp;:=&nbsp;update&nbsp;x&nbsp;(v_addr&nbsp;α)&nbsp;(vMap&nbsp;ϕ);&nbsp;contn&nbsp;:=&nbsp;c_stmt&nbsp;s&nbsp;|}&nbsp;as&nbsp;ϕ'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;int_x&nbsp;with&nbsp;(ψ:=ψ)(ϕ:=ϕ');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst;&nbsp;simpl;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;update,&nbsp;t_update;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;neq_eqb;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;subst;&nbsp;simpl;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;update,&nbsp;t_update;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;repeat&nbsp;map_rewrite.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eq_auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;crush.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;rewrite&nbsp;H1&nbsp;in&nbsp;H10;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">crush</span>|</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remember&nbsp;{|&nbsp;cname&nbsp;:=&nbsp;C';&nbsp;flds&nbsp;:=&nbsp;fs;&nbsp;meths&nbsp;:=&nbsp;ms&nbsp;|}&nbsp;as&nbsp;o'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;cls_of&nbsp;with&nbsp;(α:=α')(χ:=χ)(o:=o');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode">|<span class="id" title="var">crush</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;int_x&nbsp;with&nbsp;(ϕ:=ϕ)(ψ:=ψ);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
<br/>
&nbsp;&nbsp;-&nbsp;<span class="comment">(*&nbsp;ret&nbsp;1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;rename&nbsp;H3&nbsp;into&nbsp;Hwf;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;Hwf;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;exists&nbsp;χ,&nbsp;ϕ,&nbsp;(ϕ'::ψ);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;split;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">auto</span>|<span class="id" title="tactic">right</span>;</span> <span class="inlinecode"><span class="id" title="tactic">eauto</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;exists&nbsp;x;&nbsp;split;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;H3;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(Hin&nbsp;:&nbsp;In&nbsp;ϕ&nbsp;(ϕ&nbsp;::&nbsp;ϕ'&nbsp;::&nbsp;ψ));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">in_eq</span>|<span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">H12</span></span> <span class="inlinecode"><span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">Hin</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;Hin;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;H11&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">α'</span></span> <span class="inlinecode"><span class="id" title="var">Htmp</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;Htmp&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">o</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;andDestruct.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(classOf&nbsp;this&nbsp;(χ,&nbsp;ϕ::ϕ'::ψ)&nbsp;(cname&nbsp;o)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;cls_of&nbsp;with&nbsp;(α:=α')(χ:=χ)(o:=o);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;int_x&nbsp;with&nbsp;(ψ:=ϕ'&nbsp;::&nbsp;ψ)(ϕ:=ϕ);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;eauto.<br/>
<br/>
&nbsp;&nbsp;-&nbsp;<span class="comment">(*&nbsp;ret&nbsp;1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;rename&nbsp;H3&nbsp;into&nbsp;Hwf;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;Hwf;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;exists&nbsp;χ,&nbsp;ϕ,&nbsp;(ϕ'::ψ);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;split;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">auto</span>|<span class="id" title="tactic">right</span>;</span> <span class="inlinecode"><span class="id" title="tactic">eauto</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;exists&nbsp;x;&nbsp;split;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;H3;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(Hin&nbsp;:&nbsp;In&nbsp;ϕ&nbsp;(ϕ&nbsp;::&nbsp;(ϕ'::ψ)));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">in_eq</span>|<span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">H12</span></span> <span class="inlinecode"><span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">Hin</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;Hin;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;H11&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">α'</span></span> <span class="inlinecode"><span class="id" title="var">Htmp</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;Htmp&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">o</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;andDestruct.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(classOf&nbsp;this&nbsp;(χ,&nbsp;ϕ::ϕ'::ψ)&nbsp;(cname&nbsp;o)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;cls_of&nbsp;with&nbsp;(α:=α')(χ:=χ)(o:=o);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;int_x&nbsp;with&nbsp;(ψ:=ϕ'::ψ)(ϕ:=ϕ);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;eauto.<br/>
Qed.<br/>
<br/>
Hint&nbsp;Resolve&nbsp;reductions_implies_method_call&nbsp;:&nbsp;loo_db.*)</span><br/>

<br/>
<span class="comment">(*Lemma&nbsp;pair_reduction_implies_method_call&nbsp;:<br/>
&nbsp;&nbsp;forall&nbsp;M1&nbsp;M2&nbsp;σ1&nbsp;σ2,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;M1&nbsp;⦂&nbsp;M2&nbsp;⦿&nbsp;σ1&nbsp;⤳&nbsp;σ2&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;σ_wf&nbsp;σ1&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;exists&nbsp;χ&nbsp;ϕ&nbsp;ψ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ1&nbsp;=&nbsp;(χ,&nbsp;ϕ::ψ)&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((exists&nbsp;x&nbsp;y&nbsp;m&nbsp;ps,&nbsp;(exists&nbsp;C&nbsp;CDef,&nbsp;classOf&nbsp;y&nbsp;σ1&nbsp;C&nbsp;/\&nbsp;M1&nbsp;C&nbsp;=&nbsp;Some&nbsp;CDef&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(exists&nbsp;zs&nbsp;s,&nbsp;CDef.(c_meths)&nbsp;m&nbsp;=&nbsp;Some&nbsp;(zs,&nbsp;s)))&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(contn&nbsp;ϕ&nbsp;=&nbsp;c_stmt&nbsp;(s_meth&nbsp;x&nbsp;y&nbsp;m&nbsp;ps)&nbsp;\/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exists&nbsp;s,&nbsp;contn&nbsp;ϕ&nbsp;=&nbsp;c_stmt&nbsp;(s_stmts&nbsp;(s_meth&nbsp;x&nbsp;y&nbsp;m&nbsp;ps)&nbsp;s)))&nbsp;\/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(exists&nbsp;x,&nbsp;(exists&nbsp;C,&nbsp;classOf&nbsp;this&nbsp;σ1&nbsp;C&nbsp;/\&nbsp;M1&nbsp;C&nbsp;=&nbsp;None)&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(contn&nbsp;ϕ&nbsp;=&nbsp;c_stmt&nbsp;(s_rtrn&nbsp;x)&nbsp;\/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exists&nbsp;s,&nbsp;contn&nbsp;ϕ&nbsp;=&nbsp;c_stmt&nbsp;(s_stmts&nbsp;(s_rtrn&nbsp;x)&nbsp;s)))).<br/>
Proof.<br/>
&nbsp;&nbsp;intros&nbsp;M1&nbsp;M2&nbsp;σ1&nbsp;σ2&nbsp;Hred;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;induction&nbsp;Hred;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;intros;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;eauto&nbsp;with&nbsp;loo_db.<br/>
Qed.<br/>
<br/>
Hint&nbsp;Resolve&nbsp;pair_reduction_implies_method_call&nbsp;:&nbsp;loo_db.*)</span><br/>

<br/>
<span class="id" title="keyword">Parameter</span> <a name="fresh_exists_for_expression"><span class="id" title="axiom">fresh_exists_for_expression</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">e</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.loo_def.html#notin_exp"><span class="id" title="inductive">notin_exp</span></a> <a class="idref" href="com.chainmail.loo_properties.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">Parameter</span> <a name="fresh_exists_for_assertion"><span class="id" title="axiom">fresh_exists_for_assertion</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.chainmail.html#notin_Ax"><span class="id" title="inductive">notin_Ax</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">Parameter</span> <a name="fresh_x_exists_for_finite_config"><span class="id" title="axiom">fresh_x_exists_for_finite_config</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ, <a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">finite_</span></a><a class="idref" href="com.chainmail.loo_def.html#eef4279079e636baab7c87f7a243ecd6"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">fresh_x_</span></a><a class="idref" href="com.chainmail.chainmail.html#a8a3664cce9a4fb2bdd3f9ebced686cc"><span class="id" title="definition">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Parameter</span> <a name="fresh_address_rename_equality_heap"><span class="id" title="axiom">fresh_address_rename_equality_heap</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">α1</span> <span class="id" title="var">α2</span> (χ : <a class="idref" href="com.chainmail.loo_def.html#heap"><span class="id" title="definition">heap</span></a>),  <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">o</span>, <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a> <a class="idref" href="com.chainmail.loo_properties.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a> <a class="idref" href="com.chainmail.loo_properties.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a> <a class="idref" href="com.chainmail.loo_properties.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Parameter</span> <a name="fresh_address_rename_equality_state"><span class="id" title="axiom">fresh_address_rename_equality_state</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">α1</span> <span class="id" title="var">α2</span> (χ : <a class="idref" href="com.chainmail.loo_def.html#heap"><span class="id" title="definition">heap</span></a>),  <a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#cc5ca45a7ef59e588af3bf66d6f125ef"><span class="id" title="variable">χ</span></a> <a class="idref" href="com.chainmail.loo_properties.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">m</span> (<span class="id" title="var">x</span>:<a class="idref" href="com.chainmail.common.html#var"><span class="id" title="inductive">var</span></a>), <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="com.chainmail.loo_def.html#v_addr"><span class="id" title="constructor">v_addr</span></a> <a class="idref" href="com.chainmail.loo_properties.html#81245be0cd0290b27f054a4f8e26ea57"><span class="id" title="variable">α1</span></a>) <a class="idref" href="com.chainmail.loo_properties.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.common.html#update"><span class="id" title="definition">update</span></a> <a class="idref" href="com.chainmail.loo_properties.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="com.chainmail.loo_def.html#v_addr"><span class="id" title="constructor">v_addr</span></a> <a class="idref" href="com.chainmail.loo_properties.html#f785883c1a30fa39474b32b98dd1242f"><span class="id" title="variable">α2</span></a>) <a class="idref" href="com.chainmail.loo_properties.html#m"><span class="id" title="variable">m</span></a>.<br/>

<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reduction_unique"><span class="id" title="lemma">reduction_unique</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M</span> σ σ1, <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ2, <a class="idref" href="com.chainmail.loo_properties.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">∙</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#67e3ffb369f207e5010d0d8d38e8eb50"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> σ σ1 <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;meth&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H9</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H8</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H10</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">interpretation_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;vAssgn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H8</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H10</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H11</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H11</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">interpretation_rewrite</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;fAssgn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H11</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H12</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H13</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">interpretation_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;new&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H9</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H11</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H12</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H12</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H1</span> : <a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">fresh_</span></a><a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">χ</span></a> ?χ ?<span class="id" title="var">αa</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">H2</span> : <a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">fresh_</span></a><a class="idref" href="com.chainmail.loo_def.html#ef481509705fdfd180207fb6ca20fb83"><span class="id" title="inductive">χ</span></a> ?χ ?<span class="id" title="var">αb</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="com.chainmail.loo_properties.html#fresh_heap_unique"><span class="id" title="lemma">fresh_heap_unique</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">α1</span>:=<span class="id" title="var">αa</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ret1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H5</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">interpretation_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H5</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">interpretation_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>

<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">reduction_unique</span> : <span class="id" title="var">loo_db</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pair_reduction_unique"><span class="id" title="lemma">pair_reduction_unique</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> σ σ1, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> σ2, <a class="idref" href="com.chainmail.loo_properties.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦂</span></a> <a class="idref" href="com.chainmail.loo_properties.html#M2"><span class="id" title="variable">M2</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⦿</span></a> <a class="idref" href="com.chainmail.loo_properties.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="com.chainmail.loo_def.html#400139144b0aa6b3b29c58b97cf21976"><span class="id" title="notation">⤳</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="com.chainmail.loo_properties.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="com.chainmail.loo_properties.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*<br/>
Lemma&nbsp;pair_reduction_unique&nbsp;:<br/>
&nbsp;&nbsp;forall&nbsp;M1&nbsp;M2&nbsp;σ&nbsp;σ1,&nbsp;M1&nbsp;⦂&nbsp;M2&nbsp;⦿&nbsp;σ&nbsp;⤳&nbsp;σ1&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forall&nbsp;σ2,&nbsp;M1&nbsp;⦂&nbsp;M2&nbsp;⦿&nbsp;σ&nbsp;⤳&nbsp;σ2&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ2&nbsp;=&nbsp;σ1.<br/>
Proof.<br/>
&nbsp;&nbsp;intros&nbsp;M1&nbsp;M2&nbsp;σ&nbsp;σ1&nbsp;Hred;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;induction&nbsp;Hred;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;intros;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;eauto.<br/>
&nbsp;&nbsp;inversion&nbsp;H3;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
Qed.*)</span></div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
