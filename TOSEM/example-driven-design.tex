%proposed replacement for discussion

%\kjx{could be two subsetions or one section}

%\subsection{Examplars}

The design of \Chainmail was guided by the study of a sequence of
exemplars taken from the object-capability literature and the smart
contracts world:

\begin{enumerate}
\item \textbf{Bank} \cite{arnd18} - Bank and accounts as described in
Section~\ref{sect:motivate:Bank}, with two different implementations given in appendix C
\item
\textbf{ERC20} \cite{ERC20} - Ethereum-based token contract
\item
\textbf{DAO} \cite{Dao,DaoBug} - Ethereum contract for Decentralised Autonomous
Organisation
\item
\textbf{DOM} \cite{dd,ddd} - Restricting access to browser Domain Object Model\\
\end{enumerate}\vspace{-1em}

\subsection{Authorising ERC20}
\label{sect:example:ERC20}
{\input{ERC20}}

\subsubsection{ERC20, the traditional specification}
\label{ERC20:appendix}
\input{ERC20.appendix.tex}

\subsection{Defending the DAO}
\label{Dao:appendix}
\input{DAO}

\subsection{Attenuating the DOM}
\label{sect:example:DOM}
\input{DOM}



%\subsection{Model}
\section{Model}
\label{sect:model}

We have constructed a Coq model\footnote{A current model can be found at: https://github.com/sophiaIC/HolisticSpecifications} \cite{coq} of the core of the Chainmail
specification language, along with the underlying \LangOO language.
Our formalism is organised as follows:
\begin{enumerate}
\item
The \LangOO Language: a class based, object oriented language with mutable references.
\item
Chainmail: The full assertion syntax and semantics defined in Definitions \ref{def:execution:internal:external}, \ref{def:arise}, \ref{def:valid:assertion:access}, \ref{def:valid:assertion:control}, \ref{def:valid:assertion:view}, \ref{def:restrict}, \ref{def:valid:assertion:space}, \ref{def:config:adapt}, \ref{def:valid:assertion:time} and \ref{def:module_satisfies}.
\item
\LangOO Properties: Secondary properties of the loo language that aid in reasoning about its semantics.
\item
Chainmail Properties: The core properties defined on the semantics of Chainmail.
\end{enumerate}

%We also formalise several of the properties defined in this paper. 
\sophia{In the associated appendix} (see Appendix \ref{sect:coq}) we list and present the properties of Chainmail we have formalised in Coq.
We have proven that Chainmail obeys much of the properties of classical logic. While we formalise most of the underlying semantics, we make several assumptions in our Coq formalism: (i) the law of the excluded middle,  a property that is well known to be unprovable in constructive logics, and (ii) the equality of variable maps and heaps down to renaming. Coq formalisms often require fairly verbose definitions and proofs of properties involving variable substitution and renaming, and assuming equality down to renaming saves much effort.

More details of the formal foundations of \Chainmail, and the model,
are also in appendices \cite{examples}.

